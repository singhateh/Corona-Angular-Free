!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,o=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,l={},u=l.toString,c=l.hasOwnProperty,d=c.toString,f=d.call(Object),h={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},m=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,o,i=(n=n||m).createElement("script");if(i.text=e,t)for(r in v)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[u.call(e)]||"object":typeof e}var x="3.5.1",w=function(e,t){return new w.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!p(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||p(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(u&&r&&(w.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||w.isPlainObject(n)?n:{},o=!1,a[t]=w.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e)||(t=r(e))&&("function"!=typeof(n=c.call(t,"constructor")&&t.constructor)||d.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(C(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(C(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return i(s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var k=function(e){var t,n,r,o,i,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x="sizzle"+1*new Date,w=e.document,C=0,k=0,S=le(),_=le(),T=le(),E=le(),A=function(e,t){return e===t&&(d=!0),0},D={}.hasOwnProperty,N=[],R=N.pop,L=N.push,P=N.push,I=N.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",M="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",$="\\["+F+"*("+M+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+F+"*\\]",j=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),U=new RegExp("^"+F+"*,"+F+"*"),q=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp(F+"|>"),V=new RegExp(j),G=new RegExp("^"+M+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},ae=xe(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{P.apply(N=I.call(w.childNodes),w.childNodes)}catch(t){P={apply:N.length?function(e,t){L.apply(e,I.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,o){var i,s,u,c,d,p,v,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!o&&(f(t),t=t||h,g)){if(11!==w&&(d=Q.exec(e)))if(i=d[1]){if(9===w){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(y&&(u=y.getElementById(i))&&b(t,u)&&u.id===i)return r.push(u),r}else{if(d[2])return P.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!E[e+" "]&&(!m||!m.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===w&&(W.test(e)||q.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(re,oe):t.setAttribute("id",c=x)),s=(p=a(e)).length;s--;)p[s]=(c?"#"+c:":scope")+" "+be(p[s]);v=p.join(",")}try{return P.apply(r,y.querySelectorAll(v)),r}catch(t){E(e,!0)}finally{c===x&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,r,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ue(e){return e[x]=!0,e}function ce(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue(function(t){return t=+t,ue(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!Y.test(e.namespaceURI||t&&t.nodeName||"HTML")},f=se.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:w;return a!=h&&9===a.nodeType&&a.documentElement&&(p=(h=a).documentElement,g=!i(h),w!=h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=ce(function(e){return p.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ce(function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(h.getElementsByClassName),n.getById=ce(function(e){return p.appendChild(e).id=x,!h.getElementsByName||!h.getElementsByName(x).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Z.test(h.querySelectorAll))&&(ce(function(e){var t;p.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+x+"-]").length||m.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(p.compareDocumentPosition),b=t||Z.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==h||e.ownerDocument==w&&b(w,e)?-1:t==h||t.ownerDocument==w&&b(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==h?-1:t==h?1:o?-1:i?1:c?O(c,e)-O(c,t):0;if(o===i)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?fe(a[r],s[r]):a[r]==w?-1:s[r]==w?1:0}),h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&g&&!E[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){E(t,!0)}return 0<se(t,h,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&f(e);var o=r.attrHandle[t.toLowerCase()],i=o&&D.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(A),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return c=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=se.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&-1<o.indexOf(n):"$="===t?n&&o.slice(-n.length)===n:"~="===t?-1<(" "+o.replace(H," ")+" ").indexOf(n):"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(i){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(b=(h=(u=(c=(d=(f=m)[x]||(f[x]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===C&&u[1])&&u[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){c[e]=[C,h,b];break}}else if(y&&(b=h=(u=(c=(d=(f=t)[x]||(f[x]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===C&&u[1]),!1===b)for(;(f=++h&&f&&f[g]||(b=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((c=(d=f[x]||(f[x]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[C,b]),f!==t)););return(b-=o)===r||b%r==0&&0<=b/r}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[x]?o(t):1<o.length?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=O(e,i[a])]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:ue(function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[x]?ue(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return 0<se(e,t).length}}),contains:ue(function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:ue(function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function xe(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=k++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var u,c,d,f=[C,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(d=t[x]||(t[x]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[i])&&u[0]===C&&u[1]===s)return f[2]=u[2];if((c[i]=f)[2]=e(t,n,l))return!0}return!1}}function we(e){return 1<e.length?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ce(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function ke(e,t,n,r,o,i){return r&&!r[x]&&(r=ke(r)),o&&!o[x]&&(o=ke(o,i)),ue(function(i,a,s,l){var u,c,d,f=[],h=[],p=a.length,g=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:Ce(g,f,e,s,l),v=n?o||(i?e:p||r)?[]:a:m;if(n&&n(m,v,s,l),r)for(u=Ce(v,h),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(v[h[c]]=!(m[h[c]]=d));if(i){if(o||e){if(o){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(m[c]=d);o(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&-1<(u=o?O(i,d):f[c])&&(i[u]=!(a[u]=d))}}else v=Ce(v===a?v.splice(p,v.length):v),o?o(null,a,v,l):P.apply(a,v)})}function Se(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,c=xe(function(e){return e===t},s,!0),d=xe(function(e){return-1<O(t,e)},s,!0),f=[function(e,n,r){var o=!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])f=[xe(we(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[x]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return ke(1<l&&we(f),1<l&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<o&&Se(e.slice(l,o)),o<i&&Se(e=e.slice(o)),o<i&&be(e))}f.push(n)}return we(f)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,o,i,a,s,l,u,c=_[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=r.preFilter;s;){for(a in n&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=q.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(o=X[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):_(e,l).slice(0)},s=se.compile=function(e,t){var n,o,i,s,l,c,d=[],p=[],m=T[e+" "];if(!m){for(t||(t=a(e)),n=t.length;n--;)(m=Se(t[n]))[x]?d.push(m):p.push(m);(m=T(e,(o=p,s=0<(i=d).length,l=0<o.length,c=function(e,t,n,a,c){var d,p,m,v=0,y="0",b=e&&[],x=[],w=u,k=e||l&&r.find.TAG("*",c),S=C+=null==w?1:Math.random()||.1,_=k.length;for(c&&(u=t==h||t||c);y!==_&&null!=(d=k[y]);y++){if(l&&d){for(p=0,t||d.ownerDocument==h||(f(d),n=!g);m=o[p++];)if(m(d,t||h,n)){a.push(d);break}c&&(C=S)}s&&((d=!m&&d)&&v--,e&&b.push(d))}if(v+=y,s&&y!==v){for(p=0;m=i[p++];)m(b,x,t,n);if(e){if(0<v)for(;y--;)b[y]||x[y]||(x[y]=R.call(a));x=Ce(x)}P.apply(a,x),c&&!e&&0<x.length&&1<v+i.length&&se.uniqueSort(a)}return c&&(C=S,u=w),b},s?ue(c):c))).selector=e}return m},l=se.select=function(e,t,n,o){var i,l,u,c,d,f="function"==typeof e&&e,h=!o&&a(e=f.selector||e);if(n=n||[],1===h.length){if(2<(l=h[0]=h[0].slice(0)).length&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=X.needsContext.test(e)?0:l.length;i--&&!r.relative[c=(u=l[i]).type];)if((d=r.find[c])&&(o=d(u.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&be(l)))return P.apply(n,o),n;break}}return(f||s(e,h))(o,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=x.split("").sort(A).join("")===x,n.detectDuplicates=!!d,f(),n.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||de(B,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(e);w.find=k,w.expr=k.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=k.uniqueSort,w.text=k.getText,w.isXMLDoc=k.isXML,w.contains=k.contains,w.escapeSelector=k.escape;var S=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&w(e).is(n))break;r.push(e)}return r},_=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=w.expr.match.needsContext;function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return p(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return-1<s.call(t,e)!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,o[t],n);return 1<r?w.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&T.test(e)?w(e):e||[],!1).length}});var N,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(w.merge(this,w.parseHTML(r[1],(t=t instanceof w?t[0]:t)&&t.nodeType?t.ownerDocument||t:m,!0)),A.test(r[1])&&w.isPlainObject(t))for(r in t)p(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=m.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,N=w(m);var L=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&w(e);if(!T.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&w.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?w.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(E(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var o=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=w.filter(r,o)),1<this.length&&(P[e]||w.uniqueSort(o),L.test(e)&&o.reverse()),this.pushStack(o)}});var O=/[^\x20\t\r\n\f]+/g;function B(e){return e}function F(e){throw e}function M(e,t,n,r){var o;try{e&&p(o=e.promise)?o.call(e).done(t).fail(n):e&&p(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){var t;e="string"==typeof e?(t={},w.each(e.match(O)||[],function(e,n){t[n]=!0}),t):w.extend({},e);var n,r,o,i,a=[],s=[],l=-1,u=function(){for(i=i||e.once,o=n=!0;s.length;l=-1)for(r=s.shift();++l<a.length;)!1===a[l].apply(r[0],r[1])&&e.stopOnFalse&&(l=a.length,r=!1);e.memory||(r=!1),n=!1,i&&(a=r?[]:"")},c={add:function(){return a&&(r&&!n&&(l=a.length-1,s.push(r)),function t(n){w.each(n,function(n,r){p(r)?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),r&&!n&&u()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;-1<(n=w.inArray(t,a,n));)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<w.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=r="",this},disabled:function(){return!a},lock:function(){return i=s=[],r||n||(a=r=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),n||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var o=p(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,r,o){var i=0;function a(t,n,r,o){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<i)){if((e=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");p(u=e&&("object"==typeof e||"function"==typeof e)&&e.then)?o?u.call(e,a(i,n,B,o),a(i,n,F,o)):(i++,u.call(e,a(i,n,B,o),a(i,n,F,o),a(i,n,B,n.notifyWith))):(r!==B&&(s=void 0,l=[e]),(o||n.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(u){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(u,c.stackTrace),i<=t+1&&(r!==F&&(s=void 0,l=[u]),n.rejectWith(s,l))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,p(o)?o:B,e.notifyWith)),n[1][3].add(a(0,e,p(t)?t:B)),n[2][3].add(a(0,e,p(r)?r:F))}).promise()},promise:function(e){return null!=e?w.extend(e,o):o}},i={};return w.each(n,function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=1<arguments.length?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(M(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||p(i[n]&&i[n].then)))return a.then();for(;n--;)M(i[n],s(n),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&$.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var j=w.Deferred();function H(){m.removeEventListener("DOMContentLoaded",H),e.removeEventListener("load",H),w.ready()}w.fn.ready=function(e){return j.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0)!==e&&0<--w.readyWait||j.resolveWith(m,[w])}}),w.ready.then=j.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(w.ready):(m.addEventListener("DOMContentLoaded",H),e.addEventListener("load",H));var z=function(e,t,n,r,o,i,a){var s=0,l=e.length,u=null==n;if("object"===b(n))for(s in o=!0,n)z(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,p(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(w(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):i},U=/^-ms-/,q=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function V(e){return e.replace(U,"ms-").replace(q,W)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=w.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[V(t)]=n;else for(r in t)o[V(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(O)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Y=new X,K=new X,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function Q(e,t,n){var r,o;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:J.test(o)?JSON.parse(o):o)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||Y.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=K.get(i),1===i.nodeType&&!Y.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=V(r.slice(5)),Q(i,r,o[r]));Y.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(i&&void 0===t)return void 0!==(n=K.get(i,e))||void 0!==(n=Q(i,e))?n:void 0;this.each(function(){K.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return r=Y.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Y.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=w.queue(e,t=t||"fx"),r=n.length,o=n.shift(),i=w._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){w.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:w.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=w.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Y.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=m.documentElement,oe=function(e){return w.contains(e.ownerDocument,e)},ie={composed:!0};re.getRootNode&&(oe=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===w.css(e,"display")};function se(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},l=s(),u=n&&n[3]||(w.cssNumber[t]?"":"px"),c=e.nodeType&&(w.cssNumber[t]||"px"!==u&&+l)&&te.exec(w.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;a--;)w.style(e,t,c+u),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;w.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var le={};function ue(e,t){for(var n,r,o,i,a,s,l,u=[],c=0,d=e.length;c<d;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(u[c]=Y.get(r,"display")||null,u[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(u[c]=(l=a=i=void 0,a=(o=r).ownerDocument,(l=le[s=o.nodeName])||(i=a.body.appendChild(a.createElement(s)),l=w.css(i,"display"),i.parentNode.removeChild(i),"none"===l&&(l="block"),le[s]=l)))):"none"!==n&&(u[c]="none",Y.set(r,"display",n)));for(c=0;c<d;c++)null!=u[c]&&(e[c].style.display=u[c]);return e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var ce,de,fe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;ce=m.createDocumentFragment().appendChild(m.createElement("div")),(de=m.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),ce.appendChild(de),h.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",h.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,h.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function be(e,t,n,r,o){for(var i,a,s,l,u,c,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((i=e[h])||0===i)if("object"===b(i))w.merge(f,i.nodeType?[i]:i);else if(ye.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(he.exec(i)||["",""])[1].toLowerCase(),a.innerHTML=(l=ge[s]||ge._default)[1]+w.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;w.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",h=0;i=f[h++];)if(r&&-1<w.inArray(i,r))o&&o.push(i);else if(u=oe(i),a=me(d.appendChild(i),"script"),u&&ve(a),n)for(c=0;i=a[c++];)pe.test(i.type||"")&&n.push(i);return d}var xe=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Se(){return!1}function _e(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Se;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,o,r,n)})}function Ee(e,t,n){n?(Y.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,a=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),Y.set(this,t,a),r=n(this,t),this[t](),a!==(i=Y.get(this,t))||r?Y.set(this,t,!1):i={},a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else a.length&&(Y.set(this,t,{value:w.event.trigger(w.extend(a[0],w.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&w.event.add(e,t,ke)}w.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,d,f,h,p,g,m=Y.get(e);if(G(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&w.find.matchesSelector(re,o),n.guid||(n.guid=w.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(O)||[""]).length;u--;)h=g=(s=Ce.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),h&&(d=w.event.special[h]||{},d=w.event.special[h=(o?d.delegateType:d.bindType)||h]||{},c=w.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:p.join(".")},i),(f=l[h])||((f=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,c):f.push(c),w.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,u,c,d,f,h,p,g,m=Y.hasData(e)&&Y.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(O)||[""]).length;u--;)if(h=g=(s=Ce.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=w.event.special[h]||{},f=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)c=f[i],!o&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(i,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||w.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)w.event.remove(e,h+t[u],n,r,!0);w.isEmptyObject(l)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),l=w.event.fix(e),u=(Y.get(this,"events")||Object.create(null))[l.type]||[],c=w.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=w.event.handlers.call(this,l,u),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?-1<w(o,this).index(u):w.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&E(t,"input")&&Ee(t,"click",ke),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&E(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&E(t,"input")&&Y.get(t,"click")||E(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return Ee(this,e,_e),!1},trigger:function(){return Ee(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){w.event.remove(this,e,n,t)})}});var Ae=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,r,o,i,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(o in Y.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)w.event.add(t,o,s[o][n]);K.hasData(e)&&(i=K.access(e),a=w.extend({},i),K.set(t,a))}}function Oe(e,t,n,r){t=i(t);var o,a,s,l,u,c,d=0,f=e.length,g=f-1,m=t[0],v=p(m);if(v||1<f&&"string"==typeof m&&!h.checkClone&&De.test(m))return e.each(function(o){var i=e.eq(o);v&&(t[0]=m.call(this,o,i.html())),Oe(i,t,n,r)});if(f&&(a=(o=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(l=(s=w.map(me(o,"script"),Le)).length;d<f;d++)u=o,d!==g&&(u=w.clone(u,!0,!0),l&&w.merge(s,me(u,"script"))),n.call(e[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,w.map(s,Pe),d=0;d<l;d++)pe.test((u=s[d]).type||"")&&!Y.access(u,"globalEval")&&w.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):y(u.textContent.replace(Ne,""),u,c))}return e}function Be(e,t,n){for(var r,o=t?w.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||w.cleanData(me(r)),r.parentNode&&(n&&oe(r)&&ve(me(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s,l,u,c=e.cloneNode(!0),d=oe(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=me(c),r=0,o=(i=me(e)).length;r<o;r++)s=i[r],"input"===(u=(l=a[r]).nodeName.toLowerCase())&&fe.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(n)for(i=i||me(e),a=a||me(c),r=0,o=i.length;r<o;r++)Ie(i[r],a[r]);else Ie(e,c);return 0<(a=me(c,"script")).length&&ve(a,!d&&me(e,"script")),c},cleanData:function(e){for(var t,n,r,o=w.event.special,i=0;void 0!==(n=e[i]);i++)if(G(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)o[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Oe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return Oe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(he.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],o=w(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),w(o[s])[t](n),a.apply(r,n.get());return this.pushStack(r)}});var Fe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Me=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},$e=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},je=new RegExp(ne.join("|"),"i");function He(e,t,n){var r,o,i,a,s=e.style;return(n=n||Me(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&Fe.test(a)&&je.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),o=36===n(t.width),c.style.position="absolute",i=12===n(c.offsetWidth/3),re.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var r,o,i,a,s,l,u=m.createElement("div"),c=m.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,r,o;return null==s&&(t=m.createElement("table"),n=m.createElement("tr"),r=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",re.appendChild(t).appendChild(n).appendChild(r),o=e.getComputedStyle(n),s=3<parseInt(o.height),re.removeChild(t)),s}}))}();var Ue=["Webkit","Moz","ms"],qe=m.createElement("div").style,We={};function Ve(e){return w.cssProps[e]||We[e]||(e in qe?e:We[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;n--;)if((e=Ue[n]+t)in qe)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=w.css(e,n+ne[a],!0,o)),r?("content"===n&&(l-=w.css(e,"padding"+ne[a],!0,o)),"margin"!==n&&(l-=w.css(e,"border"+ne[a]+"Width",!0,o))):(l+=w.css(e,"padding"+ne[a],!0,o),"padding"!==n?l+=w.css(e,"border"+ne[a]+"Width",!0,o):s+=w.css(e,"border"+ne[a]+"Width",!0,o));return!r&&0<=i&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l}function Qe(e,t,n){var r=Me(e),o=(!h.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),i=o,a=He(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(a)){if(!n)return a;a="auto"}return(!h.boxSizingReliable()&&o||!h.reliableTrDimensions()&&E(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===w.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ze(e,t,n||(o?"border":"content"),i,r,a)+"px"}function et(e,t,n,r,o){return new et.prototype.init(e,t,n,r,o)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=V(t),l=Xe.test(t),u=e.style;if(l||(t=Ve(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];"string"==(i=typeof n)&&(o=te.exec(n))&&o[1]&&(n=se(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=V(t);return Xe.test(t)||(t=Ve(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=He(e,t,r)),"normal"===o&&t in Ke&&(o=Ke[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,r):$e(e,Ye,function(){return Qe(e,t,r)})},set:function(e,n,r){var o,i=Me(e),a=!h.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===w.css(e,"boxSizing",!1,i),l=r?Ze(e,t,r,s,i):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ze(e,t,"border",!1,i)-.5)),l&&(o=te.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Je(0,n,l)}}}),w.cssHooks.marginLeft=ze(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-$e(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ne[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(w.cssHooks[e+t].set=Je)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Me(e),o=t.length;a<o;a++)i[t[a]]=w.css(e,t[a],!1,r);return i}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,1<arguments.length)}}),((w.Tween=et).prototype={constructor:et,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(w.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.pos=t=this.options.duration?w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,nt,rt,ot,it=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(st):e.setTimeout(st,w.fx.interval),w.fx.tick())}function lt(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function ut(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ne[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ct(e,t,n){for(var r,o=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function dt(e,t,n){var r,o,i=0,a=dt.prefilters.length,s=w.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=tt||lt(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=V(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(c,u.opts.specialEasing);i<a;i++)if(r=dt.prefilters[i].call(u,e,c,u.opts))return p(r.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,ct,u),p(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(O);for(var n,r=0,o=e.length;r<o;r++)(dt.tweeners[n=e[r]]=dt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,l,u,c,d="width"in t||"height"in t,f=this,h={},p=e.style,g=e.nodeType&&ae(e),m=Y.get(e,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(it.test(o=t[r])){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;g=!0}h[r]=m&&m[r]||w.style(e,r)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(h))for(r in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=Y.get(e,"display")),"none"===(c=w.css(e,"display"))&&(u?c=u:(ue([e],!0),u=e.style.display||u,c=w.css(e,"display"),ue([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(e,"float")&&(l||(f.done(function(){p.display=u}),null==u&&(u="none"===(c=p.display)?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(g=m.hidden):m=Y.access(e,"fxshow",{display:u}),i&&(m.hidden=!g),g&&ue([e],!0),f.done(function(){for(r in g||ue([e]),Y.remove(e,"fxshow"),h)w.style(e,r,h[r])})),l=ct(g?m[r]:0,r,f),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||p(e)&&e,duration:e,easing:n&&t||t&&!p(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=w.isEmptyObject(e),i=w.speed(t,n,r),a=function(){var t=dt(this,w.extend({},e),i);(o||Y.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=w.timers,a=Y.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&at.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Y.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,o)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){nt||(nt=!0,st())},w.fx.stop=function(){nt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,this.queue(n=n||"fx",function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},rt=m.createElement("input"),ot=m.createElement("select").appendChild(m.createElement("option")),rt.type="checkbox",h.checkOn=""!==rt.value,h.optSelected=ot.selected,(rt=m.createElement("input")).value="t",rt.type="radio",h.radioValue="t"===rt.value;var ft,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?w.prop(e,t,n):(1===i&&w.isXMLDoc(e)||(o=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(O);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=ht[a],ht[a]=o,o=null!=n(e,t,r)?a:null,ht[a]=i),o}});var pt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function mt(e){return(e.match(O)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(O)||[]}w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(e)||(o=w.propHooks[t=w.propFix[t]||t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){return null},set:function(e){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(p(e))return this.each(function(t){w(this).addClass(e.call(this,t,vt(this)))});if((t=yt(e)).length)for(;n=this[l++];)if(o=vt(n),r=1===n.nodeType&&" "+mt(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=mt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(p(e))return this.each(function(t){w(this).removeClass(e.call(this,t,vt(this)))});if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[l++];)if(o=vt(n),r=1===n.nodeType&&" "+mt(o)+" "){for(a=0;i=t[a++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");o!==(s=mt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):p(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,vt(this),t),t)}):this.each(function(){var t,o,i,a;if(r)for(o=0,i=w(this),a=yt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+mt(vt(n))+" ").indexOf(t))return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=p(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,w(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(bt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:mt(w.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=w.makeArray(t),a=o.length;a--;)((r=o[a]).selected=-1<w.inArray(w.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var xt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,r,o){var i,a,s,l,u,d,f,h,v=[r||m],y=c.call(t,"type")?t.type:t,b=c.call(t,"namespace")?t.namespace.split("."):[];if(a=h=s=r=r||m,3!==r.nodeType&&8!==r.nodeType&&!xt.test(y+w.event.triggered)&&(-1<y.indexOf(".")&&(y=(b=y.split(".")).shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:w.makeArray(n,[t]),f=w.event.special[y]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!g(r)){for(xt.test((l=f.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),s=a;s===(r.ownerDocument||m)&&v.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=v[i++])&&!t.isPropagationStopped();)h=a,t.type=1<i?l:f.bindType||y,(d=(Y.get(a,"events")||Object.create(null))[t.type]&&Y.get(a,"handle"))&&d.apply(a,n),(d=u&&a[u])&&d.apply&&G(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!G(r)||u&&p(r[y])&&!g(r)&&((s=r[u])&&(r[u]=null),w.event.triggered=y,t.isPropagationStopped()&&h.addEventListener(y,wt),r[y](),t.isPropagationStopped()&&h.removeEventListener(y,wt),w.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=Y.access(r,t);o||r.addEventListener(e,n,!0),Y.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Y.access(r,t)-1;o?Y.access(r,t,o):(r.removeEventListener(e,n,!0),Y.remove(r,t))}}});var Ct=e.location,kt={guid:Date.now()},St=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var _t=/\[\]$/,Tt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,r){var o;if(Array.isArray(t))w.each(t,function(t,o){n||_t.test(e)?r(e,o):Dt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==b(t))r(e,t);else for(o in t)Dt(e+"["+o+"]",t[o],n,r)}w.param=function(e,t){var n,r=[],o=function(e,t){var n=p(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){o(this.name,this.value)});else for(n in e)Dt(n,e[n],t,o);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Et.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}});var Nt=/%20/g,Rt=/#.*$/,Lt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Ot=/^\/\//,Bt={},Ft={},Mt="*/".concat("*"),$t=m.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(O)||[];if(p(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ht(e,t,n,r){var o={},i=e===Ft;function a(s){var l;return o[s]=!0,w.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function zt(e,t){var n,r,o=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}$t.href=Ct.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:jt(Bt),ajaxTransport:jt(Ft),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var r,o,i,a,s,l,u,c,d,f,h=w.ajaxSetup({},n=n||{}),p=h.context||h,g=h.context&&(p.nodeType||p.jquery)?w(p):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=h.statusCode||{},x={},C={},k="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Pt.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return r&&r.abort(t),_(0,t),this}};if(v.promise(S),h.url=((t||h.url||Ct.href)+"").replace(Ot,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(O)||[""],null==h.crossDomain){l=m.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=$t.protocol+"//"+$t.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),Ht(Bt,h,n,S),u)return S;for(d in(c=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!It.test(h.type),o=h.url.replace(Rt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Nt,"+")):(f=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(St.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Lt,"$1"),f=(St.test(o)?"&":"?")+"_="+kt.guid+++f),h.url=o+f),h.ifModified&&(w.lastModified[o]&&S.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&S.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Mt+"; q=0.01":""):h.accepts["*"]),h.headers)S.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,S,h)||u))return S.abort();if(k="abort",y.add(h.complete),S.done(h.success),S.fail(h.error),r=Ht(Ft,h,n,S)){if(S.readyState=1,c&&g.trigger("ajaxSend",[S,h]),u)return S;h.async&&0<h.timeout&&(s=e.setTimeout(function(){S.abort("timeout")},h.timeout));try{u=!1,r.send(x,_)}catch(t){if(u)throw t;_(-1,t)}}else _(-1,"No Transport");function _(t,n,a,l){var d,f,m,x,C,k=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,i=l||"",S.readyState=0<t?4:0,d=200<=t&&t<300||304===t,a&&(x=function(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(h,S,a)),!d&&-1<w.inArray("script",h.dataTypes)&&(h.converters["text script"]=function(){}),x=function(e,t,n,r){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(h,x,S,d),d?(h.ifModified&&((C=S.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=C),(C=S.getResponseHeader("etag"))&&(w.etag[o]=C)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=x.state,f=x.data,d=!(m=x.error))):(m=k,!t&&k||(k="error",t<0&&(t=0))),S.status=t,S.statusText=(n||k)+"",d?v.resolveWith(p,[f,k,S]):v.rejectWith(p,[S,k,m]),S.statusCode(b),b=void 0,c&&g.trigger(d?"ajaxSuccess":"ajaxError",[S,h,d?f:m]),y.fireWith(p,[S,k]),c&&(g.trigger("ajaxComplete",[S,h]),--w.active||w.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,o){return p(n)&&(o=o||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:o,data:n,success:r},w.isPlainObject(e)&&e))}}),w.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return p(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=p(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ut={0:200,1223:204},qt=w.ajaxSettings.xhr();h.cors=!!qt&&"withCredentials"in qt,h.ajax=qt=!!qt,w.ajaxTransport(function(t){var n,r;if(h.cors||qt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ut[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(o){if(n)throw o}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&&n()}}});var Wt,Vt=[],Gt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||w.expando+"_"+kt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Gt,"$1"+o):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||w.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){void 0===i?w(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(o)),a&&p(i)&&i(a[0]),a=i=void 0}),"script"}),h.createHTMLDocument=((Wt=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((r=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(r)):t=m),i=!n&&[],(o=A.exec(e))?[t.createElement(o[1])]:(o=be([e],t,i),i&&i.length&&w(i).remove(),w.merge([],o.childNodes)));var r,o,i},w.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return-1<s&&(r=mt(e.slice(s)),e=e.slice(0,s)),p(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&w.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,u=w.css(e,"position"),c=w(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),i=w.css(e,"top"),l=w.css(e,"left"),("absolute"===u||"fixed"===u)&&-1<(i+l).indexOf("auto")?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),p(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),c.css(d))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),o.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-w.css(r,"marginTop",!0),left:t.left-o.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||re})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,o){var i;if(g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(h.pixelPosition,function(e,n){if(n)return n=He(e,t),Fe.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return z(this,function(t,n,o){var i;return g(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?w.css(t,n,s):w.style(t,n,o,s)},t,a?o:void 0,a)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),p(e))return r=o.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=E,w.isFunction=p,w.isWindow=g,w.camelCase=V,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Yt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Yt),w},void 0===t&&(e.jQuery=e.$=w),w}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Raphael=t():e.Raphael=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,(function(t){return e[t]}).bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var r,o;r=[n(2)],void 0===(o=(function(e){function t(r){if(t.is(r,"function"))return n?r():e.on("raphael.DOMload",r);if(t.is(r,N))return t._engine.create[h](t,r.splice(0,3+t.is(r[0],D))).add(r);var o=Array.prototype.slice.call(arguments,0);if(t.is(o[o.length-1],"function")){var i=o.pop();return n?i.call(t._engine.create[h](t,o)):e.on("raphael.DOMload",function(){i.call(t._engine.create[h](t,o))})}return t._engine.create[h](t,arguments)}t.version="2.3.0",t.eve=e;var n,r,o,i,a=/[, ]+/,s={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},l=/\{(\d+)\}/g,u="hasOwnProperty",c={doc:document,win:window},d={was:Object.prototype[u].call(c.win,"Raphael"),is:c.win.Raphael},f=function(){this.ca=this.customAttributes={}},h="apply",p="concat",g="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,m="",v=" ",y=String,b="split",x="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[b](v),w={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},C=y.prototype.toLowerCase,k=Math,S=k.max,_=k.min,T=k.abs,E=k.pow,A=k.PI,D="number",N="array",R=Object.prototype.toString,L=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),P={NaN:1,Infinity:1,"-Infinity":1},I=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,O=k.round,B=parseFloat,F=parseInt,M=y.prototype.toUpperCase,$=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},j=t._availableAnimAttrs={blur:D,"clip-rect":"csv",cx:D,cy:D,fill:"colour","fill-opacity":D,"font-size":D,height:D,opacity:D,path:"path",r:D,rx:D,ry:D,stroke:"colour","stroke-opacity":D,"stroke-width":D,transform:"transform",width:D,x:D,y:D},H=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,z={hs:1,rg:1},U=/,?([achlmqrstvxz]),?/gi,q=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,W=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,V=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,G=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),X=function(e,t){return B(e)-B(t)},Y=function(e){return e},K=t._rectPath=function(e,t,n,r,o){return o?[["M",e+o,t],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]]},J=function(e,t,n,r){return null==r&&(r=n),[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},Z=t._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return J(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return J(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return K(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return K(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return K(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return K(t.x,t.y,t.width,t.height)}},Q=t.mapPath=function(e,t){if(!t)return e;var n,r,o,i,a,s,l;for(o=0,a=(e=Ee(e)).length;o<a;o++)for(i=1,s=(l=e[o]).length;i<s;i+=2)n=t.x(l[i],l[i+1]),r=t.y(l[i],l[i+1]),l[i]=n,l[i+1]=r;return e};if(t._g=c,"VML"==(t.type=c.win.SVGAngle||c.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var ee,te=c.doc.createElement("div");if(te.innerHTML='<v:shape adj="1"/>',(ee=te.firstChild).style.behavior="url(#default#VML)",!ee||"object"!=typeof ee.adj)return t.type=m;te=null}function ne(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)e[u](n)&&(t[n]=ne(e[n]));return t}t.svg=!(t.vml="VML"==t.type),t._Paper=f,t.fn=r=f.prototype=t.prototype,t._id=0,t.is=function(e,t){return"finite"==(t=C.call(t))?!P[u](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||R.call(e).slice(8,-1).toLowerCase()==t},t.angle=function(e,n,r,o,i,a){if(null==i){var s=e-r,l=n-o;return s||l?(180+180*k.atan2(-l,-s)/A+360)%360:0}return t.angle(e,n,i,a)-t.angle(r,o,i,a)},t.rad=function(e){return e%360*A/180},t.deg=function(e){return Math.round(180*e/A%360*1e3)/1e3},t.snapTo=function(e,n,r){if(r=t.is(r,"finite")?r:10,t.is(e,N)){for(var o=e.length;o--;)if(T(e[o]-n)<=r)return e[o]}else{var i=n%(e=+e);if(i<r)return n-i;if(i>e-r)return n-i+e}return n},t.createUUID=(o=/[xy]/g,i=function(e){var t=16*k.random()|0;return("x"==e?t:3&t|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(o,i).toUpperCase()}),t.setWindow=function(n){e("raphael.setWindow",t,c.win,n),c.win=n,c.doc=c.win.document,t._engine.initWin&&t._engine.initWin(c.win)};var re=function(e){if(t.vml){var n,r=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(e){n=createPopup().document.body}var i=n.createTextRange();re=ue(function(e){try{n.style.color=y(e).replace(r,m);var t=i.queryCommandValue("ForeColor");return"#"+("000000"+(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16)).slice(-6)}catch(e){return"none"}})}else{var a=c.doc.createElement("i");a.title="RaphaÃ«l Colour Picker",a.style.display="none",c.doc.body.appendChild(a),re=ue(function(e){return a.style.color=e,c.doc.defaultView.getComputedStyle(a,m).getPropertyValue("color")})}return re(e)},oe=function(){return"hsb("+[this.h,this.s,this.b]+")"},ie=function(){return"hsl("+[this.h,this.s,this.l]+")"},ae=function(){return this.hex},se=function(e,n,r){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,n=e.g,e=e.r),null==n&&t.is(e,"string")){var o=t.getRGB(e);e=o.r,n=o.g,r=o.b}return(e>1||n>1||r>1)&&(e/=255,n/=255,r/=255),[e,n,r]},le=function(e,n,r,o){var i={r:e*=255,g:n*=255,b:r*=255,hex:t.rgb(e,n,r),toString:ae};return t.is(o,"finite")&&(i.opacity=o),i};function ue(e,t,n){return function r(){var o=Array.prototype.slice.call(arguments,0),i=o.join("â"),a=r.cache=r.cache||{},s=r.count=r.count||[];return a[u](i)?(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}(s,i),n?n(a[i]):a[i]):(s.length>=1e3&&delete a[s.shift()],s.push(i),a[i]=e[h](t,o),n?n(a[i]):a[i])}}function ce(){return this.hex}function de(e,t){for(var n=[],r=0,o=e.length;o-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4==r?i[3]={x:+e[0],y:+e[1]}:o-2==r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4==r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(6*i[1].x-i[0].x+i[2].x)/6,(6*i[1].y-i[0].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=ae,e},t.hsb2rgb=function(e,t,n,r){var o,i,a,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,r=e.o,e=e.h),s=(l=n*t)*(1-T((e=(e*=360)%360/60)%2-1)),o=i=a=n-l,le(o+=[l,s,0,0,s,l][e=~~e],i+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],r)},t.hsl2rgb=function(e,t,n,r){var o,i,a,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),s=(l=2*t*(n<.5?n:1-n))*(1-T((e=(e*=360)%360/60)%2-1)),o=i=a=n-l/2,le(o+=[l,s,0,0,s,l][e=~~e],i+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],r)},t.rgb2hsb=function(e,t,n){var r,o;return e=(n=se(e,t,n))[0],{h:((0==(o=(r=S(e,t=n[1],n=n[2]))-_(e,t,n))?null:r==e?(t-n)/o:r==t?(n-e)/o+2:(e-t)/o+4)+360)%6*60/360,s:0==o?0:o/r,b:r,toString:oe}},t.rgb2hsl=function(e,t,n){var r,o,i,a;return e=(n=se(e,t,n))[0],r=((o=S(e,t=n[1],n=n[2]))+(i=_(e,t,n)))/2,{h:((0==(a=o-i)?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:r<.5?a/(2*r):a/(2-2*r),l:r,toString:ie}},t._path2string=function(){return this.join(",").replace(U,"$1")},t._preload=function(e,t){var n=c.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,c.doc.body.removeChild(this)},n.onerror=function(){c.doc.body.removeChild(this)},c.doc.body.appendChild(n),n.src=e},t.getRGB=ue(function(e){if(!e||(e=y(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ce};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:ce};!z[u](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=re(e));var n,r,o,i,a,s,l=e.match(L);return l?(l[2]&&(o=F(l[2].substring(5),16),r=F(l[2].substring(3,5),16),n=F(l[2].substring(1,3),16)),l[3]&&(o=F((a=l[3].charAt(3))+a,16),r=F((a=l[3].charAt(2))+a,16),n=F((a=l[3].charAt(1))+a,16)),l[4]&&(s=l[4][b](H),n=B(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),r=B(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),o=B(s[2]),"%"==s[2].slice(-1)&&(o*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(i=B(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100)),l[5]?(s=l[5][b](H),n=B(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),r=B(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),o=B(s[2]),"%"==s[2].slice(-1)&&(o*=2.55),("deg"==s[0].slice(-3)||"Â°"==s[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(i=B(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),t.hsb2rgb(n,r,o,i)):l[6]?(s=l[6][b](H),n=B(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),r=B(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),o=B(s[2]),"%"==s[2].slice(-1)&&(o*=2.55),("deg"==s[0].slice(-3)||"Â°"==s[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(i=B(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),t.hsl2rgb(n,r,o,i)):((l={r:n,g:r,b:o,toString:ce}).hex="#"+(16777216|o|r<<8|n<<16).toString(16).slice(1),t.is(i,"finite")&&(l.opacity=i),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ce}},t),t.hsb=ue(function(e,n,r){return t.hsb2rgb(e,n,r).hex}),t.hsl=ue(function(e,n,r){return t.hsl2rgb(e,n,r).hex}),t.rgb=ue(function(e,t,n){function r(e){return e+.5|0}return"#"+(16777216|r(n)|r(t)<<8|r(e)<<16).toString(16).slice(1)}),(t.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex}).reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=fe(e);if(n.arr)return be(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];return t.is(e,N)&&t.is(e[0],N)&&(o=be(e)),o.length||y(e).replace(q,function(e,t,n){var i=[],a=t.toLowerCase();if(n.replace(V,function(e,t){t&&i.push(+t)}),"m"==a&&i.length>2&&(o.push([t][p](i.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)o.push([t][p](i));else for(;i.length>=r[a]&&(o.push([t][p](i.splice(0,r[a]))),r[a]););}),o.toString=t._path2string,n.arr=be(o),o},t.parseTransformString=ue(function(e){if(!e)return null;var n=[];return t.is(e,N)&&t.is(e[0],N)&&(n=be(e)),n.length||y(e).replace(W,function(e,t,r){var o=[];C.call(t),r.replace(V,function(e,t){t&&o.push(+t)}),n.push([t][p](o))}),n.toString=t._path2string,n},this,function(e){if(!e)return e;for(var t=[],n=0;n<e.length;n++){for(var r=[],o=0;o<e[n].length;o++)r.push(e[n][o]);t.push(r)}return t});var fe=function(e){var t=fe.ps=fe.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[u](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]};function he(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n}function pe(e,t,n,r,o,i,a,s,l){null==l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,h=0;h<12;h++){var p=u*c[h]+u,g=he(p,e,n,o,a),m=he(p,t,r,i,s);f+=d[h]*k.sqrt(g*g+m*m)}return u*f}function ge(e,t,n,r,o,i,a,s){if(!(S(e,n)<_(o,a)||_(e,n)>S(o,a)||S(t,r)<_(i,s)||_(t,r)>S(i,s))){var l=(e-n)*(i-s)-(t-r)*(o-a);if(l){var u=((e*r-t*n)*(o-a)-(e-n)*(o*s-i*a))/l,c=((e*r-t*n)*(i-s)-(t-r)*(o*s-i*a))/l,d=+u.toFixed(2),f=+c.toFixed(2);if(!(d<+_(e,n).toFixed(2)||d>+S(e,n).toFixed(2)||d<+_(o,a).toFixed(2)||d>+S(o,a).toFixed(2)||f<+_(t,r).toFixed(2)||f>+S(t,r).toFixed(2)||f<+_(i,s).toFixed(2)||f>+S(i,s).toFixed(2)))return{x:u,y:c}}}}function me(e,n,r){var o=t.bezierBBox(e),i=t.bezierBBox(n);if(!t.isBBoxIntersect(o,i))return r?0:[];for(var a=pe.apply(0,e),s=pe.apply(0,n),l=S(~~(a/5),1),u=S(~~(s/5),1),c=[],d=[],f={},h=r?0:[],p=0;p<l+1;p++){var g=t.findDotsAtSegment.apply(t,e.concat(p/l));c.push({x:g.x,y:g.y,t:p/l})}for(p=0;p<u+1;p++)g=t.findDotsAtSegment.apply(t,n.concat(p/u)),d.push({x:g.x,y:g.y,t:p/u});for(p=0;p<l;p++)for(var m=0;m<u;m++){var v=c[p],y=c[p+1],b=d[m],x=d[m+1],w=T(y.x-v.x)<.001?"y":"x",C=T(x.x-b.x)<.001?"y":"x",k=ge(v.x,v.y,y.x,y.y,b.x,b.y,x.x,x.y);if(k){if(f[k.x.toFixed(4)]==k.y.toFixed(4))continue;f[k.x.toFixed(4)]=k.y.toFixed(4);var E=v.t+T((k[w]-v[w])/(y[w]-v[w]))*(y.t-v.t),A=b.t+T((k[C]-b[C])/(x[C]-b[C]))*(x.t-b.t);E>=0&&E<=1.001&&A>=0&&A<=1.001&&(r?h++:h.push({x:k.x,y:k.y,t1:_(E,1),t2:_(A,1)}))}}return h}function ve(e,n,r){e=t._path2curve(e),n=t._path2curve(n);for(var o,i,a,s,l,u,c,d,f,h,p=r?0:[],g=0,m=e.length;g<m;g++){var v=e[g];if("M"==v[0])o=l=v[1],i=u=v[2];else{"C"==v[0]?(f=[o,i].concat(v.slice(1)),o=f[6],i=f[7]):(f=[o,i,o,i,l,u,l,u],o=l,i=u);for(var y=0,b=n.length;y<b;y++){var x=n[y];if("M"==x[0])a=c=x[1],s=d=x[2];else{"C"==x[0]?(h=[a,s].concat(x.slice(1)),a=h[6],s=h[7]):(h=[a,s,a,s,c,d,c,d],a=c,s=d);var w=me(f,h,r);if(r)p+=w;else{for(var C=0,k=w.length;C<k;C++)w[C].segment1=g,w[C].segment2=y,w[C].bez1=f,w[C].bez2=h;p=p.concat(w)}}}}}return p}t.findDotsAtSegment=function(e,t,n,r,o,i,a,s,l){var u=1-l,c=E(u,3),d=E(u,2),f=l*l,h=f*l,p=c*e+3*d*l*n+3*u*l*l*o+h*a,g=c*t+3*d*l*r+3*u*l*l*i+h*s,m=e+2*l*(n-e)+f*(o-2*n+e),v=t+2*l*(r-t)+f*(i-2*r+t),y=n+2*l*(o-n)+f*(a-2*o+n),b=r+2*l*(i-r)+f*(s-2*i+r),x=u*e+l*n,w=u*t+l*r,C=u*o+l*a,S=u*i+l*s,_=90-180*k.atan2(m-y,v-b)/A;return(m>y||v<b)&&(_+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:x,y:w},end:{x:C,y:S},alpha:_}},t.bezierBBox=function(e,n,r,o,i,a,s,l){t.is(e,"array")||(e=[e,n,r,o,i,a,s,l]);var u=Te.apply(null,e);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},t.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},t.isBBoxIntersect=function(e,n){var r=t.isPointInsideBBox;return r(n,e.x,e.y)||r(n,e.x2,e.y)||r(n,e.x,e.y2)||r(n,e.x2,e.y2)||r(e,n.x,n.y)||r(e,n.x2,n.y)||r(e,n.x,n.y2)||r(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(e,t){return ve(e,t)},t.pathIntersectionNumber=function(e,t){return ve(e,t,1)},t.isPointInsidePath=function(e,n,r){var o=t.pathBBox(e);return t.isPointInsideBBox(o,n,r)&&ve(e,[["M",n,r],["H",o.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){e("raphael.log",null,"RaphaÃ«l: you are calling to method â"+t+"â of removed object",t)}};var ye=t.pathBBox=function(e){var t=fe(e);if(t.bbox)return ne(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,r=0,o=0,i=[],a=[],s=0,l=(e=Ee(e)).length;s<l;s++)if("M"==(n=e[s])[0])o=n[2],i.push(r=n[1]),a.push(o);else{var u=Te(r,o,n[1],n[2],n[3],n[4],n[5],n[6]);i=i[p](u.min.x,u.max.x),a=a[p](u.min.y,u.max.y),r=n[5],o=n[6]}var c=_[h](0,i),d=_[h](0,a),f=S[h](0,i),g=S[h](0,a),m=f-c,v=g-d,y={x:c,y:d,x2:f,y2:g,width:m,height:v,cx:c+m/2,cy:d+v/2};return t.bbox=ne(y),y},be=function(e){var n=ne(e);return n.toString=t._path2string,n},xe=t._pathToRelative=function(e){var n=fe(e);if(n.rel)return be(n.rel);t.is(e,N)&&t.is(e&&e[0],N)||(e=t.parsePathString(e));var r=[],o=0,i=0,a=0,s=0,l=0;"M"==e[0][0]&&(a=o=e[0][1],s=i=e[0][2],l++,r.push(["M",o,i]));for(var u=l,c=e.length;u<c;u++){var d=r[u]=[],f=e[u];if(f[0]!=C.call(f[0]))switch(d[0]=C.call(f[0]),d[0]){case"a":d[1]=f[1],d[2]=f[2],d[3]=f[3],d[4]=f[4],d[5]=f[5],d[6]=+(f[6]-o).toFixed(3),d[7]=+(f[7]-i).toFixed(3);break;case"v":d[1]=+(f[1]-i).toFixed(3);break;case"m":a=f[1],s=f[2];default:for(var h=1,p=f.length;h<p;h++)d[h]=+(f[h]-(h%2?o:i)).toFixed(3)}else{d=r[u]=[],"m"==f[0]&&(a=f[1]+o,s=f[2]+i);for(var g=0,m=f.length;g<m;g++)r[u][g]=f[g]}var v=r[u].length;switch(r[u][0]){case"z":o=a,i=s;break;case"h":o+=+r[u][v-1];break;case"v":i+=+r[u][v-1];break;default:o+=+r[u][v-2],i+=+r[u][v-1]}}return r.toString=t._path2string,n.rel=be(r),r},we=t._pathToAbsolute=function(e){var n=fe(e);if(n.abs)return be(n.abs);if(t.is(e,N)&&t.is(e&&e[0],N)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],o=0,i=0,a=0,s=0,l=0;"M"==e[0][0]&&(a=o=+e[0][1],s=i=+e[0][2],l++,r[0]=["M",o,i]);for(var u,c,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),f=l,h=e.length;f<h;f++){if(r.push(u=[]),(c=e[f])[0]!=M.call(c[0]))switch(u[0]=M.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+o),u[7]=+(c[7]+i);break;case"V":u[1]=+c[1]+i;break;case"H":u[1]=+c[1]+o;break;case"R":for(var g=[o,i][p](c.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+o,g[++m]=+g[m]+i;r.pop(),r=r[p](de(g,d));break;case"M":a=+c[1]+o,s=+c[2]+i;default:for(m=1,v=c.length;m<v;m++)u[m]=+c[m]+(m%2?o:i)}else if("R"==c[0])g=[o,i][p](c.slice(1)),r.pop(),r=r[p](de(g,d)),u=["R"][p](c.slice(-2));else for(var y=0,b=c.length;y<b;y++)u[y]=c[y];switch(u[0]){case"Z":o=a,i=s;break;case"H":o=u[1];break;case"V":i=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];default:o=u[u.length-2],i=u[u.length-1]}}return r.toString=t._path2string,n.abs=be(r),r},Ce=function(e,t,n,r){return[e,t,n,r,n,r]},ke=function(e,t,n,r,o,i){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*o+2/3*n,1/3*i+2/3*r,o,i]},Se=function(e,t,n,r,o,i,a,s,l,u){var c,d=120*A/180,f=A/180*(+o||0),h=[],g=ue(function(e,t,n){return{x:e*k.cos(n)-t*k.sin(n),y:e*k.sin(n)+t*k.cos(n)}});if(u)E=u[0],D=u[1],S=u[2],_=u[3];else{e=(c=g(e,t,-f)).x,t=c.y,s=(c=g(s,l,-f)).x,l=c.y,k.cos(A/180*o),k.sin(A/180*o);var m=(e-s)/2,v=(t-l)/2,y=m*m/(n*n)+v*v/(r*r);y>1&&(n*=y=k.sqrt(y),r*=y);var x=n*n,w=r*r,C=(i==a?-1:1)*k.sqrt(T((x*w-x*v*v-w*m*m)/(x*v*v+w*m*m))),S=C*n*v/r+(e+s)/2,_=C*-r*m/n+(t+l)/2,E=k.asin(((t-_)/r).toFixed(9)),D=k.asin(((l-_)/r).toFixed(9));(E=e<S?A-E:E)<0&&(E=2*A+E),(D=s<S?A-D:D)<0&&(D=2*A+D),a&&E>D&&(E-=2*A),!a&&D>E&&(D-=2*A)}var N=D-E;if(T(N)>d){var R=D,L=s,P=l;s=S+n*k.cos(D=E+d*(a&&D>E?1:-1)),l=_+r*k.sin(D),h=Se(s,l,n,r,o,0,a,L,P,[D,R,S,_])}N=D-E;var I=k.cos(E),O=k.sin(E),B=k.cos(D),F=k.sin(D),M=k.tan(N/4),$=4/3*n*M,j=4/3*r*M,H=[e,t],z=[e+$*O,t-j*I],U=[s+$*F,l-j*B],q=[s,l];if(z[0]=2*H[0]-z[0],z[1]=2*H[1]-z[1],u)return[z,U,q][p](h);for(var W=[],V=0,G=(h=[z,U,q][p](h).join()[b](",")).length;V<G;V++)W[V]=V%2?g(h[V-1],h[V],f).y:g(h[V],h[V+1],f).x;return W},_e=function(e,t,n,r,o,i,a,s,l){var u=1-l;return{x:E(u,3)*e+3*E(u,2)*l*n+3*u*l*l*o+E(l,3)*a,y:E(u,3)*t+3*E(u,2)*l*r+3*u*l*l*i+E(l,3)*s}},Te=ue(function(e,t,n,r,o,i,a,s){var l,u=o-2*n+e-(a-2*o+n),c=2*(n-e)-2*(o-n),d=e-n,f=(-c+k.sqrt(c*c-4*u*d))/2/u,p=(-c-k.sqrt(c*c-4*u*d))/2/u,g=[t,s],m=[e,a];return T(f)>"1e12"&&(f=.5),T(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=_e(e,t,n,r,o,i,a,s,f),m.push(l.x),g.push(l.y)),p>0&&p<1&&(l=_e(e,t,n,r,o,i,a,s,p),m.push(l.x),g.push(l.y)),f=(-(c=2*(r-t)-2*(i-r))+k.sqrt(c*c-4*(u=i-2*r+t-(s-2*i+r))*(d=t-r)))/2/u,p=(-c-k.sqrt(c*c-4*u*d))/2/u,T(f)>"1e12"&&(f=.5),T(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=_e(e,t,n,r,o,i,a,s,f),m.push(l.x),g.push(l.y)),p>0&&p<1&&(l=_e(e,t,n,r,o,i,a,s,p),m.push(l.x),g.push(l.y)),{min:{x:_[h](0,m),y:_[h](0,g)},max:{x:S[h](0,m),y:S[h](0,g)}}}),Ee=t._path2curve=ue(function(e,t){var n=!t&&fe(e);if(!t&&n.curve)return be(n.curve);for(var r=we(e),o=t&&we(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(e,t,n){var r,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][p](Se[h](0,[t.x,t.y][p](e.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*t.x-t.bx,o=2*t.y-t.by):(r=t.x,o=t.y),e=["C",r,o][p](e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][p](ke(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][p](ke(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][p](Ce(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][p](Ce(t.x,t.y,e[1],t.y));break;case"V":e=["C"][p](Ce(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][p](Ce(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)c[t]="A",o&&(d[t]="A"),e.splice(t++,0,["C"][p](n.splice(0,6)));e.splice(t,1),v=S(r.length,o&&o.length||0)}},u=function(e,t,n,i,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],v=S(r.length,o&&o.length||0))},c=[],d=[],f="",g="",m=0,v=S(r.length,o&&o.length||0);m<v;m++){r[m]&&(f=r[m][0]),"C"!=f&&(c[m]=f,m&&(g=c[m-1])),r[m]=s(r[m],i,g),"A"!=c[m]&&"C"==f&&(c[m]="C"),l(r,m),o&&(o[m]&&(f=o[m][0]),"C"!=f&&(d[m]=f,m&&(g=d[m-1])),o[m]=s(o[m],a,g),"A"!=d[m]&&"C"==f&&(d[m]="C"),l(o,m)),u(r,o,i,a,m),u(o,r,a,i,m);var y=r[m],b=o&&o[m],x=y.length,w=o&&b.length;i.x=y[x-2],i.y=y[x-1],i.bx=B(y[x-4])||i.x,i.by=B(y[x-3])||i.y,a.bx=o&&(B(b[w-4])||a.x),a.by=o&&(B(b[w-3])||a.y),a.x=o&&b[w-2],a.y=o&&b[w-1]}return o||(n.curve=be(r)),o?[r,o]:r},null,be),Ae=(t._parseDots=ue(function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i={},a=e[r].match(/^([^:]*):?([\d\.]*)/);if(i.color=t.getRGB(a[1]),i.color.error)return null;i.opacity=i.color.opacity,i.color=i.color.hex,a[2]&&(i.offset=a[2]+"%"),n.push(i)}for(r=1,o=n.length-1;r<o;r++)if(!n[r].offset){for(var s=B(n[r-1].offset||0),l=0,u=r+1;u<o;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=o);for(var c=((l=B(l))-s)/(u-r+1);r<u;r++)n[r].offset=(s+=c)+"%"}return n}),t._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),De=(t._tofront=function(e,t){t.top!==e&&(Ae(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},t._toback=function(e,t){t.bottom!==e&&(Ae(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},t._insertafter=function(e,t,n){Ae(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},t._insertbefore=function(e,t,n){Ae(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},t.toMatrix=function(e,t){var n=ye(e),r={_:{transform:m},getBBox:function(){return n}};return Ne(r,t),r.matrix}),Ne=(t.transformPath=function(e,t){return Q(e,De(e,t))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=y(n).replace(/\.{3}|\u2026/g,e._.transform||m);var r,o,i=t.parseTransformString(n),a=0,s=1,l=1,u=e._,c=new Pe;if(u.transform=i||[],i)for(var d=0,f=i.length;d<f;d++){var h,p,g,v,b,x=i[d],w=x.length,C=y(x[0]).toLowerCase(),k=x[0]!=C,S=k?c.invert():0;"t"==C&&3==w?k?(h=S.x(0,0),p=S.y(0,0),g=S.x(x[1],x[2]),v=S.y(x[1],x[2]),c.translate(g-h,v-p)):c.translate(x[1],x[2]):"r"==C?2==w?(b=b||e.getBBox(1),c.rotate(x[1],b.x+b.width/2,b.y+b.height/2),a+=x[1]):4==w&&(k?(g=S.x(x[2],x[3]),v=S.y(x[2],x[3]),c.rotate(x[1],g,v)):c.rotate(x[1],x[2],x[3]),a+=x[1]):"s"==C?2==w||3==w?(b=b||e.getBBox(1),c.scale(x[1],x[w-1],b.x+b.width/2,b.y+b.height/2),s*=x[1],l*=x[w-1]):5==w&&(k?(g=S.x(x[3],x[4]),v=S.y(x[3],x[4]),c.scale(x[1],x[2],g,v)):c.scale(x[1],x[2],x[3],x[4]),s*=x[1],l*=x[2]):"m"==C&&7==w&&c.add(x[1],x[2],x[3],x[4],x[5],x[6]),u.dirtyT=1,e.matrix=c}e.matrix=c,u.sx=s,u.sy=l,u.deg=a,u.dx=r=c.e,u.dy=o=c.f,1==s&&1==l&&!a&&u.bbox?(u.bbox.x+=+r,u.bbox.y+=+o):u.dirtyT=1}),Re=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Le=t._equaliseTransform=function(e,n){n=y(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var r,o,i,a,s=S(e.length,n.length),l=[],u=[],c=0;c<s;c++){if(i=e[c]||Re(n[c]),a=n[c]||Re(i),i[0]!=a[0]||"r"==i[0].toLowerCase()&&(i[2]!=a[2]||i[3]!=a[3])||"s"==i[0].toLowerCase()&&(i[3]!=a[3]||i[4]!=a[4]))return;for(l[c]=[],u[c]=[],r=0,o=S(i.length,a.length);r<o;r++)r in i&&(l[c][r]=i[r]),r in a&&(u[c][r]=a[r])}return{from:l,to:u}};function Pe(e,t,n,r,o,i){null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+o,this.f=+i):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}t._getContainer=function(e,n,r,o){var i;if(null!=(i=null!=o||t.is(e,"object")?e:c.doc.getElementById(e)))return i.tagName?null==n?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:n,height:r}:{container:1,x:e,y:n,width:r,height:o}},t.pathToRelative=xe,t._engine={},t.path2curve=Ee,t.matrix=function(e,t,n,r,o,i){return new Pe(e,t,n,r,o,i)},function(e){function n(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var t=k.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}e.add=function(e,t,n,r,o,i){var a,s,l,u,c=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[e,n,o],[t,r,i],[0,0,1]];for(e&&e instanceof Pe&&(f=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(u=0,l=0;l<3;l++)u+=d[a][l]*f[l][s];c[a][s]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new Pe(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new Pe(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,r){null==t&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var o=+k.cos(e).toFixed(9),i=+k.sin(e).toFixed(9);this.add(o,i,-i,o,n,r),this.add(1,0,0,1,-n,-r)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[y.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var o=[[this.a,this.c],[this.b,this.d]];e.scalex=k.sqrt(n(o[0])),r(o[0]),e.shear=o[0][0]*o[1][0]+o[0][1]*o[1][1],o[1]=[o[1][0]-o[0][0]*e.shear,o[1][1]-o[0][1]*e.shear],e.scaley=k.sqrt(n(o[1])),r(o[1]),e.shear/=e.scaley;var i=-o[0][1],a=o[1][1];return a<0?(e.rotate=t.deg(k.acos(a)),i<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(k.asin(i)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[b]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:m)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:m)+(t.rotate?"r"+[t.rotate,0,0]:m)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Pe.prototype);for(var Ie=function(){this.returnValue=!1},Oe=function(){return this.originalEvent.preventDefault()},Be=function(){this.cancelBubble=!0},Fe=function(){return this.originalEvent.stopPropagation()},Me=function(e){return{x:e.clientX+(c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft),y:e.clientY+(c.doc.documentElement.scrollTop||c.doc.body.scrollTop)}},$e=c.doc.addEventListener?function(e,t,n,r){var o=function(e){var t=Me(e);return n.call(r,e,t.x,t.y)};if(e.addEventListener(t,o,!1),g&&w[t]){var i=function(t){for(var o=Me(t),i=t,a=0,s=t.targetTouches&&t.targetTouches.length;a<s;a++)if(t.targetTouches[a].target==e){(t=t.targetTouches[a]).originalEvent=i,t.preventDefault=Oe,t.stopPropagation=Fe;break}return n.call(r,t,o.x,o.y)};e.addEventListener(w[t],i,!1)}return function(){return e.removeEventListener(t,o,!1),g&&w[t]&&e.removeEventListener(w[t],i,!1),!0}}:c.doc.attachEvent?function(e,t,n,r){var o=function(e){var t=(e=e||c.win.event).clientX+(c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft),o=e.clientY+(c.doc.documentElement.scrollTop||c.doc.body.scrollTop);return e.preventDefault=e.preventDefault||Ie,e.stopPropagation=e.stopPropagation||Be,n.call(r,e,t,o)};return e.attachEvent("on"+t,o),function(){return e.detachEvent("on"+t,o),!0}}:void 0,je=[],He=function(t){for(var n,r=t.clientX,o=t.clientY,i=c.doc.documentElement.scrollTop||c.doc.body.scrollTop,a=c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft,s=je.length;s--;){if(n=je[s],g&&t.touches){for(var l,u=t.touches.length;u--;)if((l=t.touches[u]).identifier==n.el._drag.id){r=l.clientX,o=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var d,f=n.el.node,h=f.nextSibling,p=f.parentNode,m=f.style.display;c.win.opera&&p.removeChild(f),f.style.display="none",d=n.el.paper.getElementByPoint(r,o),f.style.display=m,c.win.opera&&(h?p.insertBefore(f,h):p.appendChild(f)),d&&e("raphael.drag.over."+n.el.id,n.el,d),e("raphael.drag.move."+n.el.id,n.move_scope||n.el,(r+=a)-n.el._drag.x,(o+=i)-n.el._drag.y,r,o,t)}},ze=function(n){t.unmousemove(He).unmouseup(ze);for(var r,o=je.length;o--;)(r=je[o]).el._drag={},e("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);je=[]},Ue=t.el={},qe=x.length;qe--;)!function(e){t[e]=Ue[e]=function(n,r){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:$e(this.shape||this.node||c.doc,e,n,r||this)})),this},t["un"+e]=Ue["un"+e]=function(n){for(var r=this.events||[],o=r.length;o--;)r[o].name!=e||!t.is(n,"undefined")&&r[o].f!=n||(r[o].unbind(),r.splice(o,1),!r.length&&delete this.events);return this}}(x[qe]);Ue.data=function(n,r){var o=G[this.id]=G[this.id]||{};if(0==arguments.length)return o;if(1==arguments.length){if(t.is(n,"object")){for(var i in n)n[u](i)&&this.data(i,n[i]);return this}return e("raphael.data.get."+this.id,this,o[n],n),o[n]}return o[n]=r,e("raphael.data.set."+this.id,this,r,n),this},Ue.removeData=function(e){return null==e?delete G[this.id]:G[this.id]&&delete G[this.id][e],this},Ue.getData=function(){return ne(G[this.id]||{})},Ue.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},Ue.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var We=[];function Ve(){return this.x+v+this.y+v+this.width+" Ã "+this.height}Ue.drag=function(n,r,o,i,a,s){function l(l){(l.originalEvent||l).preventDefault();var u=l.clientX,d=l.clientY,f=c.doc.documentElement.scrollTop||c.doc.body.scrollTop,h=c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft;if(this._drag.id=l.identifier,g&&l.touches)for(var p,m=l.touches.length;m--;)if(this._drag.id=(p=l.touches[m]).identifier,p.identifier==this._drag.id){u=p.clientX,d=p.clientY;break}this._drag.x=u+h,this._drag.y=d+f,!je.length&&t.mousemove(He).mouseup(ze),je.push({el:this,move_scope:i,start_scope:a,end_scope:s}),r&&e.on("raphael.drag.start."+this.id,r),n&&e.on("raphael.drag.move."+this.id,n),o&&e.on("raphael.drag.end."+this.id,o),e("raphael.drag.start."+this.id,a||i||this,this._drag.x,this._drag.y,l)}return this._drag={},We.push({el:this,start:l}),this.mousedown(l),this},Ue.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Ue.undrag=function(){for(var n=We.length;n--;)We[n].el==this&&(this.unmousedown(We[n].start),We.splice(n,1),e.unbind("raphael.drag.*."+this.id));!We.length&&t.unmousemove(He).unmouseup(ze),je=[]},r.circle=function(e,n,r){var o=t._engine.circle(this,e||0,n||0,r||0);return this.__set__&&this.__set__.push(o),o},r.rect=function(e,n,r,o,i){var a=t._engine.rect(this,e||0,n||0,r||0,o||0,i||0);return this.__set__&&this.__set__.push(a),a},r.ellipse=function(e,n,r,o){var i=t._engine.ellipse(this,e||0,n||0,r||0,o||0);return this.__set__&&this.__set__.push(i),i},r.path=function(e){e&&!t.is(e,"string")&&!t.is(e[0],N)&&(e+=m);var n=t._engine.path(t.format[h](t,arguments),this);return this.__set__&&this.__set__.push(n),n},r.image=function(e,n,r,o,i){var a=t._engine.image(this,e||"about:blank",n||0,r||0,o||0,i||0);return this.__set__&&this.__set__.push(a),a},r.text=function(e,n,r){var o=t._engine.text(this,e||0,n||0,y(r));return this.__set__&&this.__set__.push(o),o},r.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new dt(e);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},r.setStart=function(e){this.__set__=e||this.set()},r.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},r.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},r.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},r.setViewBox=function(e,n,r,o,i){return t._engine.setViewBox.call(this,e,n,r,o,i)},r.top=r.bottom=null,r.raphael=t,r.getElementByPoint=function(e,t){var n,r,o,i,a,s=this.canvas,l=c.doc.elementFromPoint(e,t);if(c.win.opera&&"svg"==l.tagName){var u=(r=(n=s).getBoundingClientRect(),i=(o=n.ownerDocument).body,a=o.documentElement,{y:r.top+(c.win.pageYOffset||a.scrollTop||i.scrollTop)-(a.clientTop||i.clientTop||0),x:r.left+(c.win.pageXOffset||a.scrollLeft||i.scrollLeft)-(a.clientLeft||i.clientLeft||0)}),d=s.createSVGRect();d.x=e-u.x,d.y=t-u.y,d.width=d.height=1;var f=s.getIntersectionList(d,null);f.length&&(l=f[f.length-1])}if(!l)return null;for(;l.parentNode&&l!=s.parentNode&&!l.raphael;)l=l.parentNode;return l==this.canvas.parentNode&&(l=s),l&&l.raphael?this.getById(l.raphaelid):null},r.getElementsByBBox=function(e){var n=this.set();return this.forEach(function(r){t.isBBoxIntersect(r.getBBox(),e)&&n.push(r)}),n},r.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},r.forEach=function(e,t){for(var n=this.bottom;n;){if(!1===e.call(t,n))return this;n=n.next}return this},r.getElementsByPoint=function(e,t){var n=this.set();return this.forEach(function(r){r.isPointInside(e,t)&&n.push(r)}),n},Ue.isPointInside=function(e,n){var r=this.realPath=Z[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=t.transformPath(r,this.attr("transform"))),t.isPointInsidePath(r,e,n)},Ue.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=Z[this.type](this),t.bboxwt=ye(this.realPath),t.bboxwt.toString=Ve,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=Z[this.type](this)),t.bbox=ye(Q(this.realPath,this.matrix)),t.bbox.toString=Ve,t.dirty=t.dirtyT=0),t.bbox)},Ue.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Ue.glow=function(e){if("text"==this.type)return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:null==e.opacity?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,r=this.paper,o=r.set(),i=this.realPath||Z[this.type](this);i=this.matrix?Q(i,this.matrix):i;for(var a=1;a<n+1;a++)o.push(r.path(i).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*a).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return o.insertBefore(this).translate(t.offsetx,t.offsety)};var Ge=function(e,n,r,o,i,a,s,l,u){return null==u?pe(e,n,r,o,i,a,s,l):t.findDotsAtSegment(e,n,r,o,i,a,s,l,function(e,t,n,r,o,i,a,s,l){if(!(l<0||pe(e,t,n,r,o,i,a,s)<l)){var u,c=.5,d=1-c;for(u=pe(e,t,n,r,o,i,a,s,d);T(u-l)>.01;)u=pe(e,t,n,r,o,i,a,s,d+=(u<l?1:-1)*(c/=2));return d}}(e,n,r,o,i,a,s,l,u))},Xe=function(e,n){return function(r,o,i){for(var a,s,l,u,c,d="",f={},h=0,p=0,g=(r=Ee(r)).length;p<g;p++){if("M"==(l=r[p])[0])a=+l[1],s=+l[2];else{if(h+(u=Ge(a,s,l[1],l[2],l[3],l[4],l[5],l[6]))>o){if(n&&!f.start){if(d+=["C"+(c=Ge(a,s,l[1],l[2],l[3],l[4],l[5],l[6],o-h)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],i)return d;f.start=d,d=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),h+=u,a=+l[5],s=+l[6];continue}if(!e&&!n)return{x:(c=Ge(a,s,l[1],l[2],l[3],l[4],l[5],l[6],o-h)).x,y:c.y,alpha:c.alpha}}h+=u,a=+l[5],s=+l[6]}d+=l.shift()+l}return f.end=d,(c=e?h:n?f:t.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Ye=Xe(1),Ke=Xe(),Je=Xe(0,1);t.getTotalLength=Ye,t.getPointAtLength=Ke,t.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return Je(e,t).end;var r=Je(e,n,1);return t?Je(r,t).end:r},Ue.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():Ye(e)},Ue.getPointAtLength=function(e){var t=this.getPath();if(t)return Ke(t,e)},Ue.getPath=function(){var e,n=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(e=n(this)),e},Ue.getSubpath=function(e,n){var r=this.getPath();if(r)return t.getSubpath(r,e,n)};var Ze=t.easing_formulas={linear:function(e){return e},"<":function(e){return E(e,1.7)},">":function(e){return E(e,.48)},"<>":function(e){var t=.48-e/1.04,n=k.sqrt(.1734+t*t),r=n-t,o=-n-t,i=E(T(r),1/3)*(r<0?-1:1)+E(T(o),1/3)*(o<0?-1:1)+.5;return 3*(1-i)*i*i+i*i*i},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:E(2,-10*e)*k.sin(2*A*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}};Ze.easeIn=Ze["ease-in"]=Ze["<"],Ze.easeOut=Ze["ease-out"]=Ze[">"],Ze.easeInOut=Ze["ease-in-out"]=Ze["<>"],Ze["back-in"]=Ze.backIn,Ze["back-out"]=Ze.backOut;var Qe=[],et=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},tt=function(){for(var n=+new Date,r=0;r<Qe.length;r++){var o=Qe[r];if(!o.el.removed&&!o.paused){var i,a,s=n-o.start,l=o.ms,c=o.easing,d=o.from,f=o.diff,h=o.to,g=o.el,m={},y={};if(o.initstatus?(s=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*l,o.status=o.initstatus,delete o.initstatus,o.stop&&Qe.splice(r--,1)):o.status=(o.prev+s/l*(o.percent-o.prev))/o.anim.top,!(s<0))if(s<l){var b=c(s/l);for(var x in d)if(d[u](x)){switch(j[x]){case D:i=+d[x]+b*l*f[x];break;case"colour":i="rgb("+[nt(O(d[x].r+b*l*f[x].r)),nt(O(d[x].g+b*l*f[x].g)),nt(O(d[x].b+b*l*f[x].b))].join(",")+")";break;case"path":i=[];for(var w=0,C=d[x].length;w<C;w++){i[w]=[d[x][w][0]];for(var k=1,S=d[x][w].length;k<S;k++)i[w][k]=+d[x][w][k]+b*l*f[x][w][k];i[w]=i[w].join(v)}i=i.join(v);break;case"transform":if(f[x].real)for(i=[],w=0,C=d[x].length;w<C;w++)for(i[w]=[d[x][w][0]],k=1,S=d[x][w].length;k<S;k++)i[w][k]=d[x][w][k]+b*l*f[x][w][k];else{var _=function(e){return+d[x][e]+b*l*f[x][e]};i=[["m",_(0),_(1),_(2),_(3),_(4),_(5)]]}break;case"csv":if("clip-rect"==x)for(i=[],w=4;w--;)i[w]=+d[x][w]+b*l*f[x][w];break;default:var T=[][p](d[x]);for(i=[],w=g.paper.customAttributes[x].length;w--;)i[w]=+T[w]+b*l*f[x][w]}m[x]=i}g.attr(m),function(t,n,r){setTimeout(function(){e("raphael.anim.frame."+t,n,r)})}(g.id,g,o.anim)}else{if(function(n,r,o){setTimeout(function(){e("raphael.anim.frame."+r.id,r,o),e("raphael.anim.finish."+r.id,r,o),t.is(n,"function")&&n.call(r)})}(o.callback,g,o.anim),g.attr(h),Qe.splice(r--,1),o.repeat>1&&!o.next){for(a in h)h[u](a)&&(y[a]=o.totalOrigin[a]);o.el.attr(y),it(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&it(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}}Qe.length&&et(tt)},nt=function(e){return e>255?255:e<0?0:e};function rt(e,t,n,r,o,i){var a=3*t,s=3*(r-t)-a,l=1-a-s,u=3*n,c=3*(o-n)-u,d=1-u-c;function f(e){return((l*e+s)*e+a)*e}return function(e,t){var n=function(e,t){var n,r,o,i,u,c;for(o=e,c=0;c<8;c++){if(i=f(o)-e,T(i)<t)return o;if(T(u=(3*l*o+2*s)*o+a)<1e-6)break;o-=i/u}if((o=e)<(n=0))return n;if(o>(r=1))return r;for(;n<r;){if(i=f(o),T(i-e)<t)return o;e>i?n=o:r=o,o=(r-n)/2+n}return o}(e,t);return((d*n+c)*n+u)*n}(e,1/(200*i))}function ot(e,t){var n=[],r={};if(this.ms=t,this.times=1,e){for(var o in e)e[u](o)&&(r[B(o)]=e[o],n.push(B(o)));n.sort(X)}this.anim=r,this.top=n[n.length-1],this.percents=n}function it(n,r,o,i,s,l){o=B(o);var c,d,f,h,g,m,v=n.ms,x={},w={},C={};if(i)for(S=0,_=Qe.length;S<_;S++){var k=Qe[S];if(k.el.id==r.id&&k.anim==n){k.percent!=o?(Qe.splice(S,1),f=1):d=k,r.attr(k.totalOrigin);break}}else i=+w;for(var S=0,_=n.percents.length;S<_;S++){if(n.percents[S]==o||n.percents[S]>i*n.top){v=v/n.top*((o=n.percents[S])-(g=n.percents[S-1]||0)),h=n.percents[S+1],c=n.anim[o];break}i&&r.attr(n.anim[n.percents[S]])}if(c){if(d)d.initstatus=i,d.start=new Date-d.ms*i;else{for(var T in c)if(c[u](T)&&(j[u](T)||r.paper.customAttributes[u](T)))switch(x[T]=r.attr(T),null==x[T]&&(x[T]=$[T]),w[T]=c[T],j[T]){case D:C[T]=(w[T]-x[T])/v;break;case"colour":x[T]=t.getRGB(x[T]);var E=t.getRGB(w[T]);C[T]={r:(E.r-x[T].r)/v,g:(E.g-x[T].g)/v,b:(E.b-x[T].b)/v};break;case"path":var A=Ee(x[T],w[T]),N=A[1];for(x[T]=A[0],C[T]=[],S=0,_=x[T].length;S<_;S++){C[T][S]=[0];for(var R=1,L=x[T][S].length;R<L;R++)C[T][S][R]=(N[S][R]-x[T][S][R])/v}break;case"transform":var P=r._,O=Le(P[T],w[T]);if(O)for(x[T]=O.from,w[T]=O.to,C[T]=[],C[T].real=!0,S=0,_=x[T].length;S<_;S++)for(C[T][S]=[x[T][S][0]],R=1,L=x[T][S].length;R<L;R++)C[T][S][R]=(w[T][S][R]-x[T][S][R])/v;else{var F=r.matrix||new Pe,M={_:{transform:P.transform},getBBox:function(){return r.getBBox(1)}};x[T]=[F.a,F.b,F.c,F.d,F.e,F.f],Ne(M,w[T]),w[T]=M._.transform,C[T]=[(M.matrix.a-F.a)/v,(M.matrix.b-F.b)/v,(M.matrix.c-F.c)/v,(M.matrix.d-F.d)/v,(M.matrix.e-F.e)/v,(M.matrix.f-F.f)/v]}break;case"csv":var H=y(c[T])[b](a),z=y(x[T])[b](a);if("clip-rect"==T)for(x[T]=z,C[T]=[],S=z.length;S--;)C[T][S]=(H[S]-x[T][S])/v;w[T]=H;break;default:for(H=[][p](c[T]),z=[][p](x[T]),C[T]=[],S=r.paper.customAttributes[T].length;S--;)C[T][S]=((H[S]||0)-(z[S]||0))/v}var U=c.easing,q=t.easing_formulas[U];if(!q)if((q=y(U).match(I))&&5==q.length){var W=q;q=function(e){return rt(e,+W[1],+W[2],+W[3],+W[4],v)}}else q=Y;if(k={anim:n,percent:o,timestamp:m=c.start||n.start||+new Date,start:m+(n.del||0),status:0,initstatus:i||0,stop:!1,ms:v,easing:q,from:x,diff:C,to:w,el:r,callback:c.callback,prev:g,next:h,repeat:l||n.times,origin:r.attr(),totalOrigin:s},Qe.push(k),i&&!d&&!f&&(k.stop=!0,k.start=new Date-v*i,1==Qe.length))return tt();f&&(k.start=new Date-k.ms*i),1==Qe.length&&et(tt)}e("raphael.anim.start."+r.id,r,n)}}function at(e){for(var t=0;t<Qe.length;t++)Qe[t].el.paper==e&&Qe.splice(t--,1)}Ue.animateWith=function(e,n,r,o,i,a){if(this.removed)return a&&a.call(this),this;var s=r instanceof ot?r:t.animation(r,o,i,a);it(s,this,s.percents[0],null,this.attr());for(var l=0,u=Qe.length;l<u;l++)if(Qe[l].anim==n&&Qe[l].el==e){Qe[u-1].start=Qe[l].start;break}return this},Ue.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},ot.prototype.delay=function(e){var t=new ot(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},ot.prototype.repeat=function(e){var t=new ot(this.anim,this.ms);return t.del=this.del,t.times=k.floor(S(e,0))||1,t},t.animation=function(e,n,r,o){if(e instanceof ot)return e;!t.is(r,"function")&&r||(o=o||r||null,r=null),e=Object(e),n=+n||0;var i,a,s={};for(a in e)e[u](a)&&B(a)!=a&&B(a)+"%"!=a&&(i=!0,s[a]=e[a]);if(i)return r&&(s.easing=r),o&&(s.callback=o),new ot({100:s},n);if(o){var l=0;for(var c in e){var d=F(c);e[u](c)&&d>l&&(l=d)}!e[l+="%"].callback&&(e[l].callback=o)}return new ot(e,n)},Ue.animate=function(e,n,r,o){if(this.removed)return o&&o.call(this),this;var i=e instanceof ot?e:t.animation(e,n,r,o);return it(i,this,i.percents[0],null,this.attr()),this},Ue.setTime=function(e,t){return e&&null!=t&&this.status(e,_(t,e.ms)/e.ms),this},Ue.status=function(e,t){var n,r,o=[],i=0;if(null!=t)return it(e,this,-1,_(t,1)),this;for(n=Qe.length;i<n;i++)if((r=Qe[i]).el.id==this.id&&(!e||r.anim==e)){if(e)return r.status;o.push({anim:r.anim,status:r.status})}return e?0:o},Ue.pause=function(t){for(var n=0;n<Qe.length;n++)Qe[n].el.id!=this.id||t&&Qe[n].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,Qe[n].anim)&&(Qe[n].paused=!0);return this},Ue.resume=function(t){for(var n=0;n<Qe.length;n++)if(Qe[n].el.id==this.id&&(!t||Qe[n].anim==t)){var r=Qe[n];!1!==e("raphael.anim.resume."+this.id,this,r.anim)&&(delete r.paused,this.status(r.anim,r.status))}return this},Ue.stop=function(t){for(var n=0;n<Qe.length;n++)Qe[n].el.id!=this.id||t&&Qe[n].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,Qe[n].anim)&&Qe.splice(n--,1);return this},e.on("raphael.remove",at),e.on("raphael.clear",at),Ue.toString=function(){return"RaphaÃ«lâs object"};var st,lt,ut,ct,dt=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,n=e.length;t<n;t++)!e[t]||e[t].constructor!=Ue.constructor&&e[t].constructor!=dt||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},ft=dt.prototype;for(var ht in ft.push=function(){for(var e,t,n=0,r=arguments.length;n<r;n++)!(e=arguments[n])||e.constructor!=Ue.constructor&&e.constructor!=dt||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},ft.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ft.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(!1===e.call(t,this.items[n],n))return this;return this},Ue)Ue[u](ht)&&(ft[ht]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][h](n,t)})}}(ht));return ft.attr=function(e,n){if(e&&t.is(e,N)&&t.is(e[0],"object"))for(var r=0,o=e.length;r<o;r++)this.items[r].attr(e[r]);else for(var i=0,a=this.items.length;i<a;i++)this.items[i].attr(e,n);return this},ft.clear=function(){for(;this.length;)this.pop()},ft.splice=function(e,t,n){e=e<0?S(this.length+e,0):e,t=S(0,_(this.length-e,t));var r,o=[],i=[],a=[];for(r=2;r<arguments.length;r++)a.push(arguments[r]);for(r=0;r<t;r++)i.push(this[e+r]);for(;r<this.length-e;r++)o.push(this[e+r]);var s=a.length;for(r=0;r<s+o.length;r++)this.items[e+r]=this[e+r]=r<s?a[r]:o[r-s];for(r=this.items.length=this.length-=t-s;this[r];)delete this[r++];return new dt(i)},ft.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0},ft.animate=function(e,n,r,o){(t.is(r,"function")||!r)&&(o=r||null);var i,a,s=this.items.length,l=s,u=this;if(!s)return this;o&&(a=function(){!--s&&o.call(u)}),r=t.is(r,"string")?r:a;var c=t.animation(e,n,r,a);for(i=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(i,c,c),this.items[l]&&!this.items[l].removed||s--;return this},ft.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},ft.getBBox=function(){for(var e=[],t=[],n=[],r=[],o=this.items.length;o--;)if(!this.items[o].removed){var i=this.items[o].getBBox();e.push(i.x),t.push(i.y),n.push(i.x+i.width),r.push(i.y+i.height)}return{x:e=_[h](0,e),y:t=_[h](0,t),x2:n=S[h](0,n),y2:r=S[h](0,r),width:n-e,height:r-t}},ft.clone=function(e){e=this.paper.set();for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},ft.toString=function(){return"RaphaÃ«lâs set"},ft.glow=function(e){var t=this.paper.set();return this.forEach(function(n,r){var o=n.glow(e);null!=o&&o.forEach(function(e,n){t.push(e)})}),t},ft.isPointInside=function(e,t){var n=!1;return this.forEach(function(r){if(r.isPointInside(e,t))return n=!0,!1}),n},t.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[u](r)&&(t.face[r]=e.face[r]);if(this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t],!e.svg)for(var o in t.face["units-per-em"]=F(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[u](o)){var i=e.glyphs[o];if(t.glyphs[o]={w:i.w,k:{},d:i.d&&"M"+i.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},i.k)for(var a in i.k)i[u](a)&&(t.glyphs[o].k[a]=i.k[a])}return e},r.getFont=function(e,n,r,o){if(o=o||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var i,a=t.fonts[e];if(!a){var s=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,m)+"(\\s|$)","i");for(var l in t.fonts)if(t.fonts[u](l)&&s.test(l)){a=t.fonts[l];break}}if(a)for(var c=0,d=a.length;c<d&&((i=a[c]).face["font-weight"]!=n||i.face["font-style"]!=r&&i.face["font-style"]||i.face["font-stretch"]!=o);c++);return i}},r.print=function(e,n,r,o,i,s,l,u){s=s||"middle",l=S(_(l||0,1),-1),u=S(_(u||1,3),1);var c,d=y(r)[b](m),f=0,h=0,p=m;if(t.is(o,"string")&&(o=this.getFont(o)),o){c=(i||16)/o.face["units-per-em"];for(var g=o.face.bbox[b](a),v=+g[0],x=g[3]-g[1],w=0,C=+g[1]+("baseline"==s?x+ +o.face.descent:x/2),k=0,T=d.length;k<T;k++){if("\n"==d[k])f=0,A=0,h=0,w+=x*u;else{var E=h&&o.glyphs[d[k-1]]||{},A=o.glyphs[d[k]];f+=h?(E.w||o.w)+(E.k&&E.k[d[k]]||0)+o.w*l:0,h=1}A&&A.d&&(p+=t.transformPath(A.d,["t",f*c,w*c,"s",c,c,v,C,"t",(e-v)/c,(n-C)/c]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},r.add=function(e){if(t.is(e,"array"))for(var n,r=this.set(),o=0,i=e.length;o<i;o++)s[u]((n=e[o]||{}).type)&&r.push(this[n.type]().attr(n));return r},t.format=function(e,n){var r=t.is(n,N)?[0][p](n):arguments;return e&&t.is(e,"string")&&r.length-1&&(e=e.replace(l,function(e,t){return null==r[++t]?m:r[t]})),e||m},t.fullfill=(st=/\{([^\}]+)\}/g,lt=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t){return String(e).replace(st,function(e,n){return function(e,t,n){var r=n;return t.replace(lt,function(e,t,n,o,i){t=t||o,r&&(t in r&&(r=r[t]),"function"==typeof r&&i&&(r=r()))}),r=(null==r||r==n?e:r)+""}(e,n,t)})}),t.ninja=function(){if(d.was)c.win.Raphael=d.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return t},t.st=ft,e.on("raphael.DOMload",function(){n=!0}),null==(ut=document).readyState&&ut.addEventListener&&(ut.addEventListener("DOMContentLoaded",ct=function(){ut.removeEventListener("DOMContentLoaded",ct,!1),ut.readyState="complete"},!1),ut.readyState="loading"),function e(){/in/.test(ut.readyState)?setTimeout(e,9):t.eve("raphael.DOMload")}(),t}).apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(3),n(4)],void 0===(o=(function(e){return e}).apply(t,r))||(e.exports=o)},function(e,t,n){var r,o,i,a,s,l,u,c,d,f,h,p,g,m;a="hasOwnProperty",s=/[\.\/]/,l=/\s*,\s*/,u=function(e,t){return e-t},c={n:{}},d=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},f=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},h=Object.prototype.toString,p=String,g=Array.isArray||function(e){return e instanceof Array||"[object Array]"==h.call(e)},(m=function(e,t){var n,r=i,a=Array.prototype.slice.call(arguments,2),s=m.listeners(e),l=0,c=[],h={},p=[],g=o;p.firstDefined=d,p.lastDefined=f,o=e,i=0;for(var v=0,y=s.length;v<y;v++)"zIndex"in s[v]&&(c.push(s[v].zIndex),s[v].zIndex<0&&(h[s[v].zIndex]=s[v]));for(c.sort(u);c[l]<0;)if(n=h[c[l++]],p.push(n.apply(t,a)),i)return i=r,p;for(v=0;v<y;v++)if("zIndex"in(n=s[v]))if(n.zIndex==c[l]){if(p.push(n.apply(t,a)),i)break;do{if((n=h[c[++l]])&&p.push(n.apply(t,a)),i)break}while(n)}else h[n.zIndex]=n;else if(p.push(n.apply(t,a)),i)break;return i=r,o=g,p})._events=c,m.listeners=function(e){var t,n,r,o,i,a,l,u,d=g(e)?e:e.split(s),f=c,h=[f],p=[];for(o=0,i=d.length;o<i;o++){for(u=[],a=0,l=h.length;a<l;a++)for(n=[(f=h[a].n)[d[o]],f["*"]],r=2;r--;)(t=n[r])&&(u.push(t),p=p.concat(t.f||[]));h=u}return p},m.separator=function(e){e?(e="["+(e=p(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",s=new RegExp(e)):s=/[\.\/]/},m.on=function(e,t){if("function"!=typeof t)return function(){};for(var n=g(e)?g(e[0])?e:[e]:p(e).split(l),r=0,o=n.length;r<o;r++)!function(e){for(var n,r=g(e)?e:p(e).split(s),o=c,i=0,a=r.length;i<a;i++)o=(o=o.n).hasOwnProperty(r[i])&&o[r[i]]||(o[r[i]]={n:{}});for(o.f=o.f||[],i=0,a=o.f.length;i<a;i++)if(o.f[i]==t){n=!0;break}!n&&o.f.push(t)}(n[r]);return function(e){+e==+e&&(t.zIndex=+e)}},m.f=function(e){var t=[].slice.call(arguments,1);return function(){m.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},m.stop=function(){i=1},m.nt=function(e){var t=g(o)?o.join("."):o;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},m.nts=function(){return g(o)?o:o.split(s)},m.off=m.unbind=function(e,t){if(e){var n=g(e)?g(e[0])?e:[e]:p(e).split(l);if(n.length>1)for(var r=0,o=n.length;r<o;r++)m.off(n[r],t);else{n=g(e)?e:p(e).split(s);var i,u,d,f,h,v=[c];for(r=0,o=n.length;r<o;r++)for(f=0;f<v.length;f+=d.length-2){if(d=[f,1],i=v[f].n,"*"!=n[r])i[n[r]]&&d.push(i[n[r]]);else for(u in i)i[a](u)&&d.push(i[u]);v.splice.apply(v,d)}for(r=0,o=v.length;r<o;r++)for(i=v[r];i.n;){if(t){if(i.f){for(f=0,h=i.f.length;f<h;f++)if(i.f[f]==t){i.f.splice(f,1);break}!i.f.length&&delete i.f}for(u in i.n)if(i.n[a](u)&&i.n[u].f){var y=i.n[u].f;for(f=0,h=y.length;f<h;f++)if(y[f]==t){y.splice(f,1);break}!y.length&&delete i.n[u].f}}else for(u in delete i.f,i.n)i.n[a](u)&&i.n[u].f&&delete i.n[u].f;i=i.n}}}else m._events=c={n:{}}},m.once=function(e,t){var n=function(){return m.off(e,n),t.apply(this,arguments)};return m.on(e,n)},m.version="0.5.0",m.toString=function(){return"You are running Eve 0.5.0"},e.exports?e.exports=m:void 0===(r=(function(){return m}).apply(t,[]))||(e.exports=r)},function(e,t,n){var r,o;r=[n(0)],void 0===(o=(function(e){if(!e||e.svg){var t="hasOwnProperty",n=String,r=parseFloat,o=parseInt,i=Math,a=i.max,s=i.abs,l=i.pow,u=/[, ]+/,c=e.eve,d="",f=" ",h="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};e.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃ«l "+this.version};var m=function(r,o){if(o)for(var i in"string"==typeof r&&(r=m(r)),o)o[t](i)&&("xlink:"==i.substring(0,6)?r.setAttributeNS(h,i.substring(6),n(o[i])):r.setAttribute(i,n(o[i])));else(r=e._g.doc.createElementNS("http://www.w3.org/2000/svg",r)).style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},v=function(t,o){var u="linear",c=t.id+o,f=.5,h=.5,p=t.node,g=t.paper,v=p.style,b=e._g.doc.getElementById(c);if(!b){if(o=(o=n(o).replace(e._radial_gradient,function(e,t,n){if(u="radial",t&&n){f=r(t);var o=2*((h=r(n))>.5)-1;l(f-.5,2)+l(h-.5,2)>.25&&(h=i.sqrt(.25-l(f-.5,2))*o+.5)&&.5!=h&&(h=h.toFixed(5)-1e-5*o)}return d})).split(/\s*\-\s*/),"linear"==u){var x=o.shift();if(x=-r(x),isNaN(x))return null;var w=[0,0,i.cos(e.rad(x)),i.sin(e.rad(x))],C=1/(a(s(w[2]),s(w[3]))||1);w[2]*=C,w[3]*=C,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var k=e._parseDots(o);if(!k)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){b=m(u+"Gradient",{id:c}),t.gradient=b,m(b,"radial"==u?{fx:f,fy:h}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(b);for(var S=0,_=k.length;S<_;S++)b.appendChild(m("stop",{offset:k[S].offset?k[S].offset:S?"100%":"0%","stop-color":k[S].color||"#fff","stop-opacity":isFinite(k[S].opacity)?k[S].opacity:1}))}}return m(p,{fill:y(c),opacity:1,"fill-opacity":1}),v.fill=d,v.opacity=1,v.fillOpacity=1,1},y=function(e){if((t=document.documentMode)&&(9===t||10===t))return"url('#"+e+"')";var t,n=document.location;return"url('"+n.protocol+"//"+n.host+n.pathname+n.search+"#"+e+"')"},b=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},x=function(r,o,i){if("path"==r.type){for(var a,s,l,u,c,f=n(o).toLowerCase().split("-"),h=r.paper,v=i?"end":"start",y=r.node,b=r.attrs,x=b["stroke-width"],w=f.length,C="classic",k=3,S=3,_=5;w--;)switch(f[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":C=f[w];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":k=5;break;case"short":k=2}if("open"==C?(k+=2,S+=2,_+=2,l=1,u=i?4:1,c={fill:"none",stroke:b.stroke}):(u=l=k/2,c={fill:b.stroke,stroke:"none"}),r._.arrows?i?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=C){var T="raphael-marker-"+C,E="raphael-marker-"+v+C+k+S+"-obj"+r.id;e._g.doc.getElementById(T)?g[T]++:(h.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[C],id:T})),g[T]=1);var A,D=e._g.doc.getElementById(E);D?(g[E]++,A=D.getElementsByTagName("use")[0]):(D=m(m("marker"),{id:E,markerHeight:S,markerWidth:k,orient:"auto",refX:u,refY:S/2}),A=m(m("use"),{"xlink:href":"#"+T,transform:(i?"rotate(180 "+k/2+" "+S/2+") ":d)+"scale("+k/_+","+S/_+")","stroke-width":(1/((k/_+S/_)/2)).toFixed(4)}),D.appendChild(A),h.defs.appendChild(D),g[E]=1),m(A,c);var N=l*("diamond"!=C&&"oval"!=C);i?(a=r._.arrows.startdx*x||0,s=e.getTotalLength(b.path)-N*x):(a=N*x,s=e.getTotalLength(b.path)-(r._.arrows.enddx*x||0)),(c={})["marker-"+v]="url(#"+E+")",(s||a)&&(c.d=e.getSubpath(b.path,a,s)),m(y,c),r._.arrows[v+"Path"]=T,r._.arrows[v+"Marker"]=E,r._.arrows[v+"dx"]=N,r._.arrows[v+"Type"]=C,r._.arrows[v+"String"]=o}else i?(a=r._.arrows.startdx*x||0,s=e.getTotalLength(b.path)-a):(a=0,s=e.getTotalLength(b.path)-(r._.arrows.enddx*x||0)),r._.arrows[v+"Path"]&&m(y,{d:e.getSubpath(b.path,a,s)}),delete r._.arrows[v+"Path"],delete r._.arrows[v+"Marker"],delete r._.arrows[v+"dx"],delete r._.arrows[v+"Type"],delete r._.arrows[v+"String"];for(c in g)if(g[t](c)&&!g[c]){var R=e._g.doc.getElementById(c);R&&R.parentNode.removeChild(R)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},C=function(e,t,r){if(t=w[n(t).toLowerCase()]){for(var o=e.attrs["stroke-width"]||"1",i={round:o,square:o,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=t.length;s--;)a[s]=t[s]*o+(s%2?1:-1)*i;m(e.node,{"stroke-dasharray":a.join(",")})}else m(e.node,{"stroke-dasharray":"none"})},k=function(r,i){var l=r.node,c=r.attrs,f=l.style.visibility;for(var p in l.style.visibility="hidden",i)if(i[t](p)){if(!e._availableAttrs[t](p))continue;var g=i[p];switch(c[p]=g,p){case"blur":r.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=m("title");var w=e._g.doc.createTextNode(g);y.appendChild(w),l.appendChild(y)}break;case"href":case"target":var k=l.parentNode;if("a"!=k.tagName.toLowerCase()){var _=m("a");k.insertBefore(_,l),_.appendChild(l),k=_}"target"==p?k.setAttributeNS(h,"show","blank"==g?"new":g):k.setAttributeNS(h,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":x(r,g);break;case"arrow-end":x(r,g,1);break;case"clip-rect":var T=n(g).split(u);if(4==T.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var E=m("clipPath"),A=m("rect");E.id=e.createUUID(),m(A,{x:T[0],y:T[1],width:T[2],height:T[3]}),E.appendChild(A),r.paper.defs.appendChild(E),m(l,{"clip-path":"url(#"+E.id+")"}),r.clip=A}if(!g){var D=l.getAttribute("clip-path");if(D){var N=e._g.doc.getElementById(D.replace(/(^url\(#|\)$)/g,d));N&&N.parentNode.removeChild(N),m(l,{"clip-path":d}),delete r.clip}}break;case"path":"path"==r.type&&(m(l,{d:g?c.path=e._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),r._.dirty=1,!c.fx)break;p="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==r.type)break;case"cx":l.setAttribute(p,g),r.pattern&&b(r),r._.dirty=1;break;case"height":if(l.setAttribute(p,g),r._.dirty=1,!c.fy)break;p="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==r.type)break;case"cy":l.setAttribute(p,g),r.pattern&&b(r),r._.dirty=1;break;case"r":"rect"==r.type?m(l,{rx:g,ry:g}):l.setAttribute(p,g),r._.dirty=1;break;case"src":"image"==r.type&&l.setAttributeNS(h,"href",g);break;case"stroke-width":1==r._.sx&&1==r._.sy||(g/=a(s(r._.sx),s(r._.sy))||1),l.setAttribute(p,g),c["stroke-dasharray"]&&C(r,c["stroke-dasharray"],i),r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"stroke-dasharray":C(r,g,i);break;case"fill":var R=n(g).match(e._ISURL);if(R){E=m("pattern");var L=m("image");E.id=e.createUUID(),m(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(L,{x:0,y:0,"xlink:href":R[1]}),E.appendChild(L),function(t){e._preload(R[1],function(){var e=this.offsetWidth,n=this.offsetHeight;m(t,{width:e,height:n}),m(L,{width:e,height:n})})}(E),r.paper.defs.appendChild(E),m(l,{fill:"url(#"+E.id+")"}),r.pattern=E,r.pattern&&b(r);break}var P=e.getRGB(g);if(P.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&v(r,g)){if("opacity"in c||"fill-opacity"in c){var I=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d));if(I){var O=I.getElementsByTagName("stop");m(O[O.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete i.gradient,delete c.gradient,!e.is(c.opacity,"undefined")&&e.is(i.opacity,"undefined")&&m(l,{opacity:c.opacity}),!e.is(c["fill-opacity"],"undefined")&&e.is(i["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});P[t]("opacity")&&m(l,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=e.getRGB(g),l.setAttribute(p,P.hex),"stroke"==p&&P[t]("opacity")&&m(l,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==p&&r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&v(r,g);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(I=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d)))&&(O=I.getElementsByTagName("stop"),m(O[O.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=o(g,10)+"px");var B=p.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[B]=g,r._.dirty=1,l.setAttribute(p,g)}}S(r,i),l.style.visibility=f},S=function(r,i){if("text"==r.type&&(i[t]("text")||i[t]("font")||i[t]("font-size")||i[t]("x")||i[t]("y"))){var a=r.attrs,s=r.node,l=s.firstChild?o(e._g.doc.defaultView.getComputedStyle(s.firstChild,d).getPropertyValue("font-size"),10):10;if(i[t]("text")){for(a.text=i.text;s.firstChild;)s.removeChild(s.firstChild);for(var u,c=n(i.text).split("\n"),f=[],h=0,p=c.length;h<p;h++)u=m("tspan"),h&&m(u,{dy:1.2*l,x:a.x}),u.appendChild(e._g.doc.createTextNode(c[h])),s.appendChild(u),f[h]=u}else for(h=0,p=(f=s.getElementsByTagName("tspan")).length;h<p;h++)h?m(f[h],{dy:1.2*l,x:a.x}):m(f[0],{dy:0});m(s,{x:a.x,y:a.y}),r._.dirty=1;var g=r._getBBox(),v=a.y-(g.y+g.height/2);v&&e.is(v,"finite")&&m(f[0],{dy:v})}},_=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},T=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},E=e.el;T.prototype=E,E.constructor=T,e._engine.path=function(e,t){var n=m("path");t.canvas&&t.canvas.appendChild(n);var r=new T(n,t);return r.type="path",k(r,{fill:"none",stroke:"#000",path:e}),r},E.rotate=function(e,t,o){if(this.removed)return this;if((e=n(e).split(u)).length-1&&(t=r(e[1]),o=r(e[2])),e=r(e[0]),null==o&&(t=o),null==t||null==o){var i=this.getBBox(1);t=i.x+i.width/2,o=i.y+i.height/2}return this.transform(this._.transform.concat([["r",e,t,o]])),this},E.scale=function(e,t,o,i){if(this.removed)return this;if((e=n(e).split(u)).length-1&&(t=r(e[1]),o=r(e[2]),i=r(e[3])),e=r(e[0]),null==t&&(t=e),null==i&&(o=i),null==o||null==i)var a=this.getBBox(1);return this.transform(this._.transform.concat([["s",e,t,o=null==o?a.x+a.width/2:o,i=null==i?a.y+a.height/2:i]])),this},E.translate=function(e,t){return this.removed||((e=n(e).split(u)).length-1&&(t=r(e[1])),e=r(e[0])||0,this.transform(this._.transform.concat([["t",e,t=+t||0]]))),this},E.transform=function(n){var r=this._;if(null==n)return r.transform;if(e._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&m(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var o=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":o})}return this},E.hide=function(){return this.removed||(this.node.style.display="none"),this},E.show=function(){return this.removed||(this.node.style.display=""),this},E.remove=function(){var t=_(this.node);if(!this.removed&&t.parentNode){var n=this.paper;for(var r in n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),e._tear(this,n),t.parentNode.removeChild(t),this.removeData(),this)this[r]="function"==typeof this[r]?e._removedFactory(r):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,n=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(n=!0,t.display="");var r={};try{r=this.node.getBBox()}catch(e){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(t.display="none")}return e&&this.hide(),r},E.attr=function(n,r){if(this.removed)return this;if(null==n){var o={};for(var i in this.attrs)this.attrs[t](i)&&(o[i]=this.attrs[i]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==r&&e.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var a=n.split(u),s={},l=0,d=a.length;l<d;l++)s[n]=(n=a[l])in this.attrs?this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?this.paper.customAttributes[n].def:e._availableAttrs[n];return d-1?s:s[a[0]]}if(null==r&&e.is(n,"array")){for(s={},l=0,d=n.length;l<d;l++)s[n[l]]=this.attr(n[l]);return s}if(null!=r){var f={};f[n]=r}else null!=n&&e.is(n,"object")&&(f=n);for(var h in f)c("raphael.attr."+h+"."+this.id,this,f[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[t](h)&&f[t](h)&&e.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(f[h]));for(var g in this.attrs[h]=f[h],p)p[t](g)&&(f[g]=p[g])}return k(this,f),this},E.toFront=function(){if(this.removed)return this;var t=_(this.node);t.parentNode.appendChild(t);var n=this.paper;return n.top!=this&&e._tofront(this,n),this},E.toBack=function(){if(this.removed)return this;var t=_(this.node),n=t.parentNode;return n.insertBefore(t,n.firstChild),e._toback(this,this.paper),this},E.insertAfter=function(t){if(this.removed||!t)return this;var n=_(this.node),r=_(t.node||t[t.length-1].node);return r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):r.parentNode.appendChild(n),e._insertafter(this,t,this.paper),this},E.insertBefore=function(t){if(this.removed||!t)return this;var n=_(this.node),r=_(t.node||t[0].node);return r.parentNode.insertBefore(n,r),e._insertbefore(this,t,this.paper),this},E.blur=function(t){var n=this;if(0!=+t){var r=m("filter"),o=m("feGaussianBlur");n.attrs.blur=t,r.id=e.createUUID(),m(o,{stdDeviation:+t||1.5}),r.appendChild(o),n.paper.defs.appendChild(r),n._blur=r,m(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},e._engine.circle=function(e,t,n,r){var o=m("circle");e.canvas&&e.canvas.appendChild(o);var i=new T(o,e);return i.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},i.type="circle",m(o,i.attrs),i},e._engine.rect=function(e,t,n,r,o,i){var a=m("rect");e.canvas&&e.canvas.appendChild(a);var s=new T(a,e);return s.attrs={x:t,y:n,width:r,height:o,rx:i||0,ry:i||0,fill:"none",stroke:"#000"},s.type="rect",m(a,s.attrs),s},e._engine.ellipse=function(e,t,n,r,o){var i=m("ellipse");e.canvas&&e.canvas.appendChild(i);var a=new T(i,e);return a.attrs={cx:t,cy:n,rx:r,ry:o,fill:"none",stroke:"#000"},a.type="ellipse",m(i,a.attrs),a},e._engine.image=function(e,t,n,r,o,i){var a=m("image");m(a,{x:n,y:r,width:o,height:i,preserveAspectRatio:"none"}),a.setAttributeNS(h,"href",t),e.canvas&&e.canvas.appendChild(a);var s=new T(a,e);return s.attrs={x:n,y:r,width:o,height:i,src:t},s.type="image",s},e._engine.text=function(t,n,r,o){var i=m("text");t.canvas&&t.canvas.appendChild(i);var a=new T(i,t);return a.attrs={x:n,y:r,"text-anchor":"middle",text:o,"font-family":e._availableAttrs["font-family"],"font-size":e._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",k(a,a.attrs),a},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t&&t.container;if(!n)throw new Error("SVG container not found.");var r,o=t.x,i=t.y,a=t.width,s=t.height,l=m("svg"),u="overflow:hidden;";return o=o||0,i=i||0,m(l,{height:s=s||342,version:1.1,width:a=a||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=u+"position:absolute;left:"+o+"px;top:"+i+"px",e._g.doc.body.appendChild(l),r=1):(l.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new e._Paper).width=a,n.height=s,n.canvas=l,n.clear(),n._left=n._top=0,r&&(n.renderfix=function(){}),n.renderfix(),n},e._engine.setViewBox=function(e,t,n,r,o){c("raphael.setViewBox",this,this._viewBox,[e,t,n,r,o]);var i,s=this.getSize(),l=a(n/s.width,r/s.height),u=this.top,d=o?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(l=1),delete this._vbSize,i="0 0 "+this.width+f+this.height):(this._vbSize=l,i=e+f+t+f+n+f+r),m(this.canvas,{viewBox:i,preserveAspectRatio:d});l&&u;)u.attr({"stroke-width":"stroke-width"in u.attrs?u.attrs["stroke-width"]:1}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[e,t,n,r,!!o],this},e.prototype.renderfix=function(){var e,t=this.canvas,n=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var r=-e.e%1,o=-e.f%1;(r||o)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),o&&(this._top=(this._top+o)%1,n.top=this._top+"px"))},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with RaphaÃ«l "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){for(var t in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null};var A=e.st;for(var D in E)E[t](D)&&!A[t](D)&&(A[D]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(D))}}).apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0)],void 0===(o=(function(e){if(!e||e.vml){var t="hasOwnProperty",n=String,r=parseFloat,o=Math,i=o.round,a=o.max,s=o.min,l=o.abs,u=/[, ]+/,c=e.eve,d=" ",f="",h={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,b={path:1,rect:1,image:1},x={circle:1,ellipse:1},w=function(t,n,r){var o=e.matrix();return o.rotate(-t,.5,.5),{dx:o.x(n,r),dy:o.y(n,r)}},C=function(e,t,n,r,o,i){var a=e._,s=e.matrix,u=a.fillpos,c=e.node,f=c.style,h=1,p="",g=y/t,m=y/n;if(f.visibility="hidden",t&&n){if(c.coordsize=l(g)+d+l(m),f.rotation=i*(t*n<0?-1:1),i){var v=w(i,r,o);r=v.dx,o=v.dy}if(t<0&&(p+="x"),n<0&&(p+=" y")&&(h=-1),f.flip=p,c.coordorigin=r*-g+d+o*-m,u||a.fillsize){var b=c.getElementsByTagName("fill");c.removeChild(b=b&&b[0]),u&&(v=w(i,s.x(u[0],u[1]),s.y(u[0],u[1])),b.position=v.dx*h+d+v.dy*h),a.fillsize&&(b.size=a.fillsize[0]*l(t)+d+a.fillsize[1]*l(n)),c.appendChild(b)}f.visibility="visible"}};e.toString=function(){return"Your browser doesnât support SVG. Falling down to VML.\nYou are running RaphaÃ«l "+this.version};var k,S=function(e,t,r){for(var o=n(t).toLowerCase().split("-"),i=r?"end":"start",a=o.length,s="classic",l="medium",u="medium";a--;)switch(o[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=o[a];break;case"wide":case"narrow":u=o[a];break;case"long":case"short":l=o[a]}var c=e.node.getElementsByTagName("stroke")[0];c[i+"arrow"]=s,c[i+"arrowlength"]=l,c[i+"arrowwidth"]=u},_=function(o,l){o.attrs=o.attrs||{};var c=o.node,g=o.attrs,v=c.style,w=b[o.type]&&(l.x!=g.x||l.y!=g.y||l.width!=g.width||l.height!=g.height||l.cx!=g.cx||l.cy!=g.cy||l.rx!=g.rx||l.ry!=g.ry||l.r!=g.r),_=x[o.type]&&(g.cx!=l.cx||g.cy!=l.cy||g.r!=l.r||g.rx!=l.rx||g.ry!=l.ry),E=o;for(var A in l)l[t](A)&&(g[A]=l[A]);if(w&&(g.path=e._getPath[o.type](o),o._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&o.blur(l.blur),(l.path&&"path"==o.type||w)&&(c.path=function(t){var r=/[ahqstv]/gi,o=e._pathToAbsolute;if(n(t).match(r)&&(o=e._path2curve),r=/[clmz]/g,o==e._pathToAbsolute&&!n(t).match(r)){var a=n(t).replace(p,function(e,t,n){var r=[],o="m"==t.toLowerCase(),a=h[t];return n.replace(m,function(e){o&&2==r.length&&(a+=r+h["m"==t?"l":"L"],r=[]),r.push(i(e*y))}),a+r});return a}var s,l,u=o(t);a=[];for(var c=0,g=u.length;c<g;c++){s=u[c],"z"==(l=u[c][0].toLowerCase())&&(l="x");for(var v=1,b=s.length;v<b;v++)l+=i(s[v]*y)+(v!=b-1?",":f);a.push(l)}return a.join(d)}(~n(g.path).toLowerCase().indexOf("r")?e._pathToAbsolute(g.path):g.path),o._.dirty=1,"image"==o.type&&(o._.fillpos=[g.x,g.y],o._.fillsize=[g.width,g.height],C(o,1,1,0,0,0))),"transform"in l&&o.transform(l.transform),_){var D=+g.cx,N=+g.cy,R=+g.rx||+g.r||0,L=+g.ry||+g.r||0;c.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",i((D-R)*y),i((N-L)*y),i((D+R)*y),i((N+L)*y),i(D*y)),o._.dirty=1}if("clip-rect"in l){var P=n(l["clip-rect"]).split(u);if(4==P.length){P[2]=+P[2]+ +P[0],P[3]=+P[3]+ +P[1];var I=c.clipRect||e._g.doc.createElement("div"),O=I.style;O.clip=e.format("rect({1}px {2}px {3}px {0}px)",P),c.clipRect||(O.position="absolute",O.top=0,O.left=0,O.width=o.paper.width+"px",O.height=o.paper.height+"px",c.parentNode.insertBefore(I,c),I.appendChild(c),c.clipRect=I)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(o.textpath){var B=o.textpath.style;l.font&&(B.font=l.font),l["font-family"]&&(B.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(B.fontSize=l["font-size"]),l["font-weight"]&&(B.fontWeight=l["font-weight"]),l["font-style"]&&(B.fontStyle=l["font-style"])}if("arrow-start"in l&&S(E,l["arrow-start"]),"arrow-end"in l&&S(E,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var F=c.getElementsByTagName("fill");if(!(F=F&&F[0])&&(F=k("fill")),"image"==o.type&&l.src&&(F.src=l.src),l.fill&&(F.on=!0),null!=F.on&&"none"!=l.fill&&null!==l.fill||(F.on=!1),F.on&&l.fill){var M=n(l.fill).match(e._ISURL);if(M){F.parentNode==c&&c.removeChild(F),F.rotate=!0,F.src=M[1],F.type="tile";var $=o.getBBox(1);F.position=$.x+d+$.y,o._.fillpos=[$.x,$.y],e._preload(M[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else F.color=e.getRGB(l.fill).hex,F.src=f,F.type="solid",e.getRGB(l.fill).error&&(E.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&T(E,l.fill,F)&&(g.fill="none",g.gradient=l.fill,F.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var j=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+e.getRGB(l.fill).o+1||2)-1);j=s(a(j,0),1),F.opacity=j,F.src&&(F.color="none")}c.appendChild(F);var H=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],z=!1;!H&&(z=H=k("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var U=e.getRGB(l.stroke);H.on&&l.stroke&&(H.color=U.hex),j=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+U.o+1||2)-1);var q=.75*(r(l["stroke-width"])||1);if(j=s(a(j,0),1),null==l["stroke-width"]&&(q=g["stroke-width"]),l["stroke-width"]&&(H.weight=q),q&&q<1&&(j*=q)&&(H.weight=1),H.opacity=j,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=W[t](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:f}z&&c.appendChild(H)}if("text"==E.type){E.paper.canvas.style.display=f;var V=E.paper.span,G=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);v=V.style,g.font&&(v.font=g.font),g["font-family"]&&(v.fontFamily=g["font-family"]),g["font-weight"]&&(v.fontWeight=g["font-weight"]),g["font-style"]&&(v.fontStyle=g["font-style"]),G=r(g["font-size"]||G&&G[0])||10,v.fontSize=100*G+"px",E.textpath.string&&(V.innerHTML=n(E.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=V.getBoundingClientRect();E.W=g.w=(X.right-X.left)/100,E.H=g.h=(X.bottom-X.top)/100,E.X=g.x,E.Y=g.y+E.H/2,("x"in l||"y"in l)&&(E.path.v=e.format("m{0},{1}l{2},{1}",i(g.x*y),i(g.y*y),i(g.x*y)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,J=Y.length;K<J;K++)if(Y[K]in l){E._.dirty=1;break}switch(g["text-anchor"]){case"start":E.textpath.style["v-text-align"]="left",E.bbx=E.W/2;break;case"end":E.textpath.style["v-text-align"]="right",E.bbx=-E.W/2;break;default:E.textpath.style["v-text-align"]="center",E.bbx=0}E.textpath.style["v-text-kern"]=!0}},T=function(t,i,a){t.attrs=t.attrs||{};var s=Math.pow,l="linear",u=".5 .5";if(t.attrs.gradient=i,i=(i=n(i).replace(e._radial_gradient,function(e,t,n){return l="radial",t&&n&&(t=r(t),n=r(n),s(t-.5,2)+s(n-.5,2)>.25&&(n=o.sqrt(.25-s(t-.5,2))*(2*(n>.5)-1)+.5),u=t+d+n),f})).split(/\s*\-\s*/),"linear"==l){var c=i.shift();if(c=-r(c),isNaN(c))return null}var h=e._parseDots(i);if(!h)return null;if(t=t.shape||t.node,h.length){t.removeChild(a),a.on=!0,a.method="none",a.color=h[0].color,a.color2=h[h.length-1].color;for(var p=[],g=0,m=h.length;g<m;g++)h[g].offset&&p.push(h[g].offset+d+h[g].color);a.colors=p.length?p.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=u,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),t.appendChild(a)}return 1},E=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},A=e.el;E.prototype=A,A.constructor=E,A.transform=function(t){if(null==t)return this._.transform;var r,o=this.paper._viewBoxShift,i=o?"s"+[o.scale,o.scale]+"-1-1t"+[o.dx,o.dy]:f;o&&(r=t=n(t).replace(/\.{3}|\u2026/g,this._.transform||f)),e._extractTransform(this,i+t);var a,s=this.matrix.clone(),l=this.skew,u=this.node,c=~n(this.attrs.fill).indexOf("-"),h=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),h||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),c&&a.noRotation||!a.isSimple){u.style.filter=s.toFilter();var p=this.getBBox(),g=this.getBBox(1),m=p.x-g.x,v=p.y-g.y;u.coordorigin=m*-y+d+v*-y,C(this,1,1,m,v,0)}else u.style.filter=f,C(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else u.style.filter=f,l.matrix=n(s),l.offset=s.offset();return null!==r&&(this._.transform=r,e._extractTransform(this,r)),this},A.rotate=function(e,t,o){if(this.removed)return this;if(null!=e){if((e=n(e).split(u)).length-1&&(t=r(e[1]),o=r(e[2])),e=r(e[0]),null==o&&(t=o),null==t||null==o){var i=this.getBBox(1);t=i.x+i.width/2,o=i.y+i.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,o]])),this}},A.translate=function(e,t){return this.removed||((e=n(e).split(u)).length-1&&(t=r(e[1])),e=r(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]]))),this},A.scale=function(e,t,o,i){if(this.removed)return this;if((e=n(e).split(u)).length-1&&(t=r(e[1]),o=r(e[2]),i=r(e[3]),isNaN(o)&&(o=null),isNaN(i)&&(i=null)),e=r(e[0]),null==t&&(t=e),null==i&&(o=i),null==o||null==i)var a=this.getBBox(1);return this.transform(this._.transform.concat([["s",e,t,o=null==o?a.x+a.width/2:o,i=null==i?a.y+a.height/2:i]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=f),this},A.auxGetBBox=e.el.getBBox,A.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},n=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=n,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=n,t.width=e.width*n,t.height=e.height*n,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},A.attr=function(n,r){if(this.removed)return this;if(null==n){var o={};for(var i in this.attrs)this.attrs[t](i)&&(o[i]=this.attrs[i]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==r&&e.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=n.split(u),s={},l=0,d=a.length;l<d;l++)s[n]=(n=a[l])in this.attrs?this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?this.paper.customAttributes[n].def:e._availableAttrs[n];return d-1?s:s[a[0]]}if(this.attrs&&null==r&&e.is(n,"array")){for(s={},l=0,d=n.length;l<d;l++)s[n[l]]=this.attr(n[l]);return s}var f;for(var h in null!=r&&((f={})[n]=r),null==r&&e.is(n,"object")&&(f=n),f)c("raphael.attr."+h+"."+this.id,this,f[h]);if(f){for(h in this.paper.customAttributes)if(this.paper.customAttributes[t](h)&&f[t](h)&&e.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(f[h]));for(var g in this.attrs[h]=f[h],p)p[t](g)&&(f[g]=p[g])}f.text&&"text"==this.type&&(this.textpath.string=f.text),_(this,f)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},A.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this},A.insertAfter=function(t){return this.removed||(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper)),this},A.insertBefore=function(t){return this.removed||(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper)),this},A.blur=function(t){var n=this.node.runtimeStyle,r=n.filter;return r=r.replace(g,f),0!=+t?(this.attrs.blur=t,n.filter=r+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",i(+t||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur),this},e._engine.path=function(e,t){var n=k("shape");n.style.cssText=v,n.coordsize=y+d+y,n.coordorigin=t.coordorigin;var r=new E(n,t),o={fill:"none",stroke:"#000"};e&&(o.path=e),r.type="path",r.path=[],r.Path=f,_(r,o),t.canvas&&t.canvas.appendChild(n);var i=k("skew");return i.on=!0,n.appendChild(i),r.skew=i,r.transform(f),r},e._engine.rect=function(t,n,r,o,i,a){var s=e._rectPath(n,r,o,i,a),l=t.path(s),u=l.attrs;return l.X=u.x=n,l.Y=u.y=r,l.W=u.width=o,l.H=u.height=i,u.r=a,u.path=s,l.type="rect",l},e._engine.ellipse=function(e,t,n,r,o){var i=e.path();return i.X=t-r,i.Y=n-o,i.W=2*r,i.H=2*o,i.type="ellipse",_(i,{cx:t,cy:n,rx:r,ry:o}),i},e._engine.circle=function(e,t,n,r){var o=e.path();return o.X=t-r,o.Y=n-r,o.W=o.H=2*r,o.type="circle",_(o,{cx:t,cy:n,r:r}),o},e._engine.image=function(t,n,r,o,i,a){var s=e._rectPath(r,o,i,a),l=t.path(s).attr({stroke:"none"}),u=l.attrs,c=l.node,d=c.getElementsByTagName("fill")[0];return u.src=n,l.X=u.x=r,l.Y=u.y=o,l.W=u.width=i,l.H=u.height=a,u.path=s,l.type="image",d.parentNode==c&&c.removeChild(d),d.rotate=!0,d.src=n,d.type="tile",l._.fillpos=[r,o],l._.fillsize=[i,a],c.appendChild(d),C(l,1,1,0,0,0),l},e._engine.text=function(t,r,o,a){var s=k("shape"),l=k("path"),u=k("textpath");o=o||0,a=a||"",l.v=e.format("m{0},{1}l{2},{1}",i((r=r||0)*y),i(o*y),i(r*y)+1),l.textpathok=!0,u.string=n(a),u.on=!0,s.style.cssText=v,s.coordsize=y+d+y,s.coordorigin="0 0";var c=new E(s,t),h={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:a};c.shape=s,c.path=l,c.textpath=u,c.type="text",c.attrs.text=n(a),c.attrs.x=r,c.attrs.y=o,c.attrs.w=1,c.attrs.h=1,_(c,h),s.appendChild(u),s.appendChild(l),t.canvas.appendChild(s);var p=k("skew");return p.on=!0,s.appendChild(p),c.skew=p,c.transform(f),c},e._engine.setSize=function(t,n){var r=this.canvas.style;return this.width=t,this.height=n,t==+t&&(t+="px"),n==+n&&(n+="px"),r.width=t,r.height=n,r.clip="rect(0 "+t+" "+n+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,n,r,o,i){e.eve("raphael.setViewBox",this,this._viewBox,[t,n,r,o,i]);var a,s,l=this.getSize(),u=l.width,c=l.height;return i&&(r*(a=c/o)<u&&(t-=(u-r*a)/2/a),o*(s=u/r)<c&&(n-=(c-o*s)/2/s)),this._viewBox=[t,n,r,o,!!i],this._viewBoxShift={dx:-t,dy:-n,scale:l},this.forEach(function(e){e.transform("...")}),this},e._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),k=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(e){k=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t.container,r=t.height,o=t.width,i=t.x,a=t.y;if(!n)throw new Error("VML container not found.");var s=new e._Paper,l=s.canvas=e._g.doc.createElement("div"),u=l.style;return i=i||0,a=a||0,r=r||342,s.width=o=o||512,s.height=r,o==+o&&(o+="px"),r==+r&&(r+="px"),s.coordsize="21600000 21600000",s.coordorigin="0 0",s.span=e._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),u.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,r),1==n?(e._g.doc.body.appendChild(l),u.left=i+"px",u.top=a+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),s.renderfix=function(){},s},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){for(var t in e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;return!0};var D=e.st;for(var N in A)A[t](N)&&!D[t](N)&&(D[N]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(N))}}).apply(t,r))||(e.exports=o)}])}),(function(){var e,t,n,r,o=[].slice,i=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=window.Morris={},e=jQuery,t.EventEmitter=function(){function e(){}return e.prototype.on=function(e,t){return null==this.handlers&&(this.handlers={}),null==this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this},e.prototype.fire=function(){var e,t,n,r,i,a;if(t=arguments[0],e=2<=arguments.length?o.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[t]){for(a=[],n=0,r=(i=this.handlers[t]).length;r>n;n++)a.push(i[n].apply(null,e));return a}},e}(),t.commas=function(e){var t,n,r,o;return null!=e?(r=0>e?"-":"",t=Math.abs(e),r+=(n=Math.floor(t).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g,","),(o=t.toString()).length>n.length&&(r+=o.slice(n.length)),r):"-"},t.pad2=function(e){return(10>e?"0":"")+e},t.Grid=function(n){function r(t){this.resizeHandler=i(this.resizeHandler,this);var n=this;if(this.el=e("string"==typeof t.element?document.getElementById(t.element):t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=e.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(e){var t,r,o,i;return r=n.el.offset(),i=e.pageX-r.left,n.selectFrom?(t=n.data[n.hitTest(Math.min(i,n.selectFrom))]._x,o=n.data[n.hitTest(Math.max(i,n.selectFrom))]._x,n.selectionRect.attr({x:t,width:o-t})):n.fire("hovermove",i,e.pageY-r.top)}),this.el.bind("mouseleave",function(){return n.selectFrom&&(n.selectionRect.hide(),n.selectFrom=null),n.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(e){var t,r;return r=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],t=n.el.offset(),n.fire("hovermove",r.pageX-t.left,r.pageY-t.top)}),this.el.bind("click",function(e){var t;return t=n.el.offset(),n.fire("gridclick",e.pageX-t.left,e.pageY-t.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(e){var t;return t=n.el.offset(),n.startRange(e.pageX-t.left)}),this.el.bind("mouseup",function(e){var t;return t=n.el.offset(),n.endRange(e.pageX-t.left),n.fire("hovermove",e.pageX-t.left,e.pageY-t.top)})),this.options.resize&&e(window).bind("resize",function(){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return s(r,n),r.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},r.prototype.setData=function(e,n){var r,o,i,a,s,l,u,c,d,f,h,p,g;return null==n&&(n=!0),this.options.data=e,null==e||0===e.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(f=this.cumulative?0:null,h=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),i=Math.max.apply(Math,this.options.goals),h=null!=h?Math.min(h,a):a,f=null!=f?Math.max(f,i):i),this.data=(function(){var n,i,a;for(a=[],o=n=0,i=e.length;i>n;o=++n)(s={src:l=e[o]}).label=l[this.options.xkey],this.options.parseTime?(s.x=t.parseDate(s.label),this.options.dateFormat?s.label=this.options.dateFormat(s.x):"number"==typeof s.label&&(s.label=new Date(s.label).toString())):(s.x=o,this.options.xLabelFormat&&(s.label=this.options.xLabelFormat(s))),c=0,s.y=(function(){var e,t,n,o;for(o=[],r=e=0,t=(n=this.options.ykeys).length;t>e;r=++e)"string"==typeof(p=l[n[r]])&&(p=parseFloat(p)),null!=p&&"number"!=typeof p&&(p=null),null!=p&&(this.cumulative?c+=p:null!=f?(f=Math.max(p,f),h=Math.min(p,h)):f=h=p),this.cumulative&&null!=c&&(f=Math.max(c,f),h=Math.min(c,h)),o.push(p);return o}).call(this),a.push(s);return a}).call(this),this.options.parseTime&&(this.data=this.data.sort(function(e,t){return(e.x>t.x)-(t.x>e.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?(function(){var e,n,r,o;for(o=[],e=0,n=(r=this.options.events).length;n>e;e++)o.push(t.parseDate(r[e]));return o}).call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",h),this.ymax=this.yboundary("max",f),this.ymin===this.ymax&&(h&&(this.ymin-=1),this.ymax+=1),(!0===(g=this.options.axes)||"both"===g||"y"===g||!0===this.options.grid)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(u=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=(function(){var e,t,n;for(n=[],d=e=this.ymin,t=this.ymax;u>0?t>=e:e>=t;d=e+=u)n.push(d);return n}).call(this))),this.dirty=!0,n?this.redraw():void 0)},r.prototype.yboundary=function(e,t){var n,r;return"string"==typeof(n=this.options["y"+e])?"auto"===n.slice(0,4)?n.length>5?(r=parseInt(n.slice(5),10),null==t?r:Math[e](t,r)):null!=t?t:0:parseInt(n,10):n},r.prototype.autoGridLines=function(e,t,n){var r,o,i,a,s,l,u,c;return c=Math.floor(Math.log(t-e)/Math.log(10)),l=Math.pow(10,c),o=Math.floor(e/l)*l,r=Math.ceil(t/l)*l,s=(r-o)/(n-1),1===l&&s>1&&Math.ceil(s)!==s&&(s=Math.ceil(s),r=o+s*(n-1)),0>o&&r>0&&(o=Math.floor(e/s)*s,r=Math.ceil(t/s)*s),1>s?(a=Math.floor(Math.log(s)/Math.log(10)),i=function(){var e,t;for(t=[],u=e=o;s>0?r>=e:e>=r;u=e+=s)t.push(parseFloat(u.toFixed(1-a)));return t}()):i=function(){var e,t;for(t=[],u=e=o;s>0?r>=e:e>=r;u=e+=s)t.push(u);return t}(),i},r.prototype._calc=function(){var e,t,n,r,o,i,a;return r=this.el.width(),t=this.el.height(),(this.elementWidth!==r||this.elementHeight!==t||this.dirty)&&(this.elementWidth=r,this.elementHeight=t,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,(!0===(i=this.options.axes)||"both"===i||"y"===i)&&(o=(function(){var e,t,n,r;for(r=[],e=0,t=(n=this.grid).length;t>e;e++)r.push(this.measureText(this.yAxisFormat(n[e])).width);return r}).call(this),this.left+=Math.max.apply(Math,o)),(!0===(a=this.options.axes)||"both"===a||"x"===a)&&(e=(function(){var e,t,r;for(r=[],n=e=0,t=this.data.length;t>=0?t>e:e>t;n=t>=0?++e:--e)r.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height);return r}).call(this),this.bottom-=Math.max.apply(Math,e)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},r.prototype.transY=function(e){return this.bottom-(e-this.ymin)*this.dy},r.prototype.transX=function(e){return 1===this.data.length?(this.left+this.right)/2:this.left+(e-this.xmin)*this.dx},r.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},r.prototype.measureText=function(e,t){var n,r;return null==t&&(t=0),n=(r=this.raphael.text(100,100,e).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(t)).getBBox(),r.remove(),n},r.prototype.yAxisFormat=function(e){return this.yLabelFormat(e)},r.prototype.yLabelFormat=function(e){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(e):""+this.options.preUnits+t.commas(e)+this.options.postUnits},r.prototype.drawGrid=function(){var e,t,n,r,o,i,a,s;if(!1!==this.options.grid||!0===(o=this.options.axes)||"both"===o||"y"===o){for(s=[],n=0,r=(i=this.grid).length;r>n;n++)t=this.transY(e=i[n]),(!0===(a=this.options.axes)||"both"===a||"y"===a)&&this.drawYAxisLabel(this.left-this.options.padding/2,t,this.yAxisFormat(e)),s.push(this.options.grid?this.drawGridLine("M"+this.left+","+t+"H"+(this.left+this.width)):void 0);return s}},r.prototype.drawGoals=function(){var e,t,n,r,o;for(o=[],e=t=0,n=(r=this.options.goals).length;n>t;e=++t)o.push(this.drawGoal(r[e],this.options.goalLineColors[e%this.options.goalLineColors.length]));return o},r.prototype.drawEvents=function(){var e,t,n,r,o;for(o=[],e=t=0,n=(r=this.events).length;n>t;e=++t)o.push(this.drawEvent(r[e],this.options.eventLineColors[e%this.options.eventLineColors.length]));return o},r.prototype.drawGoal=function(e,t){return this.raphael.path("M"+this.left+","+this.transY(e)+"H"+this.right).attr("stroke",t).attr("stroke-width",this.options.goalStrokeWidth)},r.prototype.drawEvent=function(e,t){return this.raphael.path("M"+this.transX(e)+","+this.bottom+"V"+this.top).attr("stroke",t).attr("stroke-width",this.options.eventStrokeWidth)},r.prototype.drawYAxisLabel=function(e,t,n){return this.raphael.text(e,t,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},r.prototype.drawGridLine=function(e){return this.raphael.path(e).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},r.prototype.startRange=function(e){return this.hover.hide(),this.selectFrom=e,this.selectionRect.attr({x:e,width:0}).show()},r.prototype.endRange=function(e){var t,n;return this.selectFrom?(n=Math.min(this.selectFrom,e),t=Math.max(this.selectFrom,e),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(t)].x}),this.selectFrom=null):void 0},r.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},r}(t.EventEmitter),t.parseDate=function(e){var t,n,r,o,i,a,s,l,u,c,d;return"number"==typeof e?e:(n=e.match(/^(\d+) Q(\d)$/),o=e.match(/^(\d+)-(\d+)$/),i=e.match(/^(\d+)-(\d+)-(\d+)$/),s=e.match(/^(\d+) W(\d+)$/),l=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),u=e.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():o?new Date(parseInt(o[1],10),parseInt(o[2],10)-1,1).getTime():i?new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10)).getTime():s?(4!==(c=new Date(parseInt(s[1],10),0,1)).getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),c.getTime()+6048e5*parseInt(s[2],10)):l?l[6]?(a=0,"Z"!==l[6]&&(a=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(a=0-a)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+a)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():u?(d=parseFloat(u[6]),t=Math.floor(d),r=Math.round(1e3*(d-t)),u[8]?(a=0,"Z"!==u[8]&&(a=60*parseInt(u[10],10)+parseInt(u[11],10),"+"===u[9]&&(a=0-a)),Date.UTC(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10)+a,t,r)):new Date(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10),t,r).getTime()):new Date(parseInt(e,10),0,1).getTime())},t.Hover=function(){function n(n){null==n&&(n={}),this.options=e.extend({},t.Hover.defaults,n),this.el=e("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return n.defaults={class:"morris-hover morris-default-style"},n.prototype.update=function(e,t,n){return e?(this.html(e),this.show(),this.moveTo(t,n)):this.hide()},n.prototype.html=function(e){return this.el.html(e)},n.prototype.moveTo=function(e,t){var n,r,o,i,a,s;return a=this.options.parent.innerWidth(),i=this.options.parent.innerHeight(),r=this.el.outerWidth(),n=this.el.outerHeight(),o=Math.min(Math.max(0,e-r/2),a-r),null!=t?0>(s=t-n-10)&&(s=t+10)+n>i&&(s=i/2-n/2):s=i/2-n/2,this.el.css({left:o+"px",top:parseInt(s)+"px"})},n.prototype.show=function(){return this.el.show()},n.prototype.hide=function(){return this.el.hide()},n}(),t.Line=function(e){function n(e){return this.hilight=i(this.hilight,this),this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),this instanceof t.Line?void n.__super__.constructor.call(this,e):new t.Line(e)}return s(n,e),n.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var e,t,n,r,o,i;for(i=[],n=0,r=(o=this.data).length;r>n;n++)(e=o[n])._x=this.transX(e.x),e._y=(function(){var n,r,o,i;for(i=[],n=0,r=(o=e.y).length;r>n;n++)i.push(null!=(t=o[n])?this.transY(t):t);return i}).call(this),i.push(e._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var n,r,o,i;for(i=[],n=0,r=(o=e._y).length;r>n;n++)null!=(t=o[n])&&i.push(t);return i}())));return i},n.prototype.hitTest=function(e){var t,n,r,o;if(0===this.data.length)return null;for(t=n=0,r=(o=this.data.slice(1)).length;r>n&&!(e<(o[t]._x+this.data[t]._x)/2);t=++n);return t},n.prototype.onGridClick=function(e,t){var n;return n=this.hitTest(e),this.fire("click",n,this.data[n].src,e,t)},n.prototype.onHoverMove=function(e){var t;return t=this.hitTest(e),this.displayHoverForRow(t)},n.prototype.onHoverOut=function(){return!1!==this.options.hideHover?this.displayHoverForRow(null):void 0},n.prototype.displayHoverForRow=function(e){var t;return null!=e?((t=this.hover).update.apply(t,this.hoverContentForRow(e)),this.hilight(e)):(this.hover.hide(),this.hilight())},n.prototype.hoverContentForRow=function(e){var t,n,r,o,i,a,s;for(t="<div class='morris-hover-row-label'>"+(r=this.data[e]).label+"</div>",n=i=0,a=(s=r.y).length;a>i;n=++i)o=s[n],t+="<div class='morris-hover-point' style='color: "+this.colorFor(r,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(o)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(t=this.options.hoverCallback(e,this.options,t,r.src)),[t,r._x,r._ymax]},n.prototype.generatePaths=function(){var e,n,r,o;return this.paths=(function(){var i,a,s;for(s=[],n=i=0,a=this.options.ykeys.length;a>=0?a>i:i>a;n=a>=0?++i:--i)o="boolean"==typeof this.options.smooth?this.options.smooth:l.call(this.options.smooth,this.options.ykeys[n])>=0,e=(function(){var e,t,o,i;for(i=[],e=0,t=(o=this.data).length;t>e;e++)void 0!==(r=o[e])._y[n]&&i.push({x:r._x,y:r._y[n]});return i}).call(this),s.push(e.length>1?t.Line.createPath(e,o,this.bottom):null);return s}).call(this)},n.prototype.draw=function(){var e;return(!0===(e=this.options.axes)||"both"===e||"x"===e)&&this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover?this.displayHoverForRow(this.data.length-1):void 0},n.prototype.drawXAxis=function(){var e,n,r,o,i,a,s,l,u,c,d=this;for(s=this.bottom+this.options.padding/2,i=null,o=null,e=function(e,t){var n,r,a,l,u;return u=(n=d.drawXAxisLabel(d.transX(t),s,e)).getBBox(),n.transform("r"+-d.options.xLabelAngle),r=n.getBBox(),n.transform("t0,"+r.height/2+"..."),0!==d.options.xLabelAngle&&(l=-.5*u.width*Math.cos(d.options.xLabelAngle*Math.PI/180),n.transform("t"+l+",0...")),r=n.getBBox(),(null==i||i>=r.x+r.width||null!=o&&o>=r.x)&&r.x>=0&&r.x+r.width<d.el.width()?(0!==d.options.xLabelAngle&&(a=1.25*d.options.gridTextSize/Math.sin(d.options.xLabelAngle*Math.PI/180),o=r.x-a),i=r.x-d.options.xLabelMargin):n.remove()},(r=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:t.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):(function(){var e,t,n,r;for(r=[],e=0,t=(n=this.data).length;t>e;e++)r.push([(a=n[e]).label,a.x]);return r}).call(this)).reverse(),c=[],l=0,u=r.length;u>l;l++)c.push(e((n=r[l])[0],n[1]));return c},n.prototype.drawSeries=function(){var e,t,n,r,o,i;for(this.seriesPoints=[],e=t=r=this.options.ykeys.length-1;0>=r?0>=t:t>=0;e=0>=r?++t:--t)this._drawLineFor(e);for(i=[],e=n=o=this.options.ykeys.length-1;0>=o?0>=n:n>=0;e=0>=o?++n:--n)i.push(this._drawPointFor(e));return i},n.prototype._drawPointFor=function(e){var t,n,r,o,i,a;for(this.seriesPoints[e]=[],a=[],r=0,o=(i=this.data).length;o>r;r++)t=null,null!=(n=i[r])._y[e]&&(t=this.drawLinePoint(n._x,n._y[e],this.colorFor(n,e,"point"),e)),a.push(this.seriesPoints[e].push(t));return a},n.prototype._drawLineFor=function(e){var t;return null!==(t=this.paths[e])?this.drawLinePath(t,this.colorFor(null,e,"line"),e):void 0},n.createPath=function(e,n,r){var o,i,a,s,l,u,c,d,f;for(u="",n&&(a=t.Line.gradients(e)),c={y:null},s=d=0,f=e.length;f>d;s=++d)null!=(o=e[s]).y&&(null!=c.y?n?(i=a[s],u+="C"+(c.x+(l=(o.x-c.x)/4))+","+Math.min(r,c.y+l*a[s-1])+","+(o.x-l)+","+Math.min(r,o.y-l*i)+","+o.x+","+o.y):u+="L"+o.x+","+o.y:n&&null==a[s]||(u+="M"+o.x+","+o.y)),c=o;return u},n.gradients=function(e){var t,n,r,o,i,a,s,l;for(n=function(e,t){return(e.y-t.y)/(e.x-t.x)},l=[],r=a=0,s=e.length;s>a;r=++a)null!=(t=e[r]).y?(o=e[r+1]||{y:null},l.push(null!=(i=e[r-1]||{y:null}).y&&null!=o.y?n(i,o):null!=i.y?n(i,t):null!=o.y?n(t,o):null)):l.push(null);return l},n.prototype.hilight=function(e){var t,n,r,o,i;if(null!==this.prevHilight&&this.prevHilight!==e)for(t=n=0,o=this.seriesPoints.length-1;o>=0?o>=n:n>=o;t=o>=0?++n:--n)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrinkSeries(t));if(null!==e&&this.prevHilight!==e)for(t=r=0,i=this.seriesPoints.length-1;i>=0?i>=r:r>=i;t=i>=0?++r:--r)this.seriesPoints[t][e]&&this.seriesPoints[t][e].animate(this.pointGrowSeries(t));return this.prevHilight=e},n.prototype.colorFor=function(e,t,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,e,t,n):"point"===n&&this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]},n.prototype.drawXAxisLabel=function(e,t,n){return this.raphael.text(e,t,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawLinePath=function(e,t,n){return this.raphael.path(e).attr("stroke",t).attr("stroke-width",this.lineWidthForSeries(n))},n.prototype.drawLinePoint=function(e,t,n,r){return this.raphael.circle(e,t,this.pointSizeForSeries(r)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(r)).attr("stroke",this.pointStrokeColorForSeries(r))},n.prototype.pointStrokeWidthForSeries=function(e){return this.options.pointStrokeWidths[e%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(e){return this.options.pointStrokeColors[e%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(e){return this.options.lineWidth instanceof Array?this.options.lineWidth[e%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(e){return this.options.pointSize instanceof Array?this.options.pointSize[e%this.options.pointSize.length]:this.options.pointSize},n.prototype.pointGrowSeries=function(e){return Raphael.animation({r:this.pointSizeForSeries(e)+3},25,"linear")},n.prototype.pointShrinkSeries=function(e){return Raphael.animation({r:this.pointSizeForSeries(e)},25,"linear")},n}(t.Grid),t.labelSeries=function(n,r,o,i,a){var s,l,u,c,d,f,h,p,g,m;if(u=200*(r-n)/o,l=new Date(n),void 0===(f=t.LABEL_SPECS[i]))for(p=0,g=(m=t.AUTO_LABEL_ORDER).length;g>p;p++)if(u>=(d=t.LABEL_SPECS[m[p]]).span){f=d;break}for(void 0===f&&(f=t.LABEL_SPECS.second),a&&(f=e.extend({},f,{fmt:a})),s=f.start(l),c=[];(h=s.getTime())<=r;)h>=n&&c.push([f.fmt(s),h]),f.incr(s);return c},n=function(e){return{span:60*e*1e3,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())},fmt:function(e){return t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+e)}}},r=function(e){return{span:1e3*e,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())},fmt:function(e){return t.pad2(e.getHours())+":"+t.pad2(e.getMinutes())+":"+t.pad2(e.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+e)}}},t.LABEL_SPECS={decade:{span:1728e8,start:function(e){return new Date(e.getFullYear()-e.getFullYear()%10,0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+10)}},year:{span:1728e7,start:function(e){return new Date(e.getFullYear(),0,1)},fmt:function(e){return""+e.getFullYear()},incr:function(e){return e.setFullYear(e.getFullYear()+1)}},month:{span:24192e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},fmt:function(e){return e.getFullYear()+"-"+t.pad2(e.getMonth()+1)},incr:function(e){return e.setMonth(e.getMonth()+1)}},week:{span:6048e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},fmt:function(e){return e.getFullYear()+"-"+t.pad2(e.getMonth()+1)+"-"+t.pad2(e.getDate())},incr:function(e){return e.setDate(e.getDate()+7)}},day:{span:864e5,start:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},fmt:function(e){return e.getFullYear()+"-"+t.pad2(e.getMonth()+1)+"-"+t.pad2(e.getDate())},incr:function(e){return e.setDate(e.getDate()+1)}},hour:n(60),"30min":n(30),"15min":n(15),"10min":n(10),"5min":n(5),minute:n(1),"30sec":r(30),"15sec":r(15),"10sec":r(10),"5sec":r(5),second:r(1)},t.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],t.Area=function(n){function r(n){var i;return this instanceof t.Area?(i=e.extend({},o,n),this.cumulative=!i.behaveLikeLine,"auto"===i.fillOpacity&&(i.fillOpacity=i.behaveLikeLine?.8:1),void r.__super__.constructor.call(this,i)):new t.Area(n)}var o;return s(r,n),o={fillOpacity:"auto",behaveLikeLine:!1},r.prototype.calcPoints=function(){var e,t,n,r,o,i,a;for(a=[],r=0,o=(i=this.data).length;o>r;r++)(e=i[r])._x=this.transX(e.x),t=0,e._y=(function(){var r,o,i,a;for(a=[],r=0,o=(i=e.y).length;o>r;r++)n=i[r],a.push(this.transY(this.options.behaveLikeLine?n:t+=n||0));return a}).call(this),a.push(e._ymax=Math.max.apply(Math,e._y));return a},r.prototype.drawSeries=function(){var e,t,n,r,o,i,a,s;for(this.seriesPoints=[],s=[],n=0,r=(t=this.options.behaveLikeLine?(function(){i=[];for(var e=0,t=this.options.ykeys.length-1;t>=0?t>=e:e>=t;t>=0?e++:e--)i.push(e);return i}).apply(this):(function(){a=[];for(var e=o=this.options.ykeys.length-1;0>=o?0>=e:e>=0;0>=o?e++:e--)a.push(e);return a}).apply(this)).length;r>n;n++)this._drawFillFor(e=t[n]),this._drawLineFor(e),s.push(this._drawPointFor(e));return s},r.prototype._drawFillFor=function(e){var t;return null!==(t=this.paths[e])?(t+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(t,this.fillForSeries(e))):void 0},r.prototype.fillForSeries=function(e){var t;return t=Raphael.rgb2hsl(this.colorFor(this.data[e],e,"line")),Raphael.hsl(t.h,this.options.behaveLikeLine?.9*t.s:.75*t.s,Math.min(.98,this.options.behaveLikeLine?1.2*t.l:1.25*t.l))},r.prototype.drawFilledPath=function(e,t){return this.raphael.path(e).attr("fill",t).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},r}(t.Line),t.Bar=function(n){function r(n){return this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),this instanceof t.Bar?void r.__super__.constructor.call(this,e.extend({},n,{parseTime:!1})):new t.Bar(n)}return s(r,n),r.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new t.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},r.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},r.prototype.calc=function(){var e;return this.calcBars(),!1===this.options.hideHover?(e=this.hover).update.apply(e,this.hoverContentForRow(this.data.length-1)):void 0},r.prototype.calcBars=function(){var e,t,n,r,o,i,a;for(a=[],e=r=0,o=(i=this.data).length;o>r;e=++r)(t=i[e])._x=this.left+this.width*(e+.5)/this.data.length,a.push(t._y=(function(){var e,r,o,i;for(i=[],e=0,r=(o=t.y).length;r>e;e++)i.push(null!=(n=o[e])?this.transY(n):null);return i}).call(this));return a},r.prototype.draw=function(){var e;return(!0===(e=this.options.axes)||"both"===e||"x"===e)&&this.drawXAxis(),this.drawSeries()},r.prototype.drawXAxis=function(){var e,t,n,r,o,i,a,s,l,u,c,d,f;for(u=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),a=null,i=null,f=[],e=c=0,d=this.data.length;d>=0?d>c:c>d;e=d>=0?++c:--c)l=(t=this.drawXAxisLabel((s=this.data[this.data.length-1-e])._x,u,s.label)).getBBox(),t.transform("r"+-this.options.xLabelAngle),n=t.getBBox(),t.transform("t0,"+n.height/2+"..."),0!==this.options.xLabelAngle&&(o=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),t.transform("t"+o+",0...")),(null==a||a>=n.x+n.width||null!=i&&i>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(0!==this.options.xLabelAngle&&(r=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),i=n.x-r),f.push(a=n.x-this.options.xLabelMargin)):f.push(t.remove());return f},r.prototype.drawSeries=function(){var e,t,n,r,o,i,a,s,l,u,c,d,f,h;return e=((n=this.width/this.options.data.length)*this.options.barSizeRatio-this.options.barGap*((s=this.options.stacked?1:this.options.ykeys.length)-1))/s,this.options.barSize&&(e=Math.min(e,this.options.barSize)),a=(n-e*s-this.options.barGap*(s-1))/2,h=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=(function(){var s,p,g,m;for(m=[],r=s=0,p=(g=this.data).length;p>s;r=++s)l=g[r],o=0,m.push((function(){var s,p,g,m;for(m=[],u=s=0,p=(g=l._y).length;p>s;u=++s)null!==(f=g[u])?(h?(d=Math.min(f,h),t=Math.max(f,h)):(d=f,t=this.bottom),i=this.left+r*n+a,this.options.stacked||(i+=u*(e+this.options.barGap)),c=t-d,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+r*n,this.top,n,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(d-=o),this.drawBar(i,d,e,c,this.colorFor(l,u,"bar"),this.options.barOpacity,this.options.barRadius),m.push(o+=c)):m.push(null);return m}).call(this));return m}).call(this)},r.prototype.colorFor=function(e,t,n){return"function"==typeof this.options.barColors?this.options.barColors.call(this,{x:e.x,y:e.y[t],label:e.label},{index:t,key:this.options.ykeys[t],label:this.options.labels[t]},n):this.options.barColors[t%this.options.barColors.length]},r.prototype.hitTest=function(e){return 0===this.data.length?null:(e=Math.max(Math.min(e,this.right),this.left),Math.min(this.data.length-1,Math.floor((e-this.left)/(this.width/this.data.length))))},r.prototype.onGridClick=function(e,t){var n;return n=this.hitTest(e),this.fire("click",n,this.data[n].src,e,t)},r.prototype.onHoverMove=function(e){var t,n;return t=this.hitTest(e),(n=this.hover).update.apply(n,this.hoverContentForRow(t))},r.prototype.onHoverOut=function(){return!1!==this.options.hideHover?this.hover.hide():void 0},r.prototype.hoverContentForRow=function(e){var t,n,r,o,i,a,s;for(t="<div class='morris-hover-row-label'>"+(r=this.data[e]).label+"</div>",n=i=0,a=(s=r.y).length;a>i;n=++i)o=s[n],t+="<div class='morris-hover-point' style='color: "+this.colorFor(r,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(o)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(t=this.options.hoverCallback(e,this.options,t,r.src)),[t,this.left+(e+.5)*this.width/this.data.length]},r.prototype.drawXAxisLabel=function(e,t,n){return this.raphael.text(e,t,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},r.prototype.drawBar=function(e,t,n,r,o,i,a){var s;return(0===(s=Math.max.apply(Math,a))||s>r?this.raphael.rect(e,t,n,r):this.raphael.path(this.roundedRect(e,t,n,r,a))).attr("fill",o).attr("fill-opacity",i).attr("stroke","none")},r.prototype.roundedRect=function(e,t,n,r,o){return null==o&&(o=[0,0,0,0]),["M",e,o[0]+t,"Q",e,t,e+o[0],t,"L",e+n-o[1],t,"Q",e+n,t,e+n,t+o[1],"L",e+n,t+r-o[2],"Q",e+n,t+r,e+n-o[2],t+r,"L",e+o[3],t+r,"Q",e,t+r,e,t+r-o[3],"Z"]},r}(t.Grid),t.Donut=function(n){function r(n){this.resizeHandler=i(this.resizeHandler,this),this.select=i(this.select,this),this.click=i(this.click,this);var r=this;if(!(this instanceof t.Donut))return new t.Donut(n);if(this.options=e.extend({},this.defaults,n),this.el=e("string"==typeof n.element?document.getElementById(n.element):n.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==n.data&&0!==n.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&e(window).bind("resize",function(){return null!=r.timeoutId&&window.clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.resizeHandler,100)}),this.setData(n.data))}return s(r,n),r.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:t.commas,resize:!1},r.prototype.redraw=function(){var e,n,r,o,i,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,w,C;for(this.raphael.clear(),n=this.el.width()/2,r=this.el.height()/2,f=(Math.min(n,r)-10)/3,d=0,h=0,m=(b=this.values).length;m>h;h++)d+=b[h];for(l=5/(2*f),e=1.9999*Math.PI-l*this.data.length,a=0,i=0,this.segments=[],o=p=0,v=(x=this.values).length;v>p;o=++p)(c=new t.DonutSegment(n,r,2*f,f,a,u=a+l+e*(x[o]/d),this.data[o].color||this.options.colors[i%this.options.colors.length],this.options.backgroundColor,i,this.raphael)).render(),this.segments.push(c),c.on("hover",this.select),c.on("click",this.click),a=u,i+=1;for(this.text1=this.drawEmptyDonutLabel(n,r-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(n,r+10,this.options.labelColor,14),s=Math.max.apply(Math,this.values),i=0,C=[],g=0,y=(w=this.values).length;y>g;g++){if(w[g]===s){this.select(i);break}C.push(i+=1)}return C},r.prototype.setData=function(e){return this.data=e,this.values=(function(){var e,t,n,r;for(r=[],e=0,t=(n=this.data).length;t>e;e++)r.push(parseFloat(n[e].value));return r}).call(this),this.redraw()},r.prototype.click=function(e){return this.fire("click",e,this.data[e])},r.prototype.select=function(e){var t,n,r,o;for(n=0,r=(o=this.segments).length;r>n;n++)o[n].deselect();return this.segments[e].select(),this.setLabels((t=this.data[e]).label,this.options.formatter(t.value,t))},r.prototype.setLabels=function(e,t){var n,r,o,i,a,s,l,u;return i=1.8*(n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3),o=n/2,r=n/3,this.text1.attr({text:e,transform:""}),a=this.text1.getBBox(),s=Math.min(i/a.width,o/a.height),this.text1.attr({transform:"S"+s+","+s+","+(a.x+a.width/2)+","+(a.y+a.height)}),this.text2.attr({text:t,transform:""}),l=this.text2.getBBox(),u=Math.min(i/l.width,r/l.height),this.text2.attr({transform:"S"+u+","+u+","+(l.x+l.width/2)+","+l.y})},r.prototype.drawEmptyDonutLabel=function(e,t,n,r,o){var i;return i=this.raphael.text(e,t,"").attr("font-size",r).attr("fill",n),null!=o&&i.attr("font-weight",o),i},r.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},r}(t.EventEmitter),t.DonutSegment=function(e){function t(e,t,n,r,o,a,s,l,u,c){this.cx=e,this.cy=t,this.inner=n,this.outer=r,this.color=s,this.backgroundColor=l,this.index=u,this.raphael=c,this.deselect=i(this.deselect,this),this.select=i(this.select,this),this.sin_p0=Math.sin(o),this.cos_p0=Math.cos(o),this.sin_p1=Math.sin(a),this.cos_p1=Math.cos(a),this.is_long=a-o>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return s(t,e),t.prototype.calcArcPoints=function(e){return[this.cx+e*this.sin_p0,this.cy+e*this.cos_p0,this.cx+e*this.sin_p1,this.cy+e*this.cos_p1]},t.prototype.calcSegment=function(e,t){var n,r,o,i,a,s;return n=(a=this.calcArcPoints(e))[0],o=a[1],r=a[2],i=a[3],s=this.calcArcPoints(t),"M"+n+","+o+"A"+e+","+e+",0,"+this.is_long+",0,"+r+","+i+"L"+s[2]+","+s[3]+"A"+t+","+t+",0,"+this.is_long+",1,"+s[0]+","+s[1]+"Z"},t.prototype.calcArc=function(e){var t;return"M"+(t=this.calcArcPoints(e))[0]+","+t[1]+"A"+e+","+e+",0,"+this.is_long+",0,"+t[2]+","+t[3]},t.prototype.render=function(){var e=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return e.fire("hover",e.index)},function(){return e.fire("click",e.index)})},t.prototype.drawDonutArc=function(e,t){return this.raphael.path(e).attr({stroke:t,"stroke-width":2,opacity:0})},t.prototype.drawDonutSegment=function(e,t,n,r,o){return this.raphael.path(e).attr({fill:t,stroke:n,"stroke-width":3}).hover(r).click(o)},t.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},t.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},t}(t.EventEmitter)}).call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var n,r,o,i,a,s,l,u,c,d,f,h,p,g,m,v;function y(e,t){return p.call(e,t)}function b(e,t){var n,r,o,i,a,s,l,u,c,d,h,p=t&&t.split("/"),g=f.map,v=g&&g["*"]||{};if(e){for(a=(e=e.split("/")).length-1,f.nodeIdCompat&&m.test(e[a])&&(e[a]=e[a].replace(m,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),c=0;c<e.length;c++)if("."===(h=e[c]))e.splice(c,1),--c;else if(".."===h){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;0<c&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((p||v)&&g){for(c=(n=e.split("/")).length;0<c;--c){if(r=n.slice(0,c).join("/"),p)for(d=p.length;0<d;--d)if(o=(o=g[p.slice(0,d).join("/")])&&o[r]){i=o,s=c;break}if(i)break;!l&&v&&v[r]&&(l=v[r],u=c)}!i&&l&&(i=l,s=u),i&&(n.splice(0,s,i),e=n.join("/"))}return e}function x(e,t){return function(){var n=g.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),s.apply(i,n.concat([e,t]))}}function w(e){return function(t){c[e]=t}}function C(e){if(y(d,e)){var t=d[e];delete d[e],h[e]=!0,a.apply(i,t)}if(!y(c,e)&&!y(h,e))throw new Error("No "+e);return c[e]}function k(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return e?k(e):[]}return t&&t.requirejs||(t?r=t:t={},c={},d={},f={},h={},p=Object.prototype.hasOwnProperty,g=[].slice,m=/\.js$/,l=function(e,t){var n,r,o=k(e),i=o[0],a=t[1];return e=o[1],i&&(n=C(i=b(i,a))),i?e=n&&n.normalize?n.normalize(e,(r=a,function(e){return b(e,r)})):b(e,a):(i=(o=k(e=b(e,a)))[0],e=o[1],i&&(n=C(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return x(e)},exports:function(e){var t=c[e];return void 0!==t?t:c[e]={}},module:function(e){return{id:e,uri:"",exports:c[e],config:(t=e,function(){return f&&f.config&&f.config[t]||{}})};var t}},a=function(e,t,n,r){var o,a,s,f,p,g,m,v=[],b=typeof n;if(g=S(r=r||e),"undefined"==b||"function"==b){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if("require"===(a=(f=l(t[p],g)).f))v[p]=u.require(e);else if("exports"===a)v[p]=u.exports(e),m=!0;else if("module"===a)o=v[p]=u.module(e);else if(y(c,a)||y(d,a)||y(h,a))v[p]=C(a);else{if(!f.p)throw new Error(e+" missing "+a);f.p.load(f.n,x(r,!0),w(a),{}),v[p]=c[a]}s=n?n.apply(c[e],v):void 0,e&&(o&&o.exports!==i&&o.exports!==c[e]?c[e]=o.exports:s===i&&m||(c[e]=s))}else e&&(c[e]=n)},n=r=s=function(e,t,n,r,o){if("string"==typeof e)return u[e]?u[e](t):C(l(e,S(t)).f);if(!e.splice){if((f=e).deps&&s(f.deps,f.callback),!t)return;t.splice?(e=t,t=n,n=null):e=i}return t=t||function(){},"function"==typeof n&&(n=r,r=o),r?a(i,e,t,n):setTimeout(function(){a(i,e,t,n)},4),s},s.config=function(e){return s(e)},n._defined=c,(o=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),y(c,e)||y(d,e)||(d[e]=[e,t,n])}).amd={jQuery:!0},t.requirejs=n,t.require=r,t.define=o),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){var t={};function n(e){var t=e.prototype,n=[];for(var r in t)"function"==typeof t[r]&&"constructor"!==r&&n.push(r);return n}function r(){this.listeners={}}t.Extend=function(e,t){var n={}.hasOwnProperty;function r(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},t.Decorate=function(e,t){var r=n(t),o=n(e);function i(){var n=Array.prototype.unshift,r=t.prototype.constructor.length,o=e.prototype.constructor;0<r&&(n.call(arguments,e.prototype.constructor),o=t.prototype.constructor),o.apply(this,arguments)}t.displayName=e.displayName,i.prototype=new function(){this.constructor=i};for(var a=0;a<o.length;a++){var s=o[a];i.prototype[s]=e.prototype[s]}function l(e){var n=function(){};e in i.prototype&&(n=i.prototype[e]);var r=t.prototype[e];return function(){return Array.prototype.unshift.call(arguments,n),r.apply(this,arguments)}}for(var u=0;u<r.length;u++){var c=r[u];i.prototype[c]=l(c)}return i},r.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},r.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},t.Observable=r,t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(1!==n.length){for(var o=0;o<n.length;o++){var i=n[o];(i=i.substring(0,1).toLowerCase()+i.substring(1))in r||(r[i]={}),o==n.length-1&&(r[i]=e[t]),r=r[i]}delete e[t]}}return e},t.hasScroll=function(t,n){var r=e(n),o=n.style.overflowX,i=n.style.overflowY;return(o!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===o||"scroll"===i||r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},t.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var r=e();e.map(n,function(e){r=r.add(e)}),n=r}t.append(n)},t.__cache={};var o=0;return t.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?e.setAttribute("data-select2-id",t=e.id):(e.setAttribute("data-select2-id",++o),t=o.toString())),t},t.StoreData=function(e,n,r){var o=t.GetUniqueElementId(e);t.__cache[o]||(t.__cache[o]={}),t.__cache[o][n]=r},t.GetData=function(n,r){var o=t.GetUniqueElementId(n);return r?t.__cache[o]&&null!=t.__cache[o][r]?t.__cache[o][r]:e(n).data(r):t.__cache[o]},t.RemoveData=function(e){var n=t.GetUniqueElementId(e);null!=t.__cache[n]&&delete t.__cache[n],e.removeAttribute("data-select2-id")},t}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,r){this.$element=e,this.data=r,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(t.message);r.append(n(o(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=this.option(e.results[n]);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(r){var o=e.map(r,function(e){return e.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=e(this),r=t.GetData(this,"data");null!=r.element&&r.element.selected||null==r.element&&-1<e.inArray(""+r.id,o)?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var r=document.createElement("li");r.className="select2-results__option";var o={role:"option","aria-selected":"false"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&i.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==n.id&&delete o["aria-selected"],null!=n._resultId&&(r.id=n._resultId),n.title&&(r.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,delete o["aria-selected"]),o)r.setAttribute(a,o[a]);if(n.children){var s=e(r),l=document.createElement("strong");l.className="select2-results__group",e(l),this.template(n,l);for(var u=[],c=0;c<n.children.length;c++){var d=this.option(n.children[c]);u.push(d)}var f=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(u),s.append(l),s.append(f)}else this.template(n,r);return t.StoreData(r,"data",n),r},n.prototype.bind=function(n,r){var o=this;this.$results.attr("id",n.id+"-results"),n.on("results:all",function(e){o.clear(),o.append(e.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),n.on("results:append",function(e){o.append(e.data),n.isOpen()&&o.setClasses()}),n.on("query",function(e){o.hideMessages(),o.showLoading(e)}),n.on("select",function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),n.on("open",function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()}),n.on("close",function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var e=o.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),n.on("results:select",function(){var e=o.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:n})}}),n.on("results:previous",function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var r=n-1;0===e.length&&(r=0);var i=t.eq(r);i.trigger("mouseenter");var a=o.$results.offset().top,s=i.offset().top,l=o.$results.scrollTop()+(s-a);0===r?o.$results.scrollTop(0):s-a<0&&o.$results.scrollTop(l)}}),n.on("results:next",function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var r=t.eq(n);r.trigger("mouseenter");var i=o.$results.offset().top+o.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),s=o.$results.scrollTop()+a-i;0===n?o.$results.scrollTop(0):i<a&&o.$results.scrollTop(s)}}),n.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(e){o.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-t+e.deltaY,r=0<e.deltaY&&t-e.deltaY<=0,i=e.deltaY<0&&n<=o.$results.height();r?(o.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var r=e(this),i=t.GetData(this,"data");"true"!==r.attr("aria-selected")?o.trigger("select",{originalEvent:n,data:i}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:i}):o.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var r=t.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:r,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,r=e.offset().top,o=this.$results.scrollTop()+(r-n),i=r-n;o-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(t,n){var r=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),i=r(t,n);null==i?n.style.display="none":"string"==typeof i?n.innerHTML=o(i):e(n).append(i)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n},r.prototype.bind=function(e,t){var r=this,o=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){r.trigger("focus",e)}),this.$selection.on("blur",function(e){r._handleBlur(e)}),this.$selection.on("keydown",function(e){r.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){r.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){r.update(e.data)}),e.on("open",function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",o),r._attachCloseHandler(e)}),e.on("close",function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),r.$selection.trigger("focus"),r._detachCloseHandler(e)}),e.on("enable",function(){r.$selection.attr("tabindex",r._tabindex),r.$selection.attr("aria-disabled","false")}),e.on("disable",function(){r.$selection.attr("tabindex","-1"),r.$selection.attr("aria-disabled","true")})},r.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,function(n){var r=e(n.target).closest(".select2");e(".select2.select2-container--open").each(function(){this!=r[0]&&t.GetData(this,"element").select2("close")})})},r.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(e,t){t.find(".selection").append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,r){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.trigger("focus")})},o.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(t,n);n.empty().append(r);var o=t.title||t.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function r(e,t){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(t,o){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!i.isDisabled()){var r=e(this).parent(),o=n.GetData(r[0],"data");i.trigger("unselect",{originalEvent:t,data:o})}})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],r=0;r<e.length;r++){var o=e[r],i=this.selectionContainer(),a=this.display(o,i);i.append(a);var s=o.title||o.text;s&&i.attr("title",s),n.StoreData(i[0],"data",o),t.push(i)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,t)}},r}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){if(1<t.length||1==t.length&&t[0].id!=this.placeholder.id)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,n){function r(){}return r.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},r.prototype._handleClear=function(e,t){if(!this.isDisabled()){var r=this.$selection.find(".select2-selection__clear");if(0!==r.length){t.stopPropagation();var o=n.GetData(r[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var a={data:o};if(this.trigger("clear",a),a.prevented)this.$element.val(i);else{for(var s=0;s<o.length;s++)if(this.trigger("unselect",a={data:o[s]}),a.prevented)return void this.$element.val(i);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},r.prototype._handleKeyboardClear=function(e,n,r){r.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},r.prototype.update=function(t,r){if(t.call(this,r),!(0<this.$selection.find(".select2-selection__placeholder").length||0===r.length)){var o=this.options.get("translations").get("removeAllItems"),i=e('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');n.StoreData(i[0],"data",r),this.$selection.find(".select2-selection__rendered").prepend(i)}},r}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function r(e,t,n){e.call(this,t,n)}return r.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=t.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(e,r,o){var i=this,a=r.id+"-results";e.call(this,r,o),r.on("open",function(){i.$search.attr("aria-controls",a),i.$search.trigger("focus")}),r.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),r.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),r.on("disable",function(){i.$search.prop("disabled",!0)}),r.on("focus",function(e){i.$search.trigger("focus")}),r.on("results:focus",function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===i.$search.val()){var r=i.$searchContainer.prev(".select2-selection__choice");if(0<r.length){var o=t.GetData(r[0],"data");i.searchRemoveChoice(o),e.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(e){i.$search.val()&&e.stopPropagation()});var s=document.documentMode,l=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){i.$selection.off(l?"input.search input.searchcheck":"keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(l&&"input"===e.type)i.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&i.handleSearch(e)}})},r.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},r.prototype.resizeSearch=function(){var e;this.$search.css("width","25px"),e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},r}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,r){var o=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,r),n.on("*",function(t,n){if(-1!==e.inArray(t,i)){var r=e.Event("select2:"+t,{params:n=n||{}});o.$element.trigger(r),-1!==e.inArray(t,a)&&(n.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var r=t(e);n._cache[e]=r}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){return{"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Å":"OE","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Å":"oe","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï","â":"'"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var r=t.id+"-result-";return(r+=e.generateChars(4))+(null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,e),r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each(function(){var e=n(this),o=r.item(e);t.push(o)}),e(t)},r.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(r){var o=[];(e=[e]).push.apply(e,r);for(var i=0;i<e.length;i++){var a=e[i].id;-1===n.inArray(a,o)&&o.push(a)}t.$element.val(o),t.$element.trigger("input").trigger("change")}):(this.$element.val(e.id),this.$element.trigger("input").trigger("change"))},r.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(r){for(var o=[],i=0;i<r.length;i++){var a=r[i].id;a!==e.id&&-1===n.inArray(a,o)&&o.push(a)}t.$element.val(o),t.$element.trigger("input").trigger("change")})}},r.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},r.prototype.query=function(e,t){var r=[],o=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var i=o.item(t),a=o.matches(e,i);null!==a&&r.push(a)}}),t({results:r})},r.prototype.addOptions=function(e){t.appendMany(this.$element,e)},r.prototype.option=function(e){var r;e.children?(r=document.createElement("optgroup")).label=e.text:void 0!==(r=document.createElement("option")).textContent?r.textContent=e.text:r.innerText=e.text,void 0!==e.id&&(r.value=e.id),e.disabled&&(r.disabled=!0),e.selected&&(r.selected=!0),e.title&&(r.title=e.title);var o=n(r),i=this._normalizeItem(e);return i.element=r,t.StoreData(r,"data",i),o},r.prototype.item=function(e){var r={};if(null!=(r=t.GetData(e[0],"data")))return r;if(e.is("option"))r={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){r={text:e.prop("label"),children:[],title:e.prop("title")};for(var o=e.children("option"),i=[],a=0;a<o.length;a++){var s=n(o[a]),l=this.item(s);i.push(l)}r.children=i}return(r=this._normalizeItem(r)).element=e[0],t.StoreData(e[0],"data",r),r},r.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},r.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function r(e,t){this._dataToConvert=t.get("data")||[],r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype.bind=function(e,t){r.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),r.__super__.select.call(this,e)},r.prototype.convertToOptions=function(e){var r=this,o=this.$element.find("option"),i=o.map(function(){return r.item(n(this)).id}).get(),a=[];function s(e){return function(){return n(this).val()==e.id}}for(var l=0;l<e.length;l++){var u=this._normalizeItem(e[l]);if(0<=n.inArray(u.id,i)){var c=o.filter(s(u)),d=this.item(c),f=n.extend(!0,{},u,d),h=this.option(f);c.replaceWith(h)}else{var p=this.option(u);if(u.children){var g=this.convertToOptions(u.children);t.appendMany(p,g)}a.push(p)}}return a},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function r(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,e,t)}return t.Extend(r,e),r.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,r){var o=n.ajax(e);return o.then(t),o.fail(r),o}};return n.extend({},t,e,!0)},r.prototype.processResults=function(e){return e},r.prototype.query=function(e,t){var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function i(){var i=o.transport(o,function(o){var i=r.processResults(o,e);r.options.get("debug")&&window.console&&console.error&&(i&&i.results&&n.isArray(i.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(i)},function(){"status"in i&&(0===i.status||"0"===i.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=i}"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},r}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,r){var o=r.get("tags"),i=r.get("createTag");void 0!==i&&(this.createTag=i);var a=r.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,n,r),e.isArray(o))for(var s=0;s<o.length;s++){var l=this._normalizeItem(o[s]),u=this.option(l);this.$element.append(u)}}return t.prototype.query=function(e,t,n){var r=this;this._removeOldTags(),e.call(this,t,null!=t.term&&null==t.page?function e(o,i){for(var a=o.results,s=0;s<a.length;s++){var l=a[s],u=null!=l.children&&!e({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||u)return!i&&(o.data=a,void n(o))}if(i)return!0;var c=r.createTag(t);if(null!=c){var d=r.option(c);d.attr("data-select2-tag",!0),r.addOptions([d]),r.insertTag(a,c)}o.results=a,n(o)}:n)},t.prototype.createTag=function(t,n){var r=e.trim(n.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,r){var o=this;n.term=n.term||"";var i=this.tokenizer(n,this.options,function(t){var n=o._normalizeItem(t);if(!o.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var r=o.option(n);r.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([r])}o.trigger("select",{data:n})});i.term!==n.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.trigger("focus")),n.term=i.term),t.call(this,n,r)},t.prototype.tokenizer=function(t,n,r,o){for(var i=r.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;)if(-1!==e.inArray(a[s],i)){var u=a.substr(0,s),c=l(e.extend({},n,{term:u}));null!=c?(o(c),a=a.substr(s+1)||"",s=0):s++}else s++;return{term:a}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(){r._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var r=this;this._checkIfMaximumSelected(function(){e.call(r,t,n)})},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current(function(e){0<n.maximumSelectionLength&&(null!=e?e.length:0)>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(t,n,r){var o=this,i=n.id+"-results";t.call(this,n,r),this.$search.on("keydown",function(e){o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){o.handleSearch(e)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",i),o.$search.trigger("focus"),window.setTimeout(function(){o.$search.trigger("focus")},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||o.$search.trigger("focus")}),n.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(o.showSearch(e)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))}),n.on("results:focus",function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),r=t.length-1;0<=r;r--)this.placeholder.id===t[r].id&&n.splice(r,1);return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("query",function(e){r.lastParams=e,r.loading=!0}),t.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){var n=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=n+50&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,r){this.$dropdownParent=e(r.get("dropdownParent")||document.body),t.call(this,n,r)}return n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),r._bindContainerResultHandlers(t)}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),r=t.call(this);return n.append(r),this.$dropdownContainer=n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,r){var o=this,i="scroll.select2."+r.id,a="resize.select2."+r.id,s="orientationchange.select2."+r.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(i,function(n){var r=t.GetData(this,"select2-scroll-position");e(this).scrollTop(r.y)}),e(window).on(i+" "+a+" "+s,function(e){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,r){var o="scroll.select2."+r.id,i="resize.select2."+r.id,a="orientationchange.select2."+r.id;this.$container.parents().filter(t.hasScroll).off(o),e(window).off(o+" "+i+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),o=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=i.top,a.bottom=i.top+a.height;var s=this.$dropdown.outerHeight(!1),l=t.scrollTop(),u=t.scrollTop()+t.height(),c=l<i.top-s,d=u>i.bottom+s,f={left:i.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p={top:0,left:0};(e.contains(document.body,h[0])||h[0].isConnected)&&(p=h.offset()),f.top-=p.top,f.left-=p.left,n||r||(o="below"),d||!c||n?!c&&d&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(f.top=a.top-p.top-s),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(f)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,r)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,r=0;r<t.length;r++){var o=t[r];o.children?n+=e(o.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(e){r._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var r=n.originalSelect2Event;if("select"===r._type||"unselect"===r._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var i=e.GetData(o[0],"data");null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,r,o,i,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,w,C,k,S,_,T,E,A){function D(){this.reset()}return D.prototype.apply=function(c){if(null==(c=e.extend(!0,{},this.defaults,c)).dataAdapter){if(c.dataAdapter=null!=c.ajax?p:null!=c.data?h:f,0<c.minimumInputLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,v)),0<c.maximumInputLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,y)),0<c.maximumSelectionLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=u.Decorate(c.dataAdapter,g)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=u.Decorate(c.dataAdapter,m)),null!=c.query){var d=t(c.amdBase+"compat/query");c.dataAdapter=u.Decorate(c.dataAdapter,d)}if(null!=c.initSelection){var A=t(c.amdBase+"compat/initSelection");c.dataAdapter=u.Decorate(c.dataAdapter,A)}}if(null==c.resultsAdapter&&(c.resultsAdapter=n,null!=c.ajax&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,k)),null!=c.placeholder&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,C)),c.selectOnClose&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,T))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=x;else{var D=u.Decorate(x,w);c.dropdownAdapter=D}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,_)),c.closeOnSelect&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,E)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var N=t(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=u.Decorate(c.dropdownAdapter,N)}c.dropdownAdapter=u.Decorate(c.dropdownAdapter,S)}if(null==c.selectionAdapter){if(c.selectionAdapter=c.multiple?o:r,null!=c.placeholder&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,i)),c.allowClear&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,a)),c.multiple&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,s)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var R=t(c.amdBase+"compat/containerCss");c.selectionAdapter=u.Decorate(c.selectionAdapter,R)}c.selectionAdapter=u.Decorate(c.selectionAdapter,l)}c.language=this._resolveLanguage(c.language),c.language.push("en");for(var L=[],P=0;P<c.language.length;P++){var I=c.language[P];-1===L.indexOf(I)&&L.push(I)}return c.language=L,c.translations=this._processTranslations(c.language,c.debug),c},D.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return d[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:{},matcher:function n(r,o){if(""===e.trim(r.term))return o;if(o.children&&0<o.children.length){for(var i=e.extend(!0,{},o),a=o.children.length-1;0<=a;a--)null==n(r,o.children[a])&&i.children.splice(a,1);return 0<i.children.length?i:n(r,i)}var s=t(o.text).toUpperCase(),l=t(r.term).toUpperCase();return-1<s.indexOf(l)?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},D.prototype.applyFromElement=function(e,t){var n=e.language,r=this.defaults.language,o=t.prop("lang"),i=t.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(i));return e.language=a,e},D.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=e.isArray(t)?t:[t];for(var r=[],o=0;o<n.length;o++)if(r.push(n[o]),"string"==typeof n[o]&&0<n[o].indexOf("-")){var i=n[o].split("-")[0];r.push(i)}return r},D.prototype._processTranslations=function(t,n){for(var r=new c,o=0;o<t.length;o++){var i=new c,a=t[o];if("string"==typeof a)try{i=c.loadPath(a)}catch(t){try{i=c.loadPath(a=this.defaults.amdLanguageBase+a)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else i=e.isPlainObject(a)?new c(a):a;r.extend(i)}return r},D.prototype.set=function(t,n){var r={};r[e.camelCase(t)]=n;var o=u._convertData(r);e.extend(!0,this.defaults,o)},new D}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,r){function o(t,o){if(this.options=t,null!=o&&this.fromElement(o),null!=o&&(this.options=n.applyFromElement(this.options,o)),this.options=n.apply(this.options),o&&o.is("input")){var i=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,i)}}return o.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(this.options.dir=e.prop("dir")?e.prop("dir"):e.closest("[dir]").prop("dir")?e.closest("[dir]").prop("dir"):"ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),r.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),r.StoreData(e[0],"data",r.GetData(e[0],"select2Tags")),r.StoreData(e[0],"tags",!0)),r.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",r.GetData(e[0],"ajaxUrl")),r.StoreData(e[0],"ajax-Url",r.GetData(e[0],"ajaxUrl")));var o={};function i(e,t){return t.toUpperCase()}for(var a=0;a<e[0].attributes.length;a++){var s=e[0].attributes[a].name,l="data-";if(s.substr(0,l.length)==l){var u=s.substring(l.length),c=r.GetData(e[0],u);o[u.replace(/-([a-z])/g,i)]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var d=t.extend(!0,{},r.GetData(e[0]),o);for(var f in d=r._convertData(d))-1<t.inArray(f,n)||(t.isPlainObject(this.options[f])?t.extend(this.options[f],d[f]):this.options[f]=d[f]);return this},o.prototype.get=function(e){return this.options[e]},o.prototype.set=function(e,t){this.options[e]=t},o}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,r){var o=function(e,r){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),this.options=new t(r=r||{},e),o.__super__.constructor.call(this);var i=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",i),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var u=this.options.get("dropdownAdapter");this.dropdown=new u(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},o.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");return null!=r?r:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var i=e.attr("style");if("string"!=typeof i)return null;for(var a=i.split(";"),s=0,l=a.length;s<l;s+=1){var u=a[s].replace(/\s/g,"").match(n);if(null!==u&&1<=u.length)return u[1]}return null},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){e._syncA(),e._syncS(null,t)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},o.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(r,o){-1===e.inArray(r,n)&&t.trigger(r,o)})},o.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},o.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},o.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===r.ESC||n===r.TAB||n===r.UP&&t.altKey?(e.close(t),t.preventDefault()):n===r.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===r.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===r.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===r.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===r.ENTER||n===r.SPACE||n===r.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(t,n){var r=!1,o=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(n)if(n.addedNodes&&0<n.addedNodes.length)for(var i=0;i<n.addedNodes.length;i++)n.addedNodes[i].selected&&(r=!0);else n.removedNodes&&0<n.removedNodes.length?r=!0:e.isArray(n)&&e.each(n,function(e,t){if(o._isChangeMutation(e,t))return!(r=!0)});else r=!0;return r}},o.prototype._syncSubtree=function(e,t){var n=this._isChangeMutation(e,t),r=this;n&&this.dataAdapter.current(function(e){r.trigger("selection:update",{data:e})})},o.prototype.trigger=function(e,t){var n=o.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in r){var i={prevented:!1,name:e,args:t};if(n.call(this,r[e],i),i.prevented)return void(t.prevented=!0)}n.call(this,e,t)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]),this.$element.prop("disabled",!e[0])},o.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},o.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("input").trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},o}),t.define("select2/compat/utils",["jquery"],function(e){return{syncCssClasses:function(t,n,r){var o,i,a=[];(o=e.trim(t.attr("class")))&&e((o=""+o).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)}),(o=e.trim(n.attr("class")))&&e((o=""+o).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(i=r(this))&&a.push(i)}),t.attr("class",a.join(" "))}}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var o=r.call(this),i=this.options.get("containerCssClass")||"";e.isFunction(i)&&(i=i(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||n,-1!==i.indexOf(":all:")){i=i.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(o,this.$element,a),o.css(l),o.addClass(i),o},r}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function r(){}return r.prototype.render=function(r){var o=r.call(this),i=this.options.get("dropdownCssClass")||"";e.isFunction(i)&&(i=i(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||n,-1!==i.indexOf(":all:")){i=i.replace(":all:","");var s=a;a=function(e){var t=s(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(o,this.$element,a),o.css(l),o.addClass(i),o},r}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var r=this;this._isInitialized?t.call(this,n):this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery","../utils"],function(e,t){function n(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return n.prototype.current=function(t,n){function r(t,n){var o=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,o.push(t)):t.selected=!1,t.children&&o.push.apply(o,r(t.children,n)),o}for(var o=[],i=0;i<this._currentData.length;i++)o.push.apply(o,r(this._currentData[i],this.$element.val().split(this._valueSeparator)));n(o)},n.prototype.select=function(t,n){if(this.options.get("multiple")){var r=this.$element.val();this.$element.val(r+=this._valueSeparator+n.id),this.$element.trigger("input").trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("input").trigger("change")},n.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var r=[],o=0;o<e.length;o++){var i=e[o];t.id!=i.id&&r.push(i.id)}n.$element.val(r.join(n._valueSeparator)),n.$element.trigger("input").trigger("change")})},n.prototype.query=function(e,t,n){for(var r=[],o=0;o<this._currentData.length;o++){var i=this.matches(t,this._currentData[o]);null!==i&&r.push(i)}n({results:r})},n.prototype.addOptions=function(n,r){var o=e.map(r,function(e){return t.GetData(e[0],"data")});this._currentData.push.apply(this._currentData,o)},n}),t.define("select2/compat/matcher",["jquery"],function(e){return function(t){return function(n,r){var o=e.extend(!0,{},r);if(null==n.term||""===e.trim(n.term))return o;if(r.children){for(var i=r.children.length-1;0<=i;i--){var a=r.children[i];t(n.term,a.text,a)||o.children.splice(i,1)}if(0<o.children.length)return o}return t(n.term,r.text,r)?o:null}}}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),v=function(e){var t,n,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(e.event.fixHooks)for(var a=r.length;a;)e.event.fixHooks[r[--a]]=e.event.mouseHooks;var s=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",s.getLineHeight(this)),e.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(r){var o,a=r||window.event,l=i.call(arguments,1),d=0,f=0,h=0,p=0,g=0;if((r=e.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(f=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(f=-1*h,h=0),d=0===h?f:h,"deltaY"in a&&(d=h=-1*a.deltaY),"deltaX"in a&&(f=a.deltaX,0===h&&(d=-1*f)),0!==h||0!==f){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");d*=m,h*=m,f*=m}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");d*=v,h*=v,f*=v}if(o=Math.max(Math.abs(h),Math.abs(f)),(!n||o<n)&&c(a,n=o)&&(n/=40),c(a,o)&&(d/=40,f/=40,h/=40),d=Math[1<=d?"floor":"ceil"](d/n),f=Math[1<=f?"floor":"ceil"](f/n),h=Math[1<=h?"floor":"ceil"](h/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=r.clientX-y.left,g=r.clientY-y.top}return r.deltaX=f,r.deltaY=h,r.deltaFactor=n,r.offsetX=p,r.offsetY=g,r.deltaMode=0,l.unshift(r,d,f,h),t&&clearTimeout(t),t=setTimeout(u,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function u(){n=null}function c(e,t){return s.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],v):"object"==typeof exports?module.exports=v:v(e),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,n,r,o){if(null==e.fn.select2){var i=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var r=e.extend(!0,{},t);new n(e(this),r)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var r,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),r=e[t].apply(e,a)}),-1<e.inArray(t,i)?this:r}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=r),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],t);else{var n="object"==typeof exports?t(require("jquery")):t(e.jQuery);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,(function(t){return e[t]}).bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=51)}({0:function(t,n){t.exports=e},1:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markup=t,this.children=n,this.options=r,this.callback=o}var t;return(t=[{key:"render",value:function(e){var t=o()(this.markup);if(this.options&&this.options.contents&&t.html(this.options.contents),this.options&&this.options.className&&t.addClass(this.options.className),this.options&&this.options.data&&o.a.each(this.options.data,function(e,n){t.attr("data-"+e,n)}),this.options&&this.options.click&&t.on("click",this.options.click),this.children){var n=t.find(".note-children-container");this.children.forEach(function(e){e.render(n.length?n:t)})}return this.callback&&this.callback(t,this.options),this.options&&this.options.callback&&this.options.callback(t),e&&e.append(t),t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.a={create:function(e,t){return function(){var n="object"===i(arguments[1])?arguments[1]:arguments[0],r=Array.isArray(arguments[0])?arguments[0]:[];return n&&n.children&&(r=n.children),new a(e,r,n,t)}}}},2:function(e,t){(function(t){e.exports=t}).call(this,{})},3:function(e,t,n){"use strict";var r=n(0),o=n.n(r);o.a.summernote=o.a.summernote||{lang:{}},o.a.extend(o.a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window",useProtocol:"Use default protocol"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}});var i="function"==typeof define&&n(2),a=["sans-serif","serif","monospace","cursive","fantasy"];function s(e){return-1===o.a.inArray(e.toLowerCase(),a)?"'".concat(e,"'"):e}var l,u=navigator.userAgent,c=/MSIE|Trident/i.test(u);if(c){var d=/MSIE (\d+[.]\d+)/.exec(u);d&&(l=parseFloat(d[1])),(d=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(u))&&(l=parseFloat(d[1]))}var f=/Edge\/\d+/.test(u),h="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,p=c?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",g={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:c,isEdge:f,isFF:!f&&/firefox/i.test(u),isPhantom:/PhantomJS/i.test(u),isWebkit:!f&&/webkit/i.test(u),isChrome:!f&&/chrome/i.test(u),isSafari:!f&&/safari/i.test(u)&&!/chrome/i.test(u),browserVersion:l,jqueryVersion:parseFloat(o.a.fn.jquery),isSupportAmd:i,isSupportTouch:h,isFontInstalled:function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=document.createElement("canvas").getContext("2d");n.font="200px '"+t+"'";var r=n.measureText("mmmmmmmmmmwwwww").width;return n.font="200px "+s(e)+', "'+t+'"',r!==n.measureText("mmmmmmmmmmwwwww").width},isW3CRangeSupport:!!document.createRange,inputEventName:p,genericFontFamilies:a,validFontName:s},m=0,v={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,n){return t[e]===n[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(n){return e(n)&&t(n)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},resetUniqueId:function(){m=0},uniqueId:function(e){var t=++m+"";return e?e+t:t},rect2bnd:function(e){var t=o()(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},debounce:function(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}},isValidUrl:function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(e)}};function y(e){return e[0]}function b(e){return e[e.length-1]}function x(e){return e.slice(1)}function w(e,t){if(e&&e.length&&t){if(e.indexOf)return-1!==e.indexOf(t);if(e.contains)return e.contains(t)}return!1}var C={head:y,last:b,initial:function(e){return e.slice(0,e.length-1)},tail:x,prev:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n-1]}return null},next:function(e,t){if(e&&e.length&&t){var n=e.indexOf(t);return-1===n?null:e[n+1]}return null},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o))return o}},contains:w,all:function(e,t){for(var n=0,r=e.length;n<r;n++)if(!t(e[n]))return!1;return!0},sum:function(e,t){return t=t||v.self,e.reduce(function(e,n){return e+t(n)},0)},from:function(e){for(var t=[],n=e.length,r=-1;++r<n;)t[r]=e[r];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,t){return e.length?x(e).reduce(function(e,n){var r=b(e);return t(b(r),n)?r[r.length]=n:e[e.length]=[n],e},[[y(e)]]):[]},compact:function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,r=e.length;n<r;n++)w(t,e[n])||t.push(e[n]);return t}},k=String.fromCharCode(160);function S(e){return e&&o()(e).hasClass("note-editable")}function _(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function T(e){return e&&3===e.nodeType}function E(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(e.nodeName.toUpperCase())}function A(e){return!S(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}var D=_("PRE"),N=_("LI"),R=_("TABLE"),L=_("DATA");function P(e){return!(M(e)||I(e)||O(e)||A(e)||R(e)||F(e)||L(e))}function I(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var O=_("HR");function B(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var F=_("BLOCKQUOTE");function M(e){return B(e)||F(e)||S(e)}var $=_("A"),j=_("BODY"),H=g.isMSIE&&g.browserVersion<11?"&nbsp;":"<br>";function z(e){return T(e)?e.nodeValue.length:e?e.childNodes.length:0}function U(e){var t=z(e);return 0===t||!T(e)&&1===t&&e.innerHTML===H||!(!C.all(e.childNodes,T)||""!==e.innerHTML)}function q(e){E(e)||z(e)||(e.innerHTML=H)}function W(e,t){for(;e;){if(t(e))return e;if(S(e))break;e=e.parentNode}return null}function V(e,t){t=t||v.fail;var n=[];return W(e,function(e){return S(e)||n.push(e),t(e)}),n}function G(e,t){t=t||v.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function X(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function Y(e,t){return o.a.each(t,function(t,n){e.appendChild(n)}),e}function K(e){return 0===e.offset}function J(e){return e.offset===z(e.node)}function Z(e){return K(e)||J(e)}function Q(e,t){for(;e&&e!==t;){if(0!==te(e))return!1;e=e.parentNode}return!0}function ee(e,t){if(!t)return!1;for(;e&&e!==t;){if(te(e)!==z(e.parentNode)-1)return!1;e=e.parentNode}return!0}function te(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function ne(e){return!!(e&&e.childNodes&&e.childNodes.length)}function re(e,t){var n,r;if(0===e.offset){if(S(e.node))return null;n=e.node.parentNode,r=te(e.node)}else ne(e.node)?r=z(n=e.node.childNodes[e.offset-1]):(n=e.node,r=t?0:e.offset-1);return{node:n,offset:r}}function oe(e,t){var n,r;if(z(e.node)===e.offset){if(S(e.node))return null;var o=ae(e.node);o?(n=o,r=0):(n=e.node.parentNode,r=te(e.node)+1)}else ne(e.node)?(n=e.node.childNodes[e.offset],r=0):(n=e.node,r=t?z(e.node):e.offset+1);return{node:n,offset:r}}function ie(e,t){var n,r;if(U(e.node))return{node:n=e.node.nextSibling,offset:r=0};if(z(e.node)===e.offset){if(S(e.node))return null;var o=ae(e.node);o?(n=o,r=0):(n=e.node.parentNode,r=te(e.node)+1),S(n)&&(n=e.node.nextSibling,r=0)}else if(ne(e.node)){if(r=0,U(n=e.node.childNodes[e.offset]))return null}else if(n=e.node,r=t?z(e.node):e.offset+1,U(n))return null;return{node:n,offset:r}}function ae(e){if(e.nextSibling&&e.parent===e.nextSibling.parent)return T(e.nextSibling)?e.nextSibling:ae(e.nextSibling)}function se(e,t){return e.node===t.node&&e.offset===t.offset}function le(e,t){var n=t&&t.isSkipPaddingBlankHTML,r=t&&t.isNotSplitEdgePoint,o=t&&t.isDiscardEmptySplits;if(o&&(n=!0),Z(e)&&(T(e.node)||r)){if(K(e))return e.node;if(J(e))return e.node.nextSibling}if(T(e.node))return e.node.splitText(e.offset);var i=e.node.childNodes[e.offset],a=X(e.node.cloneNode(!1),e.node);return Y(a,G(i)),n||(q(e.node),q(a)),o&&(U(e.node)&&de(e.node),U(a))?(de(a),e.node.nextSibling):a}function ue(e,t,n){var r=V(t.node,v.eq(e));return r.length?1===r.length?le(t,n):r.reduce(function(e,r){return e===t.node&&(e=le(t,n)),le({node:r,offset:e?te(e):z(r)},n)}):null}function ce(e){return document.createElement(e)}function de(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var r=[],o=0,i=e.childNodes.length;o<i;o++)r.push(e.childNodes[o]);for(var a=0,s=r.length;a<s;a++)n.insertBefore(r[a],e)}n.removeChild(e)}}var fe=_("TEXTAREA");function he(e,t){var n=fe(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n}var pe={NBSP_CHAR:k,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:H,emptyPara:"<p>".concat(H,"</p>"),makePredByNodeName:_,isEditable:S,isControlSizing:function(e){return e&&o()(e).hasClass("note-control-sizing")},isText:T,isElement:function(e){return e&&1===e.nodeType},isVoid:E,isPara:A,isPurePara:function(e){return A(e)&&!N(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:P,isBlock:v.not(P),isBodyInline:function(e){return P(e)&&!W(e,A)},isBody:j,isParaInline:function(e){return P(e)&&!!W(e,A)},isPre:D,isList:I,isTable:R,isData:L,isCell:B,isBlockquote:F,isBodyContainer:M,isAnchor:$,isDiv:_("DIV"),isLi:N,isBR:_("BR"),isSpan:_("SPAN"),isB:_("B"),isU:_("U"),isS:_("S"),isI:_("I"),isImg:_("IMG"),isTextarea:fe,deepestChildIsEmpty:function(e){do{if(null===e.firstElementChild||""===e.firstElementChild.innerHTML)break}while(e=e.firstElementChild);return U(e)},isEmpty:U,isEmptyAnchor:v.and($,U),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||v.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:z,isLeftEdgePoint:K,isRightEdgePoint:J,isEdgePoint:Z,isLeftEdgeOf:Q,isRightEdgeOf:ee,isLeftEdgePointOf:function(e,t){return K(e)&&Q(e.node,t)},isRightEdgePointOf:function(e,t){return J(e)&&ee(e.node,t)},prevPoint:re,nextPoint:oe,nextPointWithEmptyNode:ie,isSamePoint:se,isVisiblePoint:function(e){if(T(e.node)||!ne(e.node)||U(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!E(t)||n&&!E(n))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=re(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=oe(e)}return null},isCharPoint:function(e){if(!T(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==k},isSpacePoint:function(e){if(!T(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return" "===t||t===k},walkPoint:function(e,t,n,r){for(var o=e;o&&(n(o),!se(o,t));)o=ie(o,r&&e.node!==o.node&&t.node!==o.node)},ancestor:W,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===z(e);){if(t(e))return e;if(S(e))break;e=e.parentNode}return null},listAncestor:V,lastAncestor:function(e,t){var n=V(e);return C.last(n.filter(t))},listNext:G,listPrev:function(e,t){t=t||v.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(e,t){var n=[];return t=t||v.ok,function r(o){e!==o&&t(o)&&n.push(o);for(var i=0,a=o.childNodes.length;i<a;i++)r(o.childNodes[i])}(e),n},commonAncestor:function(e,t){for(var n=V(e),r=t;r;r=r.parentNode)if(n.indexOf(r)>-1)return r;return null},wrap:function(e,t){var n=e.parentNode,r=o()("<"+t+">")[0];return n.insertBefore(r,e),r.appendChild(e),r},insertAfter:X,appendChildNodes:Y,position:te,hasChildren:ne,makeOffsetPath:function(e,t){return V(t,v.eq(e)).map(te).reverse()},fromOffsetPath:function(e,t){for(var n=e,r=0,o=t.length;r<o;r++)n=n.childNodes.length<=t[r]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[r]];return n},splitTree:ue,splitPoint:function(e,t){var n,r,o=t?A:M,i=V(e.node,o),a=C.last(i)||e.node;o(a)?(n=i[i.length-2],r=a):r=(n=a).parentNode;var s=n&&ue(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||r!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:r}},create:ce,createText:function(e){return document.createTextNode(e)},remove:de,removeWhile:function(e,t){for(;e&&!S(e)&&t(e);){var n=e.parentNode;de(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=ce(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),Y(n,C.from(e.childNodes)),X(n,e),de(e),n},html:function(e,t){var n=he(e);return t&&(n=(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(e,t,n){n=n.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(r||o?"\n":"")})).trim()),n},value:he,posFromPlaceholder:function(e){var t=o()(e),n=t.offset(),r=t.outerHeight(!0);return{left:n.left,top:n.top+r}},attachEvents:function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},detachEvents:function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})},isCustomStyleTag:function(e){return e&&!T(e)&&C.contains(e.classList,"note-styletag")}},ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=o.a.extend(!0,{},n),o.a.summernote.ui=o.a.summernote.ui_template(this.options),this.ui=o.a.summernote.ui,this.initialize()}var t;return(t=[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var e=this.isDisabled();this.code(pe.emptyPara),this._destroy(),this._initialize(),e&&this.disable()}},{key:"_initialize",value:function(){var e=this;this.options.id=v.uniqueId(o.a.now()),this.options.container=this.options.container||this.layoutInfo.editor;var t=o.a.extend({},this.options.buttons);Object.keys(t).forEach(function(n){e.memo("button."+n,t[n])});var n=o.a.extend({},this.options.modules,o.a.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})}},{key:"_destroy",value:function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)}},{key:"code",value:function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.invoke("codeview.sync",e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return"false"===this.layoutInfo.editable.attr("contenteditable")}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var e=C.head(arguments),t=C.tail(C.from(arguments)),n=this.options.callbacks[v.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)}},{key:"initializeModule",value:function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||v.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&pe.attachEvents(this.$note,t.events))}},{key:"module",value:function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)}},{key:"removeModule",value:function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&pe.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]}},{key:"memo",value:function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t}},{key:"removeMemo",value:function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]}},{key:"createInvokeHandlerAndUpdateState",value:function(e,t){var n=this;return function(r){n.createInvokeHandler(e,t)(r),n.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(e,t){var n=this;return function(r){r.preventDefault();var i=o()(r.target);n.invoke(e,t||i.closest("[data-value]").data("value"),i)}}},{key:"invoke",value:function(){var e=C.head(arguments),t=C.tail(C.from(arguments)),n=e.split("."),r=n.length>1,o=r&&C.head(n),i=r?C.last(n):C.head(n),a=this.modules[o||"editor"];return!o&&this[i]?this[i].apply(this,t):a&&a[i]&&a.shouldInitialize()?a[i].apply(a,t):void 0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function me(e,t){var n,r,o=e.parentElement(),i=document.body.createTextRange(),a=C.from(o.childNodes);for(n=0;n<a.length;n++)if(!pe.isText(a[n])){if(i.moveToElementText(a[n]),i.compareEndPoints("StartToStart",e)>=0)break;r=a[n]}if(0!==n&&pe.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(r||o),s.collapse(!r),l=r?r.nextSibling:o.firstChild;var u=e.duplicate();u.setEndPoint("StartToStart",s);for(var c=u.text.replace(/[\r\n]/g,"").length;c>l.nodeValue.length&&l.nextSibling;)c-=l.nodeValue.length,l=l.nextSibling;t&&l.nextSibling&&pe.isText(l.nextSibling)&&c===l.nodeValue.length&&(c-=l.nodeValue.length,l=l.nextSibling),o=l,n=c}return{cont:o,offset:n}}function ve(e){var t=document.body.createTextRange(),n=function e(t,n){var r,o;if(pe.isText(t)){var i=pe.listPrev(t,v.not(pe.isText)),a=C.last(i).previousSibling;r=a||t.parentNode,n+=C.sum(C.tail(i),pe.nodeLength),o=!a}else{if(pe.isText(r=t.childNodes[n]||t))return e(r,0);n=0,o=!1}return{node:r,collapseToStart:o,offset:n}}(e.node,e.offset);return t.moveToElementText(n.node),t.collapse(n.collapseToStart),t.moveStart("character",n.offset),t}o.a.fn.extend({summernote:function(){var e=o.a.type(C.head(arguments)),t="string"===e,n="object"===e,r=o.a.extend({},o.a.summernote.options,n?C.head(arguments):{});r.langInfo=o.a.extend(!0,{},o.a.summernote.lang["en-US"],o.a.summernote.lang[r.lang]),r.icons=o.a.extend(!0,{},o.a.summernote.options.icons,r.icons),r.tooltip="auto"===r.tooltip?!g.isSupportTouch:r.tooltip,this.each(function(e,t){var n=o()(t);if(!n.data("summernote")){var i=new ge(n,r);n.data("summernote",i),n.data("summernote").triggerEvent("init",i.layoutInfo)}});var i=this.first();if(i.length){var a=i.data("summernote");if(t)return a.invoke.apply(a,C.from(arguments));r.focus&&a.invoke("editor.focus")}return this}});var ye=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sc=t,this.so=n,this.ec=r,this.eo=o,this.isOnEditable=this.makeIsOn(pe.isEditable),this.isOnList=this.makeIsOn(pe.isList),this.isOnAnchor=this.makeIsOn(pe.isAnchor),this.isOnCell=this.makeIsOn(pe.isCell),this.isOnData=this.makeIsOn(pe.isData)}var t;return(t=[{key:"nativeRange",value:function(){if(g.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}var t=ve({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",ve({node:this.ec,offset:this.eo})),t}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var e=this.nativeRange();if(g.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this}},{key:"scrollIntoView",value:function(e){var t=o()(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var t=function(e,t){if(!e)return e;if(pe.isVisiblePoint(e)&&(!pe.isEdgePoint(e)||pe.isRightEdgePoint(e)&&!t||pe.isLeftEdgePoint(e)&&t||pe.isRightEdgePoint(e)&&t&&pe.isVoid(e.node.nextSibling)||pe.isLeftEdgePoint(e)&&!t&&pe.isVoid(e.node.previousSibling)||pe.isBlock(e.node)&&pe.isEmpty(e.node)))return e;var n=pe.ancestor(e.node,pe.isBlock),r=!1;if(!r){var o=pe.prevPoint(e)||{node:null};r=(pe.isLeftEdgePointOf(e,n)||pe.isVoid(o.node))&&!t}var i=!1;if(!i){var a=pe.nextPoint(e)||{node:null};i=(pe.isRightEdgePointOf(e,n)||pe.isVoid(a.node))&&t}if(r||i){if(pe.isVisiblePoint(e))return e;t=!t}return(t?pe.nextPointUntil(pe.nextPoint(e),pe.isVisiblePoint):pe.prevPointUntil(pe.prevPoint(e),pe.isVisiblePoint))||e},n=t(this.getEndPoint(),!1),r=this.isCollapsed()?n:t(this.getStartPoint(),!0);return new e(r.node,r.offset,n.node,n.offset)}},{key:"nodes",value:function(e,t){e=e||v.ok;var n=t&&t.includeAncestor,r=t&&t.fullyContains,o=this.getStartPoint(),i=this.getEndPoint(),a=[],s=[];return pe.walkPoint(o,i,function(t){var o;pe.isEditable(t.node)||(r?(pe.isLeftEdgePoint(t)&&s.push(t.node),pe.isRightEdgePoint(t)&&C.contains(s,t.node)&&(o=t.node)):o=n?pe.ancestor(t.node,e):t.node,o&&e(o)&&a.push(o))},!0),C.unique(a)}},{key:"commonAncestor",value:function(){return pe.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(t){var n=pe.ancestor(this.sc,t),r=pe.ancestor(this.ec,t);if(!n&&!r)return new e(this.sc,this.so,this.ec,this.eo);var o=this.getPoints();return n&&(o.sc=n,o.so=0),r&&(o.ec=r,o.eo=pe.nodeLength(r)),new e(o.sc,o.so,o.ec,o.eo)}},{key:"collapse",value:function(t){return t?new e(this.sc,this.so,this.sc,this.so):new e(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var t=this.sc===this.ec,n=this.getPoints();return pe.isText(this.ec)&&!pe.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),pe.isText(this.sc)&&!pe.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,t&&(n.ec=n.sc,n.eo=this.eo-this.so)),new e(n.sc,n.so,n.ec,n.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),r=pe.prevPointUntil(t.getStartPoint(),function(e){return!C.contains(n,e.node)}),i=[];return o.a.each(n,function(e,t){var n=t.parentNode;r.node!==n&&1===pe.nodeLength(n)&&i.push(n),pe.remove(t,!1)}),o.a.each(i,function(e,t){pe.remove(t,!1)}),new e(r.node,r.offset,r.node,r.offset).normalize()}},{key:"makeIsOn",value:function(e){return function(){var t=pe.ancestor(this.sc,e);return!!t&&t===pe.ancestor(this.ec,e)}}},{key:"isLeftEdgeOf",value:function(e){if(!pe.isLeftEdgePoint(this.getStartPoint()))return!1;var t=pe.ancestor(this.sc,e);return t&&pe.isLeftEdgeOf(this.sc,t)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(pe.isBodyContainer(this.sc)&&pe.isEmpty(this.sc))return this.sc.innerHTML=pe.emptyPara,new e(this.sc.firstChild,0,this.sc.firstChild,0);var t,n=this.normalize();if(pe.isParaInline(this.sc)||pe.isPara(this.sc))return n;if(pe.isInline(n.sc)){var r=pe.listAncestor(n.sc,v.not(pe.isInline));t=C.last(r),pe.isInline(t)||(t=r[r.length-2]||n.sc.childNodes[n.so])}else t=n.sc.childNodes[n.so>0?n.so-1:0];if(t){var o=pe.listPrev(t,pe.isParaInline).reverse();if((o=o.concat(pe.listNext(t.nextSibling,pe.isParaInline))).length){var i=pe.wrap(C.head(o),"p");pe.appendChildNodes(i,C.tail(o))}}return this.normalize()}},{key:"insertNode",value:function(e){var t=this;(pe.isText(e)||pe.isInline(e))&&(t=this.wrapBodyInlineWithPara().deleteContents());var n=pe.splitPoint(t.getStartPoint(),pe.isInline(e));return n.rightNode?(n.rightNode.parentNode.insertBefore(e,n.rightNode),pe.isEmpty(n.rightNode)&&pe.isPara(e)&&n.rightNode.parentNode.removeChild(n.rightNode)):n.container.appendChild(e),e}},{key:"pasteHTML",value:function(e){e=o.a.trim(e);var t=o()("<div></div>").html(e)[0],n=C.from(t.childNodes),r=this,i=!1;return r.so>=0&&(n=n.reverse(),i=!0),n=n.map(function(e){return r.insertNode(e)}),i&&(n=n.reverse()),n}},{key:"toString",value:function(){var e=this.nativeRange();return g.isW3CRangeSupport?e.toString():e.text}},{key:"getWordRange",value:function(t){var n=this.getEndPoint();if(!pe.isCharPoint(n))return this;var r=pe.prevPointUntil(n,function(e){return!pe.isCharPoint(e)});return t&&(n=pe.nextPointUntil(n,function(e){return!pe.isCharPoint(e)})),new e(r.node,r.offset,n.node,n.offset)}},{key:"getWordsRange",value:function(t){var n=this.getEndPoint(),r=function(e){return!pe.isCharPoint(e)&&!pe.isSpacePoint(e)};if(r(n))return this;var o=pe.prevPointUntil(n,r);return t&&(n=pe.nextPointUntil(n,r)),new e(o.node,o.offset,n.node,n.offset)}},{key:"getWordsMatchRange",value:function(t){var n=this.getEndPoint(),r=pe.prevPointUntil(n,function(r){if(!pe.isCharPoint(r)&&!pe.isSpacePoint(r))return!0;var o=new e(r.node,r.offset,n.node,n.offset),i=t.exec(o.toString());return i&&0===i.index}),o=new e(r.node,r.offset,n.node,n.offset),i=o.toString(),a=t.exec(i);return a&&a[0].length===i.length?o:null}},{key:"bookmark",value:function(e){return{s:{path:pe.makeOffsetPath(e,this.sc),offset:this.so},e:{path:pe.makeOffsetPath(e,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(e){return{s:{path:C.tail(pe.makeOffsetPath(C.head(e),this.sc)),offset:this.so},e:{path:C.tail(pe.makeOffsetPath(C.last(e),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){return this.nativeRange().getClientRects()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),be={create:function(e,t,n,r){if(4===arguments.length)return new ye(e,t,n,r);if(2===arguments.length)return new ye(e,t,n=e,r=t);var o=this.createFromSelection();if(!o&&1===arguments.length){var i=arguments[0];return pe.isEditable(i)&&(i=i.lastChild),this.createFromBodyElement(i,pe.emptyPara===arguments[0].innerHTML)}return o},createFromBodyElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.createFromNode(e);return n.collapse(t)},createFromSelection:function(){var e,t,n,r;if(g.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(pe.isBody(o.anchorNode))return null;var i=o.getRangeAt(0);e=i.startContainer,t=i.startOffset,n=i.endContainer,r=i.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var u=me(l,!0),c=me(s,!1);pe.isText(u.node)&&pe.isLeftEdgePoint(u)&&pe.isTextNode(c.node)&&pe.isRightEdgePoint(c)&&c.node.nextSibling===u.node&&(u=c),e=u.cont,t=u.offset,n=c.cont,r=c.offset}return new ye(e,t,n,r)},createFromNode:function(e){var t=e,n=0,r=e,o=pe.nodeLength(r);return pe.isVoid(t)&&(n=pe.listPrev(t).length-1,t=t.parentNode),pe.isBR(r)?(o=pe.listPrev(r).length-1,r=r.parentNode):pe.isVoid(r)&&(o=pe.listPrev(r).length,r=r.parentNode),this.create(t,n,r,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=pe.fromOffsetPath(e,t.s.path),r=t.s.offset,o=pe.fromOffsetPath(e,t.e.path);return new ye(n,r,o,t.e.offset)},createFromParaBookmark:function(e,t){var n=e.s.offset,r=e.e.offset,o=pe.fromOffsetPath(C.head(t),e.s.path),i=pe.fromOffsetPath(C.last(t),e.e.path);return new ye(o,n,i,r)}},xe={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34},we={isEdit:function(e){return C.contains([xe.BACKSPACE,xe.TAB,xe.ENTER,xe.SPACE,xe.DELETE],e)},isMove:function(e){return C.contains([xe.LEFT,xe.UP,xe.RIGHT,xe.DOWN],e)},isNavigation:function(e){return C.contains([xe.HOME,xe.END,xe.PAGEUP,xe.PAGEDOWN],e)},nameFromCode:v.invertObject(xe),code:xe},Ce=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stack=[],this.stackOffset=-1,this.context=t,this.$editable=t.layoutInfo.editable,this.editable=this.$editable[0]}var t;return(t=[{key:"makeSnapshot",value:function(){var e=be.create(this.editable);return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}}},{key:"applySnapshot",value:function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&be.createFromBookmark(this.editable,e.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[],this.stackOffset=-1,this.recordUndo()}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot()),this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"jQueryCSS",value:function(e,t){if(g.jqueryVersion<1.9){var n={};return o.a.each(t,function(t,r){n[r]=e.css(r)}),n}return e.css(t)}},{key:"fromNode",value:function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{},n=e[0].style.fontSize||t["font-size"];return t["font-size"]=parseInt(n,10),t["font-size-unit"]=n.match(/[a-z%]+$/),t}},{key:"stylePara",value:function(e,t){o.a.each(e.nodes(pe.isPara,{includeAncestor:!0}),function(e,n){o()(n).css(t)})}},{key:"styleNodes",value:function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",r=!(!t||!t.expandClosestSibling),i=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(pe.create(n))];var a=pe.makePredByNodeName(n),s=e.nodes(pe.isText,{fullyContains:!0}).map(function(e){return pe.singleChildAncestor(e,a)||pe.wrap(e,n)});if(r){if(i){var l=e.nodes();a=v.and(a,function(e){return C.contains(l,e)})}return s.map(function(e){var t=pe.withClosestSiblings(e,a),n=C.head(t),r=C.tail(t);return o.a.each(r,function(e,t){pe.appendChildNodes(n,t.childNodes),pe.remove(t)}),C.head(t)})}return s}},{key:"current",value:function(e){var t=o()(pe.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(t);try{n=o.a.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||n["font-family"]})}catch(e){}if(e.isOnList()){var r=["circle","disc","disc-leading-zero","square"].indexOf(n["list-style-type"])>-1;n["list-style"]=r?"unordered":"ordered"}else n["list-style"]="none";var i=pe.ancestor(e.sc,pe.isPara);if(i&&i.style["line-height"])n["line-height"]=i.style.lineHeight;else{var a=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=a.toFixed(1)}return n.anchor=e.isOnAnchor()&&pe.ancestor(e.sc,pe.isAnchor),n.ancestors=pe.listAncestor(e.sc,pe.isEditable),n.range=e,n}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"insertOrderedList",value:function(e){this.toggleList("OL",e)}},{key:"insertUnorderedList",value:function(e){this.toggleList("UL",e)}},{key:"indent",value:function(e){var t=this,n=be.create(e).wrapBodyInlineWithPara(),r=n.nodes(pe.isPara,{includeAncestor:!0}),i=C.clusterBy(r,v.peq2("parentNode"));o.a.each(i,function(e,n){var r=C.head(n);if(pe.isLi(r)){var i=t.findList(r.previousSibling);i?n.map(function(e){return i.appendChild(e)}):(t.wrapList(n,r.parentNode.nodeName),n.map(function(e){return e.parentNode}).map(function(e){return t.appendToPrevious(e)}))}else o.a.each(n,function(e,t){o()(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()}},{key:"outdent",value:function(e){var t=this,n=be.create(e).wrapBodyInlineWithPara(),r=n.nodes(pe.isPara,{includeAncestor:!0}),i=C.clusterBy(r,v.peq2("parentNode"));o.a.each(i,function(e,n){var r=C.head(n);pe.isLi(r)?t.releaseList([n]):o.a.each(n,function(e,t){o()(t).css("marginLeft",function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""})})}),n.select()}},{key:"toggleList",value:function(e,t){var n=this,r=be.create(t).wrapBodyInlineWithPara(),i=r.nodes(pe.isPara,{includeAncestor:!0}),a=r.paraBookmark(i),s=C.clusterBy(i,v.peq2("parentNode"));if(C.find(i,pe.isPurePara)){var l=[];o.a.each(s,function(t,r){l=l.concat(n.wrapList(r,e))}),i=l}else{var u=r.nodes(pe.isList,{includeAncestor:!0}).filter(function(t){return!o.a.nodeName(t,e)});u.length?o.a.each(u,function(t,n){pe.replace(n,e)}):i=this.releaseList(s,!0)}be.createFromParaBookmark(a,i).select()}},{key:"wrapList",value:function(e,t){var n=C.head(e),r=C.last(e),o=pe.isList(n.previousSibling)&&n.previousSibling,i=pe.isList(r.nextSibling)&&r.nextSibling,a=o||pe.insertAfter(pe.create(t||"UL"),r);return e=e.map(function(e){return pe.isPurePara(e)?pe.replace(e,"LI"):e}),pe.appendChildNodes(a,e),i&&(pe.appendChildNodes(a,C.from(i.childNodes)),pe.remove(i)),e}},{key:"releaseList",value:function(e,t){var n=this,r=[];return o.a.each(e,function(e,i){var a=C.head(i),s=C.last(i),l=t?pe.lastAncestor(a,pe.isList):a.parentNode,u=l.parentNode;if("LI"===l.parentNode.nodeName)i.map(function(e){var t=n.findNextSiblings(e);u.nextSibling?u.parentNode.insertBefore(e,u.nextSibling):u.parentNode.appendChild(e),t.length&&(n.wrapList(t,l.nodeName),e.appendChild(t[0].parentNode))}),0===l.children.length&&u.removeChild(l),0===u.childNodes.length&&u.parentNode.removeChild(u);else{var c=l.childNodes.length>1?pe.splitTree(l,{node:s.parentNode,offset:pe.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,d=pe.splitTree(l,{node:a.parentNode,offset:pe.position(a)},{isSkipPaddingBlankHTML:!0});i=t?pe.listDescendant(d,pe.isLi):C.from(d.childNodes).filter(pe.isLi),!t&&pe.isList(l.parentNode)||(i=i.map(function(e){return pe.replace(e,"P")})),o.a.each(C.from(i).reverse(),function(e,t){pe.insertAfter(t,l)});var f=C.compact([l,d,c]);o.a.each(f,function(e,t){var n=[t].concat(pe.listDescendant(t,pe.isList));o.a.each(n.reverse(),function(e,t){pe.nodeLength(t)||pe.remove(t,!0)})})}r=r.concat(i)}),r}},{key:"appendToPrevious",value:function(e){return e.previousSibling?pe.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")}},{key:"findList",value:function(e){return e?C.find(e.children,function(e){return["OL","UL"].indexOf(e.nodeName)>-1}):null}},{key:"findNextSiblings",value:function(e){for(var t=[];e.nextSibling;)t.push(e.nextSibling),e=e.nextSibling;return t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),_e=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bullet=new Se,this.options=t.options}var t;return(t=[{key:"insertTab",value:function(e,t){var n=pe.createText(new Array(t+1).join(pe.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=be.create(n,t)).select()}},{key:"insertParagraph",value:function(e,t){t=(t=(t=t||be.create(e)).deleteContents()).wrapBodyInlineWithPara();var n,r=pe.ancestor(t.sc,pe.isPara);if(r){if(pe.isLi(r)&&(pe.isEmpty(r)||pe.deepestChildIsEmpty(r)))return void this.bullet.toggleList(r.parentNode.nodeName);var i=null;if(1===this.options.blockquoteBreakingLevel?i=pe.ancestor(r,pe.isBlockquote):2===this.options.blockquoteBreakingLevel&&(i=pe.lastAncestor(r,pe.isBlockquote)),i){n=o()(pe.emptyPara)[0],pe.isRightEdgePoint(t.getStartPoint())&&pe.isBR(t.sc.nextSibling)&&o()(t.sc.nextSibling).remove();var a=pe.splitTree(i,t.getStartPoint(),{isDiscardEmptySplits:!0});a?a.parentNode.insertBefore(n,a):pe.insertAfter(n,i)}else{n=pe.splitTree(r,t.getStartPoint());var s=pe.listDescendant(r,pe.isEmptyAnchor);s=s.concat(pe.listDescendant(n,pe.isEmptyAnchor)),o.a.each(s,function(e,t){pe.remove(t)}),(pe.isHeading(n)||pe.isPre(n)||pe.isCustomStyleTag(n))&&pe.isEmpty(n)&&(n=pe.replace(n,"p"))}}else{var l=t.sc.childNodes[t.so];n=o()(pe.emptyPara)[0],l?t.sc.insertBefore(n,l):t.sc.appendChild(n)}be.create(n,0).normalize().select().scrollIntoView(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Te=function e(t,n,r,o){var i={colPos:0,rowPos:0},a=[],s=[];function l(e,t,n,r,o,i,s){var l={baseRow:n,baseCell:r,isRowSpan:o,isColSpan:i,isVirtual:s};a[e]||(a[e]=[]),a[e][t]=l}function u(e,t,n,r){return{baseCell:e.baseCell,action:t,virtualTable:{rowIndex:n,cellIndex:r}}}function c(e,t){if(!a[e])return t;if(!a[e][t])return t;for(var n=t;a[e][n];)if(n++,!a[e][n])return n}function d(e,t){var n=c(e.rowIndex,t.cellIndex),r=t.colSpan>1,o=t.rowSpan>1,a=e.rowIndex===i.rowPos&&t.cellIndex===i.colPos;l(e.rowIndex,n,e,t,o,r,!1);var s=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(s>1)for(var u=1;u<s;u++){var d=e.rowIndex+u;f(d,n,t,a),l(d,n,e,t,!0,r,!0)}var h=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(h>1)for(var p=1;p<h;p++){var g=c(e.rowIndex,n+p);f(e.rowIndex,g,t,a),l(e.rowIndex,g,e,t,o,!0,!0)}}function f(e,t,n,r){e===i.rowPos&&i.colPos>=n.cellIndex&&n.cellIndex<=t&&!r&&i.colPos++}function h(t){switch(n){case e.where.Column:if(t.isColSpan)return e.resultAction.SubtractSpanCount;break;case e.where.Row:if(!t.isVirtual&&t.isRowSpan)return e.resultAction.AddCell;if(t.isRowSpan)return e.resultAction.SubtractSpanCount}return e.resultAction.RemoveCell}function p(t){switch(n){case e.where.Column:if(t.isColSpan)return e.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return e.resultAction.Ignore;break;case e.where.Row:if(t.isRowSpan)return e.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return e.resultAction.Ignore}return e.resultAction.AddCell}this.getActionList=function(){for(var t=n===e.where.Row?i.rowPos:-1,o=n===e.where.Column?i.colPos:-1,l=0,c=!0;c;){var d=t>=0?t:l,f=o>=0?o:l,g=a[d];if(!g)return c=!1,s;var m=g[f];if(!m)return c=!1,s;var v=e.resultAction.Ignore;switch(r){case e.requestAction.Add:v=p(m);break;case e.requestAction.Delete:v=h(m)}s.push(u(m,v,d,f)),l++}return s},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())&&(i.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()&&(i.rowPos=t.parentElement.rowIndex)),function(){for(var e=o.rows,t=0;t<e.length;t++)for(var n=e[t].cells,r=0;r<n.length;r++)d(e[t],n[r])}()};Te.where={Row:0,Column:1},Te.requestAction={Add:0,Delete:1},Te.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"tab",value:function(e,t){var n=pe.ancestor(e.commonAncestor(),pe.isCell),r=pe.ancestor(n,pe.isTable),o=pe.listDescendant(r,pe.isCell),i=C[t?"prev":"next"](o,n);i&&be.create(i,0).select()}},{key:"addRow",value:function(e,t){for(var n=pe.ancestor(e.commonAncestor(),pe.isCell),r=o()(n).closest("tr"),i=this.recoverAttributes(r),a=o()("<tr"+i+"></tr>"),s=new Te(n,Te.where.Row,Te.requestAction.Add,o()(r).closest("table")[0]).getActionList(),l=0;l<s.length;l++){var u=s[l],c=this.recoverAttributes(u.baseCell);switch(u.action){case Te.resultAction.AddCell:a.append("<td"+c+">"+pe.blank+"</td>");break;case Te.resultAction.SumSpanCount:if("top"===t&&(u.baseCell.parent?u.baseCell.closest("tr").rowIndex:0)<=r[0].rowIndex){var d=o()("<div></div>").append(o()("<td"+c+">"+pe.blank+"</td>").removeAttr("rowspan")).html();a.append(d);break}var f=parseInt(u.baseCell.rowSpan,10);f++,u.baseCell.setAttribute("rowSpan",f)}}if("top"===t)r.before(a);else{if(n.rowSpan>1){var h=r[0].rowIndex+(n.rowSpan-2);return void o()(o()(r).parent().find("tr")[h]).after(o()(a))}r.after(a)}}},{key:"addCol",value:function(e,t){var n=pe.ancestor(e.commonAncestor(),pe.isCell),r=o()(n).closest("tr");o()(r).siblings().push(r);for(var i=new Te(n,Te.where.Column,Te.requestAction.Add,o()(r).closest("table")[0]).getActionList(),a=0;a<i.length;a++){var s=i[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Te.resultAction.AddCell:"right"===t?o()(s.baseCell).after("<td"+l+">"+pe.blank+"</td>"):o()(s.baseCell).before("<td"+l+">"+pe.blank+"</td>");break;case Te.resultAction.SumSpanCount:if("right"===t){var u=parseInt(s.baseCell.colSpan,10);u++,s.baseCell.setAttribute("colSpan",u)}else o()(s.baseCell).before("<td"+l+">"+pe.blank+"</td>")}}}},{key:"recoverAttributes",value:function(e){var t="";if(!e)return t;for(var n=e.attributes||[],r=0;r<n.length;r++)"id"!==n[r].name.toLowerCase()&&n[r].specified&&(t+=" "+n[r].name+"='"+n[r].value+"'");return t}},{key:"deleteRow",value:function(e){for(var t=pe.ancestor(e.commonAncestor(),pe.isCell),n=o()(t).closest("tr"),r=n.children("td, th").index(o()(t)),i=n[0].rowIndex,a=new Te(t,Te.where.Row,Te.requestAction.Delete,o()(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++)if(a[s]){var l=a[s].baseCell,u=a[s].virtualTable,c=l.rowSpan&&l.rowSpan>1,d=c?parseInt(l.rowSpan,10):0;switch(a[s].action){case Te.resultAction.Ignore:continue;case Te.resultAction.AddCell:var f=n.next("tr")[0];if(!f)continue;var h=n[0].cells[r];c&&(d>2?(d--,f.insertBefore(h,f.cells[r]),f.cells[r].setAttribute("rowSpan",d),f.cells[r].innerHTML=""):2===d&&(f.insertBefore(h,f.cells[r]),f.cells[r].removeAttribute("rowSpan"),f.cells[r].innerHTML=""));continue;case Te.resultAction.SubtractSpanCount:c&&(d>2?(d--,l.setAttribute("rowSpan",d),u.rowIndex!==i&&l.cellIndex===r&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),u.rowIndex!==i&&l.cellIndex===r&&(l.innerHTML="")));continue;case Te.resultAction.RemoveCell:continue}}n.remove()}},{key:"deleteCol",value:function(e){for(var t=pe.ancestor(e.commonAncestor(),pe.isCell),n=o()(t).closest("tr"),r=n.children("td, th").index(o()(t)),i=new Te(t,Te.where.Column,Te.requestAction.Delete,o()(n).closest("table")[0]).getActionList(),a=0;a<i.length;a++)if(i[a])switch(i[a].action){case Te.resultAction.Ignore:continue;case Te.resultAction.SubtractSpanCount:var s=i[a].baseCell;if(s.colSpan&&s.colSpan>1){var l=s.colSpan?parseInt(s.colSpan,10):0;l>2?(l--,s.setAttribute("colSpan",l),s.cellIndex===r&&(s.innerHTML="")):2===l&&(s.removeAttribute("colSpan"),s.cellIndex===r&&(s.innerHTML=""))}continue;case Te.resultAction.RemoveCell:pe.remove(i[a].baseCell,!0);continue}}},{key:"createTable",value:function(e,t,n){for(var r,i=[],a=0;a<e;a++)i.push("<td>"+pe.blank+"</td>");r=i.join("");for(var s,l=[],u=0;u<t;u++)l.push("<tr>"+r+"</tr>");s=l.join("");var c=o()("<table>"+s+"</table>");return n&&n.tableClassName&&c.addClass(n.tableClassName),c[0]}},{key:"deleteTable",value:function(e){var t=pe.ancestor(e.commonAncestor(),pe.isCell);o()(t).closest("table").remove()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ae=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new ke,this.table=new Ee,this.typing=new _e(t),this.bullet=new Se,this.history=new Ce(t),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var r=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],i=0,a=r.length;i<a;i++)this[r[i]]=function(e){return function(t){n.beforeCommand(),document.execCommand(e,!1,t),n.afterCommand(!0)}}(r[i]),this.context.memo("help."+r[i],this.lang.help[r[i]]);this.fontName=this.wrapCommand(function(e){return n.fontStyling("font-family",g.validFontName(e))}),this.fontSize=this.wrapCommand(function(e){var t=n.currentStyle()["font-size-unit"];return n.fontStyling("font-size",e+t)}),this.fontSizeUnit=this.wrapCommand(function(e){var t=n.currentStyle()["font-size"];return n.fontStyling("font-size",t+e)});for(var s=1;s<=6;s++)this["formatH"+s]=function(e){return function(){n.formatBlock("H"+e)}}(s),this.context.memo("help.formatH"+s,this.lang.help["formatH"+s]);this.insertParagraph=this.wrapCommand(function(){n.typing.insertParagraph(n.editable)}),this.insertOrderedList=this.wrapCommand(function(){n.bullet.insertOrderedList(n.editable)}),this.insertUnorderedList=this.wrapCommand(function(){n.bullet.insertUnorderedList(n.editable)}),this.indent=this.wrapCommand(function(){n.bullet.indent(n.editable)}),this.outdent=this.wrapCommand(function(){n.bullet.outdent(n.editable)}),this.insertNode=this.wrapCommand(function(e){n.isLimited(o()(e).text().length)||(n.getLastRange().insertNode(e),n.setLastRange(be.createFromNodeAfter(e).select()))}),this.insertText=this.wrapCommand(function(e){if(!n.isLimited(e.length)){var t=n.getLastRange().insertNode(pe.createText(e));n.setLastRange(be.create(t,pe.nodeLength(t)).select())}}),this.pasteHTML=this.wrapCommand(function(e){if(!n.isLimited(e.length)){e=n.context.invoke("codeview.purify",e);var t=n.getLastRange().pasteHTML(e);n.setLastRange(be.createFromNodeAfter(C.last(t)).select())}}),this.formatBlock=this.wrapCommand(function(e,t){var r=n.options.callbacks.onApplyCustomStyle;r?r.call(n,t,n.context,n.onFormatBlock):n.onFormatBlock(e,t)}),this.insertHorizontalRule=this.wrapCommand(function(){var e=n.getLastRange().insertNode(pe.create("HR"));e.nextSibling&&n.setLastRange(be.create(e.nextSibling,0).normalize().select())}),this.lineHeight=this.wrapCommand(function(e){n.style.stylePara(n.getLastRange(),{lineHeight:e})}),this.createLink=this.wrapCommand(function(e){var t=e.url,r=e.text,i=e.isNewWindow,a=e.checkProtocol,s=e.range||n.getLastRange(),l=r.length-s.toString().length;if(!(l>0&&n.isLimited(l))){var u=s.toString()!==r;"string"==typeof t&&(t=t.trim()),n.options.onCreateLink?t=n.options.onCreateLink(t):a&&(t=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(t)?t:n.options.defaultProtocol+t);var c=[];if(u){var d=(s=s.deleteContents()).insertNode(o()("<A>"+r+"</A>")[0]);c.push(d)}else c=n.style.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});o.a.each(c,function(e,n){o()(n).attr("href",t),i?o()(n).attr("target","_blank"):o()(n).removeAttr("target")}),n.setLastRange(n.createRangeFromList(c).select())}}),this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.foreColor=this.wrapCommand(function(e){document.execCommand("foreColor",!1,e)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x");n.getLastRange().deleteContents().insertNode(n.table.createTable(t[0],t[1],n.options))}),this.removeMedia=this.wrapCommand(function(){var e=o()(n.restoreTarget()).parent();e.closest("figure").length?e.closest("figure").remove():e=o()(n.restoreTarget()).detach(),n.context.triggerEvent("media.delete",e,n.$editable)}),this.floatMe=this.wrapCommand(function(e){var t=o()(n.restoreTarget());t.toggleClass("note-float-left","left"===e),t.toggleClass("note-float-right","right"===e),t.css("float","none"===e?"":e)}),this.resize=this.wrapCommand(function(e){var t=o()(n.restoreTarget());0===(e=parseFloat(e))?t.css("width",""):t.css({width:100*e+"%",height:""})})}var t;return(t=[{key:"initialize",value:function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===we.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),e.snapshot=e.history.makeSnapshot(),e.hasKeyShortCut=!1,t.isDefaultPrevented()||(e.options.shortcuts?e.hasKeyShortCut=e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t)){var n=e.getLastRange();if(n.eo-n.so==0)return!1}e.setLastRange(),e.options.recordEveryKeystroke&&!1===e.hasKeyShortCut&&e.history.recordUndo()}).on("keyup",function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.setLastRange(),e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.setLastRange(),e.history.recordUndo(),e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.setLastRange(),e.context.triggerEvent("paste",t)}).on("input",function(){e.isLimited(0)&&e.snapshot&&e.history.applySnapshot(e.snapshot)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),this.$editable.html(pe.html(this.$note)||pe.emptyPara),this.$editable.on(g.inputEventName,v.debounce(function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)},10)),this.$editable.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",function(t){return e.context.triggerEvent("contextmenu",t),!1}):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(e){var t=this.options.keyMap[g.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var r=we.nameFromCode[e.keyCode];r&&n.push(r);var o=t[n.join("+")];if("TAB"!==r||this.options.tabDisable)if(o){if(!1!==this.context.invoke(o))return e.preventDefault(),!0}else we.isEdit(e.keyCode)&&this.afterCommand();else this.afterCommand();return!1}},{key:"preventDefaultEditableShortCuts",value:function(e){(e.ctrlKey||e.metaKey)&&C.contains([66,73,85],e.keyCode)&&e.preventDefault()}},{key:"isLimited",value:function(e,t){return e=e||0,(void 0===t||!(we.isMove(t.keyCode)||we.isNavigation(t.keyCode)||t.ctrlKey||t.metaKey||C.contains([we.code.BACKSPACE,we.code.DELETE],t.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+e>this.options.maxTextLength}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(e){var t=be.createFromNodeBefore(C.head(e)).getStartPoint(),n=be.createFromNodeAfter(C.last(e)).getEndPoint();return be.create(t.node,t.offset,n.node,n.offset)}},{key:"setLastRange",value:function(e){e?this.lastRange=e:(this.lastRange=be.create(this.editable),0===o()(this.lastRange.sc).closest(".note-editable").length&&(this.lastRange=be.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(e){e&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(e){this.$editable.data("target",e)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var e=be.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(e){return this.style.fromNode(e)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),this.focus()}},{key:"afterCommand",value:function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1}},{key:"wrapCommand",value:function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}}},{key:"insertImage",value:function(e,t){var n,r=this;return(n=e,o.a.Deferred(function(e){var t=o()("<img>");t.one("load",function(){t.off("error abort"),e.resolve(t)}).one("error abort",function(){t.off("load").detach(),e.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",n)}).promise()).then(function(e){r.beforeCommand(),"function"==typeof t?t(e):("string"==typeof t&&e.attr("data-filename",t),e.css("width",Math.min(r.$editable.width(),e.width()))),e.show(),r.getLastRange().insertNode(e[0]),r.setLastRange(be.createFromNodeAfter(e[0]).select()),r.afterCommand()}).fail(function(e){r.context.triggerEvent("image.upload.error",e)})}},{key:"insertImagesAsDataURL",value:function(e){var t=this;o.a.each(e,function(e,n){var r=n.name;t.options.maximumImageFileSize&&t.options.maximumImageFileSize<n.size?t.context.triggerEvent("image.upload.error",t.lang.image.maximumFileSizeError):function(e){return o.a.Deferred(function(t){o.a.extend(new FileReader,{onload:function(e){t.resolve(e.target.result)},onerror:function(e){t.reject(e)}}).readAsDataURL(e)}).promise()}(n).then(function(e){return t.insertImage(e,r)}).fail(function(){t.context.triggerEvent("image.upload.error")})})}},{key:"insertImagesOrCallback",value:function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)}},{key:"getSelectedText",value:function(){var e=this.getLastRange();return e.isOnAnchor()&&(e=be.createFromNode(pe.ancestor(e.sc,pe.isAnchor))),e.toString()}},{key:"onFormatBlock",value:function(e,t){if(document.execCommand("FormatBlock",!1,g.isMSIE?"<"+e+">":e),t&&t.length&&(t[0].tagName.toUpperCase()!==e.toUpperCase()&&(t=t.find(e)),t&&t.length)){var n=t[0].className||"";if(n){var r=this.createRange();o()([r.sc,r.ec]).closest(e).addClass(n)}}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(e,t){var n=this.getLastRange();if(""!==n){var r=this.style.styleNodes(n);if(this.$editor.find(".note-status-output").html(""),o()(r).css(e,t),n.isCollapsed()){var i=C.head(r);i&&!pe.nodeLength(i)&&(i.innerHTML=pe.ZERO_WIDTH_NBSP_CHAR,be.createFromNode(i.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",i))}else this.setLastRange(this.createRangeFromList(r).select())}else{var a=o.a.now();this.$editor.find(".note-status-output").html('<div id="note-status-output-'+a+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout(function(){o()("#note-status-output-"+a).remove()},5e3)}}},{key:"unlink",value:function(){var e=this.getLastRange();if(e.isOnAnchor()){var t=pe.ancestor(e.sc,pe.isAnchor);(e=be.createFromNode(t)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){var e=this.getLastRange().expand(pe.isAnchor),t=o()(C.head(e.nodes(pe.isAnchor))),n={range:e,text:e.toString(),url:t.length?t.attr("href"):""};return t.length&&(n.isNewWindow="_blank"===t.attr("target")),n}},{key:"addRow",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())}},{key:"addCol",value:function(e){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())}},{key:"deleteRow",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())}},{key:"deleteCol",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())}},{key:"deleteTable",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())}},{key:"resizeTo",value:function(e,t,n){var r;if(n){var o=e.y/e.x,i=t.data("ratio");r={width:i>o?e.x:e.y/i,height:i>o?e.x*i:e.y}}else r={width:e.x,height:e.y};t.css(r)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.focus()}},{key:"isEmpty",value:function(){return pe.isEmpty(this.$editable[0])||pe.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",pe.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),De=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editable=t.layoutInfo.editable}var t;return(t=[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(e){var t=this,n=e.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var r=n.items.length>1?n.items[1]:C.head(n.items);"file"===r.kind&&-1!==r.type.indexOf("image/")?(this.context.invoke("editor.insertImagesOrCallback",[r.getAsFile()]),e.preventDefault()):"string"===r.kind&&this.context.invoke("editor.isLimited",n.getData("Text").length)&&e.preventDefault()}else if(window.clipboardData){var o=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",o.length)&&e.preventDefault()}setTimeout(function(){t.context.invoke("editor.afterCommand")},10)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$eventListener=o()(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=o()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)}var t;return(t=[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var e=this,t=o()(),n=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(r){var o=e.context.invoke("codeview.isActivated"),i=e.$editor.width()>0&&e.$editor.height()>0;o||t.length||!i||(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),n.text(e.lang.image.dragImageHere)),t=t.add(r.target)},this.documentEventHandlers.onDragleave=function(n){(t=t.not(n.target)).length&&"BODY"!==n.target.nodeName||(t=o()(),e.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){t=o()(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){e.$dropzone.addClass("hover"),n.text(e.lang.image.dropImage)}).on("dragleave",function(){e.$dropzone.removeClass("hover"),n.text(e.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(e.$editable.focus(),e.context.invoke("editor.insertImagesOrCallback",n.files)):o.a.each(n.types,function(t,r){if(!(r.toLowerCase().indexOf("_moz_")>-1)){var i=n.getData(r);r.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",i):o()(i).each(function(t,n){e.context.invoke("editor.insertNode",n)})}})}).on("dragover",!1)}},{key:"destroy",value:function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}var t;return(t=[{key:"sync",value:function(e){var t=this.isActivated(),n=this.CodeMirrorConstructor;t&&(e?n?this.$codable.data("cmEditor").getDoc().setValue(e):this.$codable.val(e):n&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var e=this;this.$codable.on("keyup",function(t){t.keyCode===we.code.ESCAPE&&e.deactivate()})}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(e){if(this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var t=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(e){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(e))return"";var n,r=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(t);try{for(r.s();!(n=r.n()).done;)if(new RegExp('src="(https?:)?//'+n.value.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(e))return e}catch(e){r.e(e)}finally{r.f()}return""})}return e}},{key:"activate",value:function(){var e=this,t=this.CodeMirrorConstructor;if(this.$codable.val(pe.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),t){var n=t.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var r=new t.TernServer(this.options.codemirror.tern);n.ternServer=r,n.on("cursorActivity",function(e){r.updateArgHints(e)})}n.on("blur",function(t){e.context.triggerEvent("blur.codeview",n.getValue(),t)}),n.on("change",function(){e.context.triggerEvent("change.codeview",n.getValue(),n)}),n.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",n)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)}),this.$codable.on("input",function(){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)})}},{key:"deactivate",value:function(){if(this.CodeMirrorConstructor){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=this.purify(pe.value(this.$codable,this.options.prettifyHtml)||pe.emptyPara),n=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$document=o()(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}var t;return(t=[{key:"initialize",value:function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n=e.$editable.offset().top-e.$document.scrollTop(),r=function(t){var r=t.clientY-(n+24);r=e.options.minheight>0?Math.max(r,e.options.minheight):r,r=e.options.maxHeight>0?Math.min(r,e.options.maxHeight):r,e.$editable.height(r)};e.$document.on("mousemove",r).one("mouseup",function(){e.$document.off("mousemove",r)})})}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ie=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=o()(window),this.$scrollbar=o()("html, body"),this.onResize=function(){n.resizeTo({h:n.$window.height()-n.$toolbar.outerHeight()})}}var t;return(t=[{key:"resizeTo",value:function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Oe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$document=o()(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target,t)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}var t;return(t=[{key:"initialize",value:function(){var e=this;this.$handle=o()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(pe.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var n=e.$handle.find(".note-control-selection").data("target"),r=n.offset(),o=e.$document.scrollTop(),i=function(t){e.context.invoke("editor.resizeTo",{x:t.clientX-r.left,y:t.clientY-(r.top-o)},n,!t.shiftKey),e.update(n[0],t)};e.$document.on("mousemove",i).one("mouseup",function(t){t.preventDefault(),e.$document.off("mousemove",i),e.context.invoke("editor.afterCommand")}),n.data("ratio")||n.data("ratio",n.height()/n.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),e.update()})}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(e,t){if(this.context.isDisabled())return!1;var n=pe.isImg(e),r=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e,t),n){var i=o()(e),a=i.position(),s={left:a.left+parseInt(i.css("marginLeft"),10),top:a.top+parseInt(i.css("marginTop"),10)},l={w:i.outerWidth(!1),h:i.outerHeight(!1)};r.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",i);var u=new Image;u.src=i.attr("src");var c=l.w+"x"+l.h+" ("+this.lang.image.original+": "+u.width+"x"+u.height+")";r.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",e)}else this.hide();return n}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Be=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Fe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.options=t.options,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var t;return(t=[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),t=e.match(Be);if(t&&(t[1]||t[2])){var n=t[1]?e:"http://"+e,r=this.options.showDomainOnlyForAutolink?e.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:www\.)?/i,"").split("/")[0]:e,i=o()("<a />").html(r).attr("href",n)[0];this.context.options.linkTargetBlank&&o()(i).attr("target","_blank"),this.lastWordRange.insertNode(i),this.lastWordRange=null,this.context.invoke("editor.focus")}}}},{key:"handleKeydown",value:function(e){if(C.contains([we.code.ENTER,we.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}}},{key:"handleKeyup",value:function(e){C.contains([we.code.ENTER,we.code.SPACE],e.keyCode)&&this.replace()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Me=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){n.$note.val(t.invoke("code"))}}}var t;return(t=[{key:"shouldInitialize",value:function(){return pe.isTextarea(this.$note[0])}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),$e=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.options=t.options.replace||{},this.keys=[we.code.ENTER,we.code.SPACE,we.code.PERIOD,we.code.COMMA,we.code.SEMICOLON,we.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var e=this,t=this.lastWord.toString();this.options.match(t,function(t){if(t){var n="";if("string"==typeof t?n=pe.createText(t):t instanceof jQuery?n=t[0]:t instanceof Node&&(n=t),!n)return;e.lastWord.insertNode(n),e.lastWord=null,e.context.invoke("editor.focus")}})}}},{key:"handleKeydown",value:function(e){if(this.previousKeydownCode&&C.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=e.keyCode;else{if(C.contains(this.keys,e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWord=t}this.previousKeydownCode=e.keyCode}}},{key:"handleKeyup",value:function(e){C.contains(this.keys,e.keyCode)&&this.replace()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),je=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,!0===this.options.inheritPlaceholder&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var e=this;this.$placeholder=o()('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),He=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ui=o.a.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=v.invertObject(this.options.keyMap[g.isMac?"mac":"pc"])}var t;return(t=[{key:"representShortcut",value:function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(g.isMac&&(t=t.replace("CMD","â").replace("SHIFT","â§"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""}},{key:"button",value:function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(e){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,e)||(this.fontInstalledMap[e]=g.isFontInstalled(e)||C.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]}},{key:"isFontDeservedToAdd",value:function(e){return""!==(e=e.toLowerCase())&&this.isFontInstalled(e)&&-1===g.genericFontFamilies.indexOf(e)}},{key:"colorPalette",value:function(e,t,n,r){var i=this;return this.ui.buttonGroup({className:"note-color "+e,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(e){var t=o()(e.currentTarget);n&&r?i.context.invoke("editor.color",{backColor:t.attr("data-backColor"),foreColor:t.attr("data-foreColor")}):n?i.context.invoke("editor.color",{backColor:t.attr("data-backColor")}):r&&i.context.invoke("editor.color",{foreColor:t.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");n&&(t.css("background-color",i.options.colorButton.backColor),e.attr("data-backColor",i.options.colorButton.backColor)),r?(t.css("color",i.options.colorButton.foreColor),e.attr("data-foreColor",i.options.colorButton.foreColor)):t.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(n?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor">\x3c!-- back colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"</div>",'<div class="note-holder-custom" id="backColorPalette" data-event="backColor"></div>',"</div>"].join(""):"")+(r?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor">\x3c!-- fore colors --\x3e</div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">',"</div>",'<div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(e){e.find(".note-holder").each(function(e,t){var n=o()(t);n.append(i.ui.palette({colors:i.options.colors,colorsName:i.options.colorsName,eventName:n.data("event"),container:i.options.container,tooltip:i.options.tooltip}).render())});var t=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];e.find(".note-holder-custom").each(function(e,n){var r=o()(n);r.append(i.ui.palette({colors:t,colorsName:t,eventName:r.data("event"),container:i.options.container,tooltip:i.options.tooltip}).render())}),e.find("input[type=color]").each(function(t,n){o()(n).change(function(){var t=e.find("#"+o()(this).data("event")).find(".note-color-btn").first(),n=this.value.toUpperCase();t.css("background-color",n).attr("aria-label",n).attr("data-value",n).attr("data-original-title",n),t.click()})})},click:function(t){t.stopPropagation();var n=o()("."+e).find(".note-dropdown-menu"),r=o()(t.target),a=r.data("event"),s=r.attr("data-value");if("openPalette"===a){var l=n.find("#"+s),u=o()(n.find("#"+l.data("event")).find(".note-color-row")[0]),c=u.find(".note-color-btn").last().detach(),d=l.val();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),u.prepend(c),l.click()}else{if(C.contains(["backColor","foreColor"],a)){var f="backColor"===a?"background-color":"color",h=r.closest(".note-color").find(".note-recent-color"),p=r.closest(".note-color").find(".note-current-color-button");h.css(f,s),p.attr("data-"+a,s)}i.context.invoke("editor."+a,s)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var e=this;this.context.memo("button.style",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:Object.prototype.hasOwnProperty.call(e.lang.style,t)?e.lang.style[t]:t});var n=t.tag;return"<"+n+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+t.title+"</"+n+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t,n){var r=e.options.styleTags[t];e.context.memo("button.style."+r,function(){return e.button({className:"note-btn-style-"+r,contents:'<div data-value="'+r+'">'+r.toUpperCase()+"</div>",tooltip:e.lang.style[r],click:e.context.createInvokeHandler("editor.formatBlock")}).render()})},n=0,r=this.options.styleTags.length;n<r;n++)t(n);this.context.memo("button.bold",function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=e.context.invoke("editor.currentStyle");return e.options.addDefaultFonts&&o.a.each(t["font-family"].split(","),function(t,n){n=n.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(n)&&-1===e.options.fontNames.indexOf(n)&&e.options.fontNames.push(n)}),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(e){return'<span style="font-family: '+g.validFontName(e)+'">'+e+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.fontsizeunit",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',e.options),tooltip:e.lang.font.sizeunit,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizeUnits,title:e.lang.font.sizeunit,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()}),this.context.memo("button.color",function(){return e.colorPalette("note-color-all",e.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return e.colorPalette("note-color-fore",e.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return e.colorPalette("note-color-back",e.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()});var i=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),u=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",v.invoke(i,"render")),this.context.memo("button.justifyCenter",v.invoke(a,"render")),this.context.memo("button.justifyRight",v.invoke(s,"render")),this.context.memo("button.justifyFull",v.invoke(l,"render")),this.context.memo("button.outdent",v.invoke(u,"render")),this.context.memo("button.indent",v.invoke(c,"render")),this.context.memo("button.paragraph",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[i,a,s,l]}),e.ui.buttonGroup({className:"note-list",children:[u,c]})])]).render()}),this.context.memo("button.height",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()}),this.context.memo("button.link",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return e.button({className:"btn-fullscreen note-codeview-keep",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return e.button({className:"btn-codeview note-codeview-keep",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()})}},{key:"addImagePopoverButtons",value:function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})}},{key:"addLinkPopoverButtons",value:function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})}},{key:"addTablePopoverButtons",value:function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})}},{key:"build",value:function(e,t){for(var n=0,r=t.length;n<r;n++){for(var o=t[n],i=Array.isArray(o)?o[0]:o,a=Array.isArray(o)?1===o.length?[o[0]]:o[1]:[o],s=this.ui.buttonGroup({className:"note-"+i}).render(),l=0,u=a.length;l<u;l++){var c=this.context.memo("button."+a[l]);c&&s.append("function"==typeof c?c(this.context):c)}s.appendTo(e)}}},{key:"updateCurrentStyle",value:function(e){var t=this,n=e||this.$toolbar,r=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(n,{".note-btn-bold":function(){return"bold"===r["font-bold"]},".note-btn-italic":function(){return"italic"===r["font-italic"]},".note-btn-underline":function(){return"underline"===r["font-underline"]},".note-btn-subscript":function(){return"subscript"===r["font-subscript"]},".note-btn-superscript":function(){return"superscript"===r["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===r["font-strikethrough"]}}),r["font-family"]){var i=r["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),a=C.find(i,this.isFontInstalled.bind(this));n.find(".dropdown-fontname a").each(function(e,t){var n=o()(t),r=n.data("value")+""==a+"";n.toggleClass("checked",r)}),n.find(".note-current-fontname").text(a).css("font-family",a)}if(r["font-size"]){var s=r["font-size"];n.find(".dropdown-fontsize a").each(function(e,t){var n=o()(t),r=n.data("value")+""==s+"";n.toggleClass("checked",r)}),n.find(".note-current-fontsize").text(s);var l=r["font-size-unit"];n.find(".dropdown-fontsizeunit a").each(function(e,t){var n=o()(t),r=n.data("value")+""==l+"";n.toggleClass("checked",r)}),n.find(".note-current-fontsizeunit").text(l)}if(r["line-height"]){var u=r["line-height"];n.find(".dropdown-line-height li a").each(function(e,n){var r=o()(n).data("value")+""==u+"";t.className=r?"checked":""})}}},{key:"updateBtnStates",value:function(e,t){var n=this;o.a.each(t,function(t,r){n.ui.toggleBtnActive(e.find(t),r())})}},{key:"tableMoveHandler",value:function(e){var t,n=o()(e.target.parentNode),r=n.next(),i=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),s=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var l=o()(e.target).offset();t={x:e.pageX-l.left,y:e.pageY-l.top}}else t={x:e.offsetX,y:e.offsetY};var u=Math.ceil(t.x/18)||1,c=Math.ceil(t.y/18)||1;a.css({width:u+"em",height:c+"em"}),i.data("value",u+"x"+c),u>3&&u<this.options.insertTableMaxSize.col&&s.css({width:u+1+"em"}),c>3&&c<this.options.insertTableMaxSize.row&&s.css({height:c+1+"em"}),r.html(u+" x "+c)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.$window=o()(window),this.$document=o()(document),this.ui=o.a.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$statusbar=t.layoutInfo.statusbar,this.options=t.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var t;return(t=[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),t=this.$editor.width(),n=this.$toolbar.height(),r=this.$statusbar.height(),i=0;this.options.otherStaticBar&&(i=o()(this.options.otherStaticBar).outerHeight());var a=this.$document.scrollTop(),s=this.$editor.offset().top,l=s-i,u=s+e-i-n-r;!this.isFollowing&&a>l&&a<u-n?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:i,width:t,zIndex:1e3})):this.isFollowing&&(a<l||a>u)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()}},{key:"activate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!0)}},{key:"deactivate",value:function(e){var t=this.$toolbar.find("button");e||(t=t.not(".note-codeview-keep")),this.ui.toggleBtn(t,!1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.$body=o()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var t;return(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":o()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html(),o()("<div/>").append(this.ui.checkbox({className:"sn-checkbox-use-protocol",text:this.lang.link.useProtocol,checked:!0}).render()).html()].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-link-btn",'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",function(e){e.keyCode===we.code.ENTER&&(e.preventDefault(),t.trigger("click"))})}},{key:"toggleLinkBtn",value:function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())}},{key:"showLinkDialog",value:function(e){var t=this;return o.a.Deferred(function(n){var r=t.$dialog.find(".note-link-text"),o=t.$dialog.find(".note-link-url"),i=t.$dialog.find(".note-link-btn"),a=t.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"),s=t.$dialog.find(".sn-checkbox-use-protocol input[type=checkbox]");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),!e.url&&v.isValidUrl(e.text)&&(e.url=e.text),r.on("input paste propertychange",function(){e.text=r.val(),t.toggleLinkBtn(i,r,o)}).val(e.text),o.on("input paste propertychange",function(){e.text||r.val(o.val()),t.toggleLinkBtn(i,r,o)}).val(e.url),g.isSupportTouch||o.trigger("focus"),t.toggleLinkBtn(i,r,o),t.bindEnterKey(o,i),t.bindEnterKey(r,i),a.prop("checked",void 0!==e.isNewWindow?e.isNewWindow:t.context.options.linkTargetBlank),s.prop("checked",!e.url&&t.context.options.useProtocol),i.one("click",function(i){i.preventDefault(),n.resolve({range:e.range,url:o.val(),text:r.val(),isNewWindow:a.is(":checked"),checkProtocol:s.is(":checked")}),t.ui.hideDialog(t.$dialog)})}),t.ui.onDialogHidden(t.$dialog,function(){r.off(),o.off(),i.off(),"pending"===n.state()&&n.reject()}),t.ui.showDialog(t.$dialog)}).promise()}},{key:"show",value:function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),qe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){if(this.context.invoke("editor.hasFocus")){var e=this.context.invoke("editor.getLastRange");if(e.isCollapsed()&&e.isOnAnchor()){var t=pe.ancestor(e.sc,pe.isAnchor),n=o()(t).attr("href");this.$popover.find("a").attr("href",n).text(n);var r=pe.posFromPlaceholder(t),i=o()(this.options.container).offset();r.top-=i.top,r.left-=i.left,this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),We=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.$body=o()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var t;return(t=[{key:"initialize",value:function(){var e="";if(this.options.maximumImageFileSize){var t=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP"[t]+"B";e="<small>".concat(this.lang.image.maximumFileSize+" : "+n,"</small>")}var r=this.options.dialogsInBody?this.$body:this.options.container,o=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple"/>',e,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),i='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-image-btn",'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:o,footer:i}).render().appendTo(r)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",function(e){e.keyCode===we.code.ENTER&&(e.preventDefault(),t.trigger("click"))})}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})}},{key:"showImageDialog",value:function(){var e=this;return o.a.Deferred(function(t){var n=e.$dialog.find(".note-image-input"),r=e.$dialog.find(".note-image-url"),o=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",function(e){t.resolve(e.target.files||e.target.value)}).val("")),r.on("input paste propertychange",function(){e.ui.toggleBtn(o,r.val())}).val(""),g.isSupportTouch||r.trigger("focus"),o.click(function(e){e.preventDefault(),t.resolve(r.val())}),e.bindEnterKey(r,o)}),e.ui.onDialogHidden(e.$dialog,function(){n.off(),r.off(),o.off(),"pending"===t.state()&&t.reject()}),e.ui.showDialog(e.$dialog)})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ve=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e,t){if(pe.isImg(e)){var n=o()(e).offset(),r=o()(this.options.container).offset(),i={};this.options.popatmouse?(i.left=t.pageX-20,i.top=t.pageY):i=n,i.top-=r.top,i.left-=r.left,this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ge=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return!C.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),g.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){if(this.context.isDisabled())return!1;var t=pe.isCell(e);if(t){var n=pe.posFromPlaceholder(e),r=o()(this.options.container).offset();n.top-=r.top,n.left-=r.left,this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return t}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Xe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.$body=o()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var t;return(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),n='<input type="button" href="#" class="'.concat("btn btn-primary note-btn note-btn-primary note-video-btn",'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,t){e.on("keypress",function(e){e.keyCode===we.code.ENTER&&(e.preventDefault(),t.trigger("click"))})}},{key:"createVideoNode",value:function(e){var t,n=e.match(/\/\/(?:(?:www|m)\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),r=e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),s=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),u=e.match(/\/\/v\.qq\.com.*?vid=(.+)/),c=e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=e.match(/^.+.(mp4|m4v)$/),f=e.match(/^.+.(ogg|ogv)$/),h=e.match(/^.+.(webm)$/),p=e.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(n&&11===n[1].length){var g=n[1],m=0;if(void 0!==n[2]){var v=n[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(v)for(var y=[3600,60,1],b=0,x=y.length;b<x;b++)m+=void 0!==v[b+1]?y[b]*parseInt(v[b+1],10):0}t=o()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+g+(m>0?"?start="+m:"")).attr("width","640").attr("height","360")}else if(r&&r[0].length)t=o()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+r[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)t=o()("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)t=o()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(s&&s[2].length)t=o()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+s[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)t=o()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(u&&u[1].length||c&&c[2].length){var w=u&&u[1].length?u[1]:c[2];t=o()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+w+"&amp;auto=0")}else if(d||f||h)t=o()("<video controls>").attr("src",e).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;t=o()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return t.addClass("note-video-clip"),t[0]}},{key:"show",value:function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var n=e.createVideoNode(t);n&&e.context.invoke("editor.insertNode",n)}).fail(function(){e.context.invoke("editor.restoreRange")})}},{key:"showVideoDialog",value:function(){var e=this;return o.a.Deferred(function(t){var n=e.$dialog.find(".note-video-url"),r=e.$dialog.find(".note-video-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),n.on("input paste propertychange",function(){e.ui.toggleBtn(r,n.val())}),g.isSupportTouch||n.trigger("focus"),r.click(function(e){e.preventDefault(),t.resolve(n.val())}),e.bindEnterKey(n,r)}),e.ui.onDialogHidden(e.$dialog,function(){n.off(),r.off(),"pending"===t.state()&&t.reject()}),e.ui.showDialog(e.$dialog)})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.$body=o()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var t;return(t=[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.18</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var e=this,t=this.options.keyMap[g.isMac?"mac":"pc"];return Object.keys(t).map(function(n){var r=t[n],i=o()('<div><div class="help-list-item"></div></div>');return i.append(o()("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(o()("<span/>").html(e.context.memo("help."+r)||r)),i.html()}).join("")}},{key:"showHelpDialog",value:function(){var e=this;return o.a.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Ke=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.options=t.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(e){n.options.editing&&(e.preventDefault(),e.stopPropagation(),n.onContextmenu=!0,n.update(!0))},"summernote.mousedown":function(e,t){n.pageX=t.pageX,n.pageY=t.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(e,t){n.options.editing&&!n.onContextmenu&&(n.pageX=t.pageX,n.pageY=t.pageY,n.update()),n.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){n.hide()},"summernote.focusout":function(){n.$popover.is(":active,:focus")||n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return this.options.airMode&&!C.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var e=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air),this.$popover.on("mousedown",function(){e.hidable=!1}),this.$popover.on("mouseup",function(){e.hidable=!0})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){var t=this.context.invoke("editor.currentStyle");if(!t.range||t.range.isCollapsed()&&!e)this.hide();else{var n={left:this.pageX,top:this.pageY},r=o()(this.options.container).offset();n.top-=r.top,n.left-=r.left,this.$popover.css({display:"block",left:Math.max(n.left,0)+-5,top:n.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),e),e&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Je=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.ui=o.a.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown summernote.blur":function(){n.hide()}}}var t;return(t=[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var e=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(t){e.$content.find(".active").removeClass("active"),o()(t.currentTarget).addClass("active"),e.replace()}),this.$popover.on("mousedown",function(e){e.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}}},{key:"replace",value:function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);if(null!==this.matchingWord&&0===this.matchingWord.length)this.lastWordRange.so=this.lastWordRange.eo;else if(null!==this.matchingWord&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var n=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;n>0&&(this.lastWordRange.so+=n)}if(this.lastWordRange.insertNode(t),"next"===this.options.hintSelect){var r=document.createTextNode("");o()(t).after(r),be.createFromNodeBefore(r).select()}else be.createFromNodeAfter(t).select();this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus")}}},{key:"nodeFromItem",value:function(e){var t=this.hints[e.data("index")],n=e.data("item"),r=t.content?t.content(n):n;return"string"==typeof r&&(r=pe.createText(r)),r}},{key:"createItemTemplates",value:function(e,t){var n=this.hints[e];return t.map(function(t){var r=o()('<div class="note-hint-item"/>');return r.append(n.template?n.template(t):t+""),r.data({index:e,item:t}),r})}},{key:"handleKeydown",value:function(e){this.$popover.is(":visible")&&(e.keyCode===we.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===we.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===we.code.DOWN&&(e.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(e,t,n){var r=this.hints[e];if(r&&r.match.test(t)&&r.search){var o=r.match.exec(t);this.matchingWord=o[0],r.search(o[1],n)}else n()}},{key:"createGroup",value:function(e,t){var n=this,r=o()('<div class="note-hint-group note-hint-group-'+e+'"></div>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(r.html(n.createItemTemplates(e,t)),n.show())}),r}},{key:"handleKeyup",value:function(e){var t=this;if(!C.contains([we.code.ENTER,we.code.UP,we.code.DOWN],e.keyCode)){var n,r,i=this.context.invoke("editor.getLastRange");if("words"===this.options.hintMode){if(n=i.getWordsRange(i),r=n.toString(),this.hints.forEach(function(e){if(e.match.test(r))return n=i.getWordsMatchRange(e.match),!1}),!n)return void this.hide();r=n.toString()}else n=i.getWordRange(),r=n.toString();if(this.hints.length&&r){this.$content.empty();var a=v.rect2bnd(C.last(n.getClientRects())),s=o()(this.options.container).offset();a&&(a.top-=s.top,a.left-=s.left,this.$popover.hide(),this.lastWordRange=n,this.hints.forEach(function(e,n){e.match.test(r)&&t.createGroup(n,r).appendTo(t.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),this.$popover.css("top"===this.direction?{left:a.left,top:a.top-this.$popover.outerHeight()-5}:{left:a.left,top:a.top+a.height+5}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();o.a.summernote=o.a.extend(o.a.summernote,{version:"0.8.18",plugins:{},dom:pe,range:be,lists:C,options:{langInfo:o.a.summernote.lang["en-US"],editing:!0,modules:{editor:Ae,clipboard:De,dropzone:Ne,codeview:Le,statusbar:Pe,fullscreen:Ie,handle:Oe,hintPopover:Je,autoLink:Fe,autoSync:Me,autoReplace:$e,placeholder:je,buttons:He,toolbar:ze,linkDialog:Ue,linkPopover:qe,imageDialog:We,imagePopover:Ve,tablePopover:Ge,videoDialog:Xe,helpDialog:Ye,airPopover:Ke},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,useProtocol:!0,defaultProtocol:"http://",focus:!1,tabDisabled:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})},51:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$node=t,this.options=o.a.extend({},{title:"",target:n.container,trigger:"hover focus",placement:"bottom"},n),this.$tooltip=o()(['<div class="note-tooltip">','<div class="note-tooltip-arrow"></div>','<div class="note-tooltip-content"></div>',"</div>"].join("")),"manual"!==this.options.trigger){var r=this.show.bind(this),i=this.hide.bind(this),a=this.toggle.bind(this);this.options.trigger.split(" ").forEach(function(e){"hover"===e?(t.off("mouseenter mouseleave"),t.on("mouseenter",r).on("mouseleave",i)):"click"===e?t.on("click",a):"focus"===e&&t.on("focus",r).on("blur",i)})}}var t;return(t=[{key:"show",value:function(){var e=this.$node,t=e.offset(),n=o()(this.options.target).offset();t.top-=n.top,t.left-=n.left;var r=this.$tooltip,i=this.options.title||e.attr("title")||e.data("title"),a=this.options.placement||e.data("placement");r.addClass(a),r.find(".note-tooltip-content").text(i),r.appendTo(this.options.target);var s=e.outerWidth(),l=e.outerHeight(),u=r.outerWidth(),c=r.outerHeight();"bottom"===a?r.css({top:t.top+l,left:t.left+(s/2-u/2)}):"top"===a?r.css({top:t.top-c,left:t.left+(s/2-u/2)}):"left"===a?r.css({top:t.top+(l/2-c/2),left:t.left-u}):"right"===a&&r.css({top:t.top+(l/2-c/2),left:t.left+s}),r.addClass("in")}},{key:"hide",value:function(){var e=this;this.$tooltip.removeClass("in"),setTimeout(function(){e.$tooltip.remove()},200)}},{key:"toggle",value:function(){this.$tooltip.hasClass("in")?this.hide():this.show()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$button=t,this.options=o.a.extend({},{target:n.container},n),this.setEvent()}var t;return(t=[{key:"setEvent",value:function(){var e=this;this.$button.on("click",function(t){e.toggle(),t.stopImmediatePropagation()})}},{key:"clear",value:function(){var e=o()(".note-btn-group.open");e.find(".note-btn.active").removeClass("active"),e.removeClass("open")}},{key:"show",value:function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var e=this.$button.next(),t=e.offset(),n=e.outerWidth(),r=o()(window).width(),i=parseFloat(o()(this.options.target).css("margin-right"));e.css("margin-left",t.left+n>r-i?r-i-(t.left+n):"")}},{key:"hide",value:function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")}},{key:"toggle",value:function(){var e=this.$button.parent().hasClass("open");this.clear(),e?this.hide():this.show()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();o()(document).on("click",function(e){o()(e.target).closest(".note-btn-group").length||(o()(".note-btn-group.open").removeClass("open"),o()(".note-btn-group .note-btn.active").removeClass("active"))}),o()(document).on("click.note-dropdown-menu",function(e){o()(e.target).closest(".note-dropdown-menu").parent().removeClass("open"),o()(e.target).closest(".note-dropdown-menu").parent().find(".note-btn.active").removeClass("active")});var l=s,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$modal=t,this.$backdrop=o()('<div class="note-modal-backdrop"/>')}var t;return(t=[{key:"show",value:function(){var e=this;this.$backdrop.appendTo(document.body).show(),this.$modal.addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this)),this.$modal.on("keydown",function(t){27===t.which&&(t.preventDefault(),e.hide())})}},{key:"hide",value:function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide"),this.$modal.off("keydown")}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),c=i.a.create('<div class="note-editor note-frame"/>'),d=i.a.create('<div class="note-toolbar" role="toolbar"/>'),f=i.a.create('<div class="note-editing-area"/>'),h=i.a.create('<textarea class="note-codable" aria-multiline="true"/>'),p=i.a.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),g=i.a.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),m=i.a.create('<div class="note-editor note-airframe"/>'),v=i.a.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),y=i.a.create('<div class="note-btn-group">'),b=i.a.create('<button type="button" class="note-btn" tabindex="-1">',function(e,t){t&&t.tooltip&&(e.attr({"aria-label":t.tooltip}),e.data("_lite_tooltip",new a(e,{title:t.tooltip,container:t.container})).on("click",function(e){o()(e.currentTarget).data("_lite_tooltip").hide()})),t.contents&&e.html(t.contents),t&&t.data&&"dropdown"===t.data.toggle&&e.data("_lite_dropdown",new l(e,{container:t.container})),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")}),x=i.a.create('<div class="note-dropdown-menu" role="list">',function(e,t){var n=Array.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",r=t.template?t.template(e):e,i=o()('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+n+'"></a>');return i.html(r).data("item",e),i}):t.items;e.html(n).attr({"aria-label":t.title}),e.on("click","> .note-dropdown-item",function(e){var n=o()(this),r=n.data("item"),i=n.data("value");r.click?r.click(n):t.itemClick&&t.itemClick(e,r,i)}),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")}),w=i.a.create('<div class="note-dropdown-menu note-check" role="list">',function(e,t){var n=Array.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",r=t.template?t.template(e):e,i=o()('<a class="note-dropdown-item" href="#" data-value="'+n+'" role="listitem" aria-label="'+e+'"></a>');return i.html([O(t.checkClassName)," ",r]).data("item",e),i}):t.items;e.html(n).attr({"aria-label":t.title}),e.on("click","> .note-dropdown-item",function(e){var n=o()(this),r=n.data("item"),i=n.data("value");r.click?r.click(n):t.itemClick&&t.itemClick(e,r,i)}),t&&t.codeviewKeepButton&&e.addClass("note-codeview-keep")}),C=function(e,t){return e+" "+O(t.icons.caret,"span")},k=function(e,t){return y([b({className:"dropdown-toggle",contents:e.title+" "+O("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),x({className:e.className,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},S=function(e,t){return y([b({className:"dropdown-toggle",contents:e.title+" "+O("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),w({className:e.className,checkClassName:e.checkClassName,items:e.items,template:e.template,itemClick:e.itemClick})],{callback:t}).render()},_=function(e){return y([b({className:"dropdown-toggle",contents:e.title+" "+O("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),x([y({className:"note-align",children:e.items[0]}),y({className:"note-list",children:e.items[1]})])]).render()},T=function(e){return y([b({className:"dropdown-toggle",contents:e.title+" "+O("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),x({className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.col+"em",height:e.row+"em"}).mousedown(e.itemClick).mousemove(function(t){!function(e,t,n){var r,i=o()(e.target.parentNode),a=i.next(),s=i.find(".note-dimension-picker-mousecatcher"),l=i.find(".note-dimension-picker-highlighted"),u=i.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var c=o()(e.target).offset();r={x:e.pageX-c.left,y:e.pageY-c.top}}else r={x:e.offsetX,y:e.offsetY};var d=Math.ceil(r.x/18)||1,f=Math.ceil(r.y/18)||1;l.css({width:d+"em",height:f+"em"}),s.data("value",d+"x"+f),d>3&&d<t&&u.css({width:d+1+"em"}),f>3&&f<n&&u.css({height:f+1+"em"}),a.html(d+" x "+f)}(t,e.col,e.row)})}}).render()},E=i.a.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],r=0,i=t.colors.length;r<i;r++){for(var s=t.eventName,l=t.colors[r],u=t.colorsName[r],c=[],d=0,f=l.length;d<f;d++){var h=l[d],p=u[d];c.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',h,'" ','data-event="',s,'" ','data-value="',h,'" ','data-title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+c.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").each(function(){o()(this).data("_lite_tooltip",new a(o()(this),{container:t.container}))})}),A=function(e,t){return y({className:"note-color",children:[b({className:"note-current-color-button",contents:e.title,tooltip:e.lang.color.recent,click:e.currentClick,callback:function(e){var n=e.find(".note-recent-color");"foreColor"!==t&&(n.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00"))}}),b({className:"dropdown-toggle",contents:O("note-icon-caret"),tooltip:e.lang.color.more,data:{toggle:"dropdown"}}),x({items:["<div>",'<div class="note-btn-group btn-background-color">','<div class="note-palette-title">'+e.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="backColor" data-value="transparent">',e.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor"></div>','<div class="btn-sm">','<input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',e.lang.color.cpSelect,"</button>","</div>","</div>",'<div class="note-btn-group btn-foreground-color">','<div class="note-palette-title">'+e.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="removeFormat" data-value="foreColor">',e.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor"></div>','<div class="btn-sm">','<input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',e.lang.color.cpSelect,"</button>","</div>","</div>","</div>"].join(""),callback:function(n){n.find(".note-holder").each(function(){var t=o()(this);t.append(E({colors:e.colors,eventName:t.data("event")}).render())}),"fore"===t?(n.find(".btn-background-color").hide(),n.css({"min-width":"210px"})):"back"===t&&(n.find(".btn-foreground-color").hide(),n.css({"min-width":"210px"}))},click:function(n){var r=o()(n.target),i=r.data("event"),a=r.data("value"),s=document.getElementById("html5fcp").value,l=document.getElementById("html5bcp").value;if("cp"===a?n.stopPropagation():"cpbackColor"===a?a=l:"cpforeColor"===a&&(a=s),i&&a){var u="backColor"===i?"background-color":"color",c=r.closest(".note-color").find(".note-recent-color"),d=r.closest(".note-color").find(".note-current-color-button");c.css(u,a),d.attr("data-"+i,a),e.itemClick("fore"===t?"foreColor":"back"===t?"backColor":i,a)}}})]}).render()},D=i.a.create('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="note-modal-content">',t.title?'<div class="note-modal-header"><button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button><h4 class="note-modal-title">'+t.title+"</h4></div>":"",'<div class="note-modal-body">'+t.body+"</div>",t.footer?'<div class="note-modal-footer">'+t.footer+"</div>":"","</div>"].join("")),e.data("modal",new u(e,t))}),N=function(e){var t='<div class="note-form-group"><label for="note-dialog-video-url-'+e.id+'" class="note-form-label">'+e.lang.video.url+' <small class="text-muted">'+e.lang.video.providers+'</small></label><input id="note-dialog-video-url-'+e.id+'" class="note-video-url note-input" type="text"/></div>',n=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',e.lang.video.insert,"</button>"].join("");return D({title:e.lang.video.insert,fade:e.fade,body:t,footer:n}).render()},R=function(e){var t='<div class="note-form-group note-group-select-from-files"><label for="note-dialog-image-file-'+e.id+'" class="note-form-label">'+e.lang.image.selectFromFiles+'</label><input id="note-dialog-image-file-'+e.id+'" class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple"/>'+e.imageLimitation+'</div><div class="note-form-group"><label for="note-dialog-image-url-'+e.id+'" class="note-form-label">'+e.lang.image.url+'</label><input id="note-dialog-image-url-'+e.id+'" class="note-image-url note-input" type="text"/></div>',n=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',e.lang.image.insert,"</button>"].join("");return D({title:e.lang.image.insert,fade:e.fade,body:t,footer:n}).render()},L=function(e){var t='<div class="note-form-group"><label for="note-dialog-link-txt-'+e.id+'" class="note-form-label">'+e.lang.link.textToDisplay+'</label><input id="note-dialog-link-txt-'+e.id+'" class="note-link-text note-input" type="text"/></div><div class="note-form-group"><label for="note-dialog-link-url-'+e.id+'" class="note-form-label">'+e.lang.link.url+'</label><input id="note-dialog-link-url-'+e.id+'" class="note-link-url note-input" type="text" value="http://"/></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label for="note-dialog-link-nw-'+e.id+'"><input id="note-dialog-link-nw-'+e.id+'" type="checkbox" checked> '+e.lang.link.openInNewWindow+"</label></div>")+'<div class="checkbox"><label for="note-dialog-link-up-'+e.id+'"><input id="note-dialog-link-up-'+e.id+'" type="checkbox" checked> '+e.lang.link.useProtocol+"</label></div>",n=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',e.lang.link.insert,"</button>"].join("");return D({className:"link-dialog",title:e.lang.link.insert,fade:e.fade,body:t,footer:n}).render()},P=i.a.create(['<div class="note-popover bottom">','<div class="note-popover-arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),function(e,t){e.addClass(void 0!==t.direction?t.direction:"bottom").hide(),t.hideArrow&&e.find(".note-popover-arrow").hide()}),I=i.a.create('<div class="checkbox"></div>',function(e,t){e.html(["<label"+(t.id?' for="note-'+t.id+'"':"")+">",'<input role="checkbox" type="checkbox"'+(t.id?' id="note-'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text?t.text:"","</label>"].join(""))}),O=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'};n(3),n(6),o.a.summernote=o.a.extend(o.a.summernote,{ui_template:function(e){return{editor:c,toolbar:d,editingArea:f,codable:h,editable:p,statusbar:g,airEditor:m,airEditable:v,buttonGroup:y,button:b,dropdown:x,dropdownCheck:w,dropdownButton:k,dropdownButtonContents:C,dropdownCheckButton:S,paragraphDropdownButton:_,tableDropdownButton:T,colorDropdownButton:A,palette:E,dialog:D,videoDialog:N,imageDialog:R,linkDialog:L,popover:P,checkbox:I,icon:O,options:e,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},check:function(e,t){e.find(".checked").removeClass("checked"),e.find('[data-value="'+t+'"]').addClass("checked")},onDialogShown:function(e,t){e.one("note.modal.show",t)},onDialogHidden:function(e,t){e.one("note.modal.hide",t)},showDialog:function(e){e.data("modal").show()},hideDialog:function(e){e.data("modal").hide()},getPopoverContent:function(e){return e.find(".note-popover-content")},getDialogBody:function(e){return e.find(".note-modal-body")},createLayout:function(t){var n=(e.airMode?m([f([h(),v()])]):c("bottom"===e.toolbarPosition?[f([h(),p()]),d(),g()]:[d(),f([h(),p()]),g()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.off("summernote"),e.show()}}},interface:"lite"})},6:function(e,t,n){}})}),function(){"use strict";var e=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},t=function(e){return{eq:e}},n=t(function(e,t){return e===t}),r=function(e){return t(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},o=function(e,n){return o=r(e),i=function(e){return t=n,Array.prototype.slice.call(e).sort(t);var t},t(function(e,t){return o.eq(i(e),i(t))});var o,i},i=function(e){return t(function(t,r){var i=Object.keys(t),a=Object.keys(r);if(!o(n).eq(i,a))return!1;for(var s=i.length,l=0;l<s;l++){var u=i[l];if(!e.eq(t[u],r[u]))return!1}return!0})},a=t(function(t,n){if(t===n)return!0;var o=e(t);return o===e(n)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(o)?t===n:"array"===o?r(a).eq(t,n):"object"===o&&i(a).eq(t,n))}),s=function(){},l=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},u=function(e){return function(){return e}},c=function(e){return e};function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var f,h,p,g=function(e){return function(t){return!e(t)}},m=function(e){return function(){throw new Error(e)}},v=function(e){e()},y=u(!1),b=u(!0),x=function(){return w},w=(f=function(e){return e.isNone()},{fold:function(e,t){return e()},is:y,isSome:y,isNone:b,getOr:p=function(e){return e},getOrThunk:h=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:p,orThunk:h,map:x,each:s,bind:x,exists:y,forall:b,filter:x,equals:f,equals_:f,toArray:function(){return[]},toString:u("none()")}),C=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:b,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:w},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(y,function(t){return n(e,t)})}};return o},k={some:C,none:x,from:function(e){return null==e?w:C(e)}},S=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},_=function(e){return function(t){return typeof t===e}},T=function(e){return function(t){return e===t}},E=S("string"),A=S("object"),D=S("array"),N=T(null),R=_("boolean"),L=T(void 0),P=function(e){return null==e},I=function(e){return!P(e)},O=_("function"),B=_("number"),F=Array.prototype.slice,M=Array.prototype.indexOf,$=Array.prototype.push,j=function(e,t){return M.call(e,t)},H=function(e,t){return-1<j(e,t)},z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},U=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=t(e[o],o);return r},q=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},W=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)},V=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},G=function(e,t,n){return W(e,function(e){n=t(n,e)}),n},X=function(e,t,n){return q(e,function(e){n=t(n,e)}),n},Y=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return k.some(i);if(n(i,r))break}return k.none()}(e,t,y)},K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return k.some(n);return k.none()},J=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!D(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);$.apply(t,e[n])}return t}(U(e,t))},Z=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},Q=function(e){var t=F.call(e,0);return t.reverse(),t},ee=function(e,t){return V(e,function(e){return!H(t,e)})},te=function(e,t){return 0<=t&&t<e.length?k.some(e[t]):k.none()},ne=function(e){return te(e,0)},re=function(e){return te(e,e.length-1)},oe=O(Array.from)?Array.from:function(e){return F.call(e)},ie=Object.keys,ae=Object.hasOwnProperty,se=function(e,t){for(var n=ie(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},le=function(e,t){return ue(e,function(e,n){return{k:n,v:t(e,n)}})},ue=function(e,t){var n={};return se(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},ce=function(e){return function(t,n){e[n]=t}},de=function(e,t,n,r){return se(e,function(e,o){(t(e,o)?n:r)(e,o)}),{}},fe=function(e,t){var n={},r={};return de(e,t,ce(n),ce(r)),{t:n,f:r}},he=function(e,t){var n={};return de(e,t,ce(n),s),n},pe=function(e,t){return ge(e,t)?k.from(e[t]):k.none()},ge=function(e,t){return ae.call(e,t)},me=function(e,t){return ge(e,t)&&null!=e[t]},ve=Array.isArray,ye=function(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return!1;return!0},be=function(e,t){var n=[];return ye(e,function(r,o){n.push(t(r,o,e))}),n},xe=function(e,t){var n=[];return ye(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},we=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Ce=function(e,t,n,r){for(var o=L(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o},ke=function(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Se=function(e){return e[e.length-1]},_e=function(){return(_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Te(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var Ee,Ae,De,Ne,Re,Le=function(){return Pe(0,0)},Pe=function(e,t){return{major:e,minor:t}},Ie=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Le():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Pe(r(1),r(2))}(e,n)},Oe=Le,Be=function(e,t){var n=String(t).toLowerCase();return Y(e,function(e){return e.search(n)})},Fe=function(e,t){return-1!==e.indexOf(t)},Me=function(e,t){return n=e,""===(r=t)||n.length>=r.length&&n.substr(0,0+r.length)===r;var n,r},$e=function(e){return function(t){return t.replace(e,"")}},je=$e(/^\s+|\s+$/g),He=$e(/^\s+/g),ze=$e(/\s+$/g),Ue=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,qe=function(e){return function(t){return Fe(t,e)}},We=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Fe(e,"edge/")&&Fe(e,"chrome")&&Fe(e,"safari")&&Fe(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ue],search:function(e){return Fe(e,"chrome")&&!Fe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Fe(e,"msie")||Fe(e,"trident")}},{name:"Opera",versionRegexes:[Ue,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:qe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:qe("firefox")},{name:"Safari",versionRegexes:[Ue,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Fe(e,"safari")||Fe(e,"mobile/"))&&Fe(e,"applewebkit")}}],Ve=[{name:"Windows",search:qe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Fe(e,"iphone")||Fe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:qe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:qe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:qe("linux"),versionRegexes:[]},{name:"Solaris",search:qe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:qe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:qe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ge={browsers:u(We),oses:u(Ve)},Xe="Firefox",Ye=function(e){var t=e.current,n=function(e){return function(){return t===e}};return{current:t,version:e.version,isEdge:n("Edge"),isChrome:n("Chrome"),isIE:n("IE"),isOpera:n("Opera"),isFirefox:n(Xe),isSafari:n("Safari")}},Ke=function(){return Ye({current:void 0,version:Oe()})},Je=Ye,Ze=(u("Edge"),u("Chrome"),u("IE"),u("Opera"),u(Xe),u("Safari"),"Windows"),Qe="Android",et="Solaris",tt="FreeBSD",nt="ChromeOS",rt=function(e){var t=e.current,n=function(e){return function(){return t===e}};return{current:t,version:e.version,isWindows:n(Ze),isiOS:n("iOS"),isAndroid:n(Qe),isOSX:n("OSX"),isLinux:n("Linux"),isSolaris:n(et),isFreeBSD:n(tt),isChromeOS:n(nt)}},ot=function(){return rt({current:void 0,version:Oe()})},it=rt,at=(u(Ze),u("iOS"),u(Qe),u("Linux"),u("OSX"),u(et),u(tt),u(nt),function(e,t){var n,r,o,i,a,s,l,c,d,f,h,p,g=Ge.browsers(),m=Ge.oses(),v=function(e,t){return Be(e,t).map(function(e){var n=Ie(e.versionRegexes,t);return{current:e.name,version:n}})}(g,e).fold(Ke,Je),y=function(e,t){return Be(e,t).map(function(e){var n=Ie(e.versionRegexes,t);return{current:e.name,version:n}})}(m,e).fold(ot,it);return{browser:v,os:y,deviceType:(r=v,o=e,i=t,a=(n=y).isiOS()&&!0===/ipad/i.test(o),s=n.isiOS()&&!a,l=n.isiOS()||n.isAndroid(),c=l||i("(pointer:coarse)"),d=a||!s&&l&&i("(min-device-width:768px)"),f=s||l&&!d,h=r.isSafari()&&n.isiOS()&&!1===/safari/i.test(o),p=!f&&!d&&!h,{isiPad:u(a),isiPhone:u(s),isTablet:u(d),isPhone:u(f),isTouch:u(c),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:u(h),isDesktop:u(p)})}}),st=function(e){return window.matchMedia(e).matches},lt=(De=!(Ee=function(){return at(navigator.userAgent,st)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return De||(De=!0,Ae=Ee.apply(null,e)),Ae}),ut=function(){return lt()},ct=navigator.userAgent,dt=ut(),ft=dt.browser,ht=dt.os,pt=dt.deviceType,gt=/WebKit/.test(ct)&&!ft.isEdge(),mt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,vt=-1!==ct.indexOf("Windows Phone"),yt={opera:ft.isOpera(),webkit:gt,ie:!(!ft.isIE()&&!ft.isEdge())&&ft.version.major,gecko:ft.isFirefox(),mac:ht.isOSX()||ht.isiOS(),iOS:pt.isiPad()||pt.isiPhone(),android:ht.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:ft.isIE()?document.documentMode||7:10,fileApi:mt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!ft.isIE(),desktop:pt.isDesktop(),windowsPhone:vt,browser:{current:ft.current,version:ft.version,isChrome:ft.isChrome,isEdge:ft.isEdge,isFirefox:ft.isFirefox,isIE:ft.isIE,isOpera:ft.isOpera,isSafari:ft.isSafari},os:{current:ht.current,version:ht.version,isAndroid:ht.isAndroid,isChromeOS:ht.isChromeOS,isFreeBSD:ht.isFreeBSD,isiOS:ht.isiOS,isLinux:ht.isLinux,isOSX:ht.isOSX,isSolaris:ht.isSolaris,isWindows:ht.isWindows},deviceType:{isDesktop:pt.isDesktop,isiPad:pt.isiPad,isiPhone:pt.isiPhone,isPhone:pt.isPhone,isTablet:pt.isTablet,isTouch:pt.isTouch,isWebView:pt.isWebView}},bt=/^\s*|\s*$/g,xt=function(e){return null==e?"":(""+e).replace(bt,"")},wt=function(e,t){return t?!("array"!==t||!ve(e))||typeof e===t:void 0!==e},Ct=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),ye(e,function(e,o){return!1!==t.call(r,e,o,n)&&void Ct(e,t,n,r)}))},kt={trim:xt,isArray:ve,is:wt,toArray:function(e){if(ve(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:ye,map:be,grep:xe,inArray:we,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o,i=t[r];for(var a in i)!i.hasOwnProperty(a)||void 0!==(o=i[a])&&(e[a]=o)}return e},create:function(e,t,n){var r,o,i,a=this,s=0,l=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],u=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!u[l]){if("static"===e[2])return u[l]=t,void(this.onCreate&&this.onCreate(e[2],e[3],u[l]));t[l]||(t[l]=function(){},s=1),u[l]=t[l],a.extend(u[l].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=u[l],u[l]=s?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},u[l].prototype[l]=u[l],a.each(r,function(e,t){u[l].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?u[l].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==l&&(u[l].prototype[t]=e)})),a.each(t.static,function(e,t){u[l][t]=e})}},walk:Ct,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||wt(e,"array")?e:be(e.split(t||","),xt)},_addCacheSuffix:function(e){var t=yt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},St=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},_t=function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return St(n.childNodes[0])},Tt=function(e,t){var n=(t||document).createElement(e);return St(n)},Et=function(e,t){var n=(t||document).createTextNode(e);return St(n)},At=St,Dt=function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n},Nt=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Rt=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Lt=function(e,t){return e.dom===t.dom},Pt=function(e,t){return ut().browser.isIE()?function(e,t){return n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(e.dom.compareDocumentPosition(t.dom)&n);var n}(e,t):(n=e.dom)!==(r=t.dom)&&n.contains(r);var n,r},It=("undefined"!=typeof window||Function("return this;")(),function(e){return e.dom.nodeName.toLowerCase()}),Ot=function(e){return e.dom.nodeType},Bt=function(e){return function(t){return Ot(t)===e}},Ft=Bt(1),Mt=Bt(3),$t=Bt(9),jt=Bt(11),Ht=function(e){return At(e.dom.ownerDocument)},zt=function(e){return $t(e)?e:Ht(e)},Ut=function(e){return k.from(e.dom.parentNode).map(At)},qt=function(e){return k.from(e.dom.previousSibling).map(At)},Wt=function(e){return k.from(e.dom.nextSibling).map(At)},Vt=function(e){return Q(Dt(e,qt))},Gt=function(e){return Dt(e,Wt)},Xt=function(e){return U(e.dom.childNodes,At)},Yt=function(e,t){return k.from(e.dom.childNodes[t]).map(At)},Kt=function(e){return Yt(e,0)},Jt=function(e){return Yt(e,e.dom.childNodes.length-1)},Zt=function(e){return jt(e)},Qt=O(Element.prototype.attachShadow)&&O(Node.prototype.getRootNode),en=u(Qt),tn=Qt?function(e){return At(e.dom.getRootNode())}:zt,nn=function(e){return Zt(e)?e:function(e){var t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return At(t)}(zt(e))},rn=function(e){return At(e.dom.host)},on=function(e,t){Ut(e).each(function(n){n.dom.insertBefore(t.dom,e.dom)})},an=function(e,t){Wt(e).fold(function(){Ut(e).each(function(e){ln(e,t)})},function(e){on(e,t)})},sn=function(e,t){Kt(e).fold(function(){ln(e,t)},function(n){e.dom.insertBefore(t.dom,n.dom)})},ln=function(e,t){e.dom.appendChild(t.dom)},un=function(e,t){q(t,function(t){ln(e,t)})},cn=function(e){e.dom.textContent="",q(Xt(e),function(e){dn(e)})},dn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},fn=function(e){var t,n=Xt(e);0<n.length&&(t=e,q(n,function(e){on(t,e)})),dn(e)},hn=function(e){var t=Mt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n,r,o,i,a=t.ownerDocument;return o=At(t),i=tn(o),(Zt(i)?k.some(i):k.none()).fold(function(){return a.body.contains(t)},(n=hn,r=rn,function(e){return n(r(e))}))},pn=function(e,t){return{left:e,top:t,translate:function(n,r){return pn(e+n,t+r)}}},gn=pn,mn=function(e,t){return void 0!==e?e:void 0!==t?t:0},vn=function(e){var t,n=e.dom,r=n.ownerDocument.body;return r===n?gn(r.offsetLeft,r.offsetTop):hn(e)?(t=n.getBoundingClientRect(),gn(t.left,t.top)):gn(0,0)},yn=function(e){var t=void 0!==e?e.dom:document;return gn(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},bn=function(e,t){ut().browser.isSafari()&&O(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},xn=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},wn=function(e){var t,n,r=void 0===e?window:e,o=yn(At(r.document));return n=void 0===(t=r)?window:t,k.from(n.visualViewport).fold(function(){var e=r.document.documentElement;return xn(o.left,o.top,e.clientWidth,e.clientHeight)},function(e){return xn(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)})},Cn=function(e){return function(t){return!!t&&t.nodeType===e}},kn=function(e){return!!e&&!Object.getPrototypeOf(e)},Sn=Cn(1),_n=function(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return H(t,n)}return!1}},Tn=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(Sn(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},En=function(e){return function(t){return Sn(t)&&t.hasAttribute(e)}},An=function(e){return Sn(e)&&e.hasAttribute("data-mce-bogus")},Dn=function(e){return Sn(e)&&"TABLE"===e.tagName},Nn=function(e){return function(t){if(Sn(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Rn=_n(["textarea","input"]),Ln=Cn(3),Pn=Cn(8),In=Cn(9),On=Cn(11),Bn=_n(["br"]),Fn=_n(["img"]),Mn=Nn("true"),$n=Nn("false"),jn=_n(["td","th"]),Hn=_n(["video","audio","object","embed"]),zn=function(e){return void 0!==e.style&&O(e.style.getPropertyValue)},Un=function(e,t,n){if(!(E(n)||R(n)||B(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},qn=function(e,t,n){Un(e.dom,t,n)},Wn=function(e,t){var n=e.dom;se(t,function(e,t){Un(n,t,e)})},Vn=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Gn=function(e,t){return k.from(Vn(e,t))},Xn=function(e,t){e.dom.removeAttribute(t)},Yn=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||hn(e)?r:Kn(n,t)},Kn=function(e,t){return zn(e)?e.style.getPropertyValue(t):""},Jn=function(e,t){var n=Kn(e.dom,t);return k.from(n).filter(function(e){return 0<e.length})},Zn=function(e){var t={},n=e.dom;if(zn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},Qn=ut().browser,er=function(e){return Y(e,Ft)},tr=function(e,t){return e.children&&H(e.children,t)},nr={},rr={exports:nr};Ne=nr,Re=rr,function(e){"object"==typeof Ne&&void 0!==Re?Re.exports=e():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return o(t[a][1][e]||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,c=[],d=!1,f=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!d){var e=l(h);d=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||d||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){function n(){}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn(function(){var n,r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){try{n=r(e._value)}catch(c){return void a(t.promise,c)}i(t.promise,n)}else(1===e._state?i:a)(t.promise,e._value)})):e._deferreds.push(t)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void u((o=n,l=t,function(){o.apply(l,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(i){a(e,i)}var o,l}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var r=!1;try{e(function(e){r||(r=!0,i(t,e))},function(e){r||(r=!0,a(t,e))})}catch(n){if(r)return;r=!0,a(t,n)}}var c;c=setTimeout,r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new l(e,t,r)),r},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,r){if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)!function i(a,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){i(a,e)},r)}t[a]=s,0==--o&&e(t)}catch(n){r(n)}}(i,t[i])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},r._immediateFn="function"==typeof e?function(t){e(t)}:function(e){c(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=r:this.Promise||(this.Promise=r)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,o(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)});var or=rr.exports.boltExport,ir=function(e){var t=k.none(),n=[],r=function(e){o()?i(e):n.push(e)},o=function(){return t.isSome()},i=function(e){t.each(function(t){setTimeout(function(){e(t)},0)})};return e(function(e){o()||(t=k.some(e),function(e){q(e,i)}(n),n=[])}),{get:r,map:function(e){return ir(function(t){r(function(n){t(e(n))})})},isReady:o}},ar={nu:ir,pure:function(e){return ir(function(t){t(e)})}},sr=function(e){setTimeout(function(){throw e},0)},lr=function(e){var t=function(t){e().then(t,sr)};return{map:function(t){return lr(function(){return e().then(t)})},bind:function(t){return lr(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return lr(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return ar.nu(t)},toCached:function(){var t=null;return lr(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},ur=function(e){return lr(function(){return new or(e)})},cr=function(e){return{is:function(t){return e===t},isValue:b,isError:y,getOr:u(e),getOrThunk:u(e),getOrDie:u(e),or:function(t){return cr(e)},orThunk:function(t){return cr(e)},fold:function(t,n){return n(e)},map:function(t){return cr(t(e))},mapError:function(t){return cr(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOptional:function(){return k.some(e)}}},dr=function(e){return{is:y,isValue:y,isError:b,getOr:c,getOrThunk:function(e){return e()},getOrDie:function(){return m(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return dr(e)},mapError:function(t){return dr(t(e))},each:s,bind:function(t){return dr(e)},exists:y,forall:b,toOptional:k.none}},fr={value:cr,error:dr,fromOption:function(e,t){return e.fold(function(){return dr(t)},cr)}},hr=function(e){if(!D(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return q(e,function(r,o){var i=ie(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!D(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var n=ie(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!Z(t,function(e){return H(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)},log:function(e){console.log(e,{constructors:t,constructor:a,params:r})}}}}),n},pr=(hr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(c,c)});function gr(e,t,n,r,o){return e(n,r)?k.some(n):O(o)&&o(n)?k.none():t(n,r,o)}var mr,vr,yr,br,xr=function(e,t,n){for(var r=e.dom,o=O(n)?n:y;r.parentNode;){var i=At(r=r.parentNode);if(t(i))return k.some(i);if(o(i))break}return k.none()},wr=function(e,t,n){return gr(function(e,t){return t(e)},xr,e,t,n)},Cr=function(e,t,n){return xr(e,function(e){return Nt(e,t)},n)},kr=function(e,t){return n=t,o=void 0===(r=e)?document:r.dom,Rt(o)?k.none():k.from(o.querySelector(n)).map(At);var n,r,o},Sr=function(e,t,n){return gr(Nt,Cr,e,t,n)},_r=window.Promise?window.Promise:(mr=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},yr=(vr=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],Lr(e,Tr(Ar,this),Tr(Dr,this))}).immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},vr.prototype.catch=function(e){return this.then(null,e)},vr.prototype.then=function(e,t){var n=this;return new vr(function(r,o){Er.call(n,new Rr(e,t,r,o))})},vr.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&mr(arguments[0])?arguments[0]:arguments);return new vr(function(n,r){if(0===t.length)return n([]);for(var o=t.length,i=0;i<t.length;i++)!function i(a,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){i(a,e)},r)}t[a]=s,0==--o&&n(t)}catch(e){r(e)}}(i,t[i])})},vr.resolve=function(e){return e&&"object"==typeof e&&e.constructor===vr?e:new vr(function(t){t(e)})},vr.reject=function(e){return new vr(function(t,n){n(e)})},vr.race=function(e){return new vr(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},vr);function Tr(e,t){return function(){e.apply(t,arguments)}}function Er(e){var t=this;null!==this._state?yr(function(){var n,r=t._state?e.onFulfilled:e.onRejected;if(null!==r){try{n=r(t._value)}catch(h){return void e.reject(h)}e.resolve(n)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function Ar(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void Lr(Tr(t,e),Tr(Ar,this),Tr(Dr,this))}this._state=!0,this._value=e,Nr.call(this)}catch(h){Dr.call(this,h)}}function Dr(e){this._state=!1,this._value=e,Nr.call(this)}function Nr(){for(var e=0,t=this._deferreds.length;e<t;e++)Er.call(this,this._deferreds[e]);this._deferreds=null}function Rr(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function Lr(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(c){if(r)return;r=!0,n(c)}}var Pr=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Ir=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Or=function(e,t){var n,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=Pr(function(){e.apply(this,r)},t)};return r.stop=function(){clearTimeout(n)},r},Br={requestAnimationFrame:function(e,t){br?br.then(e):br=new _r(function(e){!function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];(n=n||function(e){window.setTimeout(e,0)})(e,t)}(e,t=t||document.body)}).then(e)},setTimeout:Pr,setInterval:Ir,setEditorTimeout:function(e,t,n){return Pr(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=Ir(function(){e.removed?clearInterval(r):t()},n);return r},debounce:Or,throttle:Or,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}};function Fr(e,t){void 0===t&&(t={});var n=0,r={},o=At(e),i=zt(o),a=t.maxLoadTime||5e3,s=function(s,l,u){var c,d=kt._addCacheSuffix(s),f=pe(r,d).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}});(r[d]=f).count++;var h,p,g,m=function(e,t){for(var n=e.length;n--;)e[n]();f.status=t,f.passed=[],f.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},v=function(){return m(f.passed,2)},y=function(){return m(f.failed,3)},b=function(){var t;t=b,function(){for(var t=e.styleSheets,n=t.length;n--;){var r=t[n].ownerNode;if(r&&r.id===c.id)return v(),1}}()||(Date.now()-p<a?Br.setTimeout(t):y())};l&&f.passed.push(l),u&&f.failed.push(u),1!==f.status&&(2!==f.status?3!==f.status?(f.status=1,h=Tt("link",i.dom),Wn(h,{rel:"stylesheet",type:"text/css",id:f.id}),p=Date.now(),t.contentCssCors&&qn(h,"crossOrigin","anonymous"),t.referrerPolicy&&qn(h,"referrerpolicy",t.referrerPolicy),(c=h.dom).onload=b,c.onerror=y,g=h,ln(nn(o),g),qn(h,"href",d)):y():v())},c=function(e){return ur(function(t){s(e,l(t,u(fr.value(e))),l(t,u(fr.error(e))))})},d=function(e){var t=kt._addCacheSuffix(e);pe(r,t).each(function(e){var n,i;0==--e.count&&(delete r[t],n=e.id,i=nn(o),kr(i,"#"+n).each(dn))})};return{load:s,loadAll:function(e,t,n){(function(e,t){return t(function(t){var n=[],r=0;0===e.length?t([]):q(e,function(o,i){var a;o.get((a=i,function(o){n[a]=o,++r>=e.length&&t(n)}))})})})(U(e,c),ur).get(function(e){var r=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a)?n:r).push(a)}return{pass:n,fail:r}}(e,function(e){return e.isValue()});0<r.fail.length?n(r.fail.map(pr)):t(r.pass.map(pr))})},unload:d,unloadAll:function(e){q(e,function(e){d(e)})},_setReferrerPolicy:function(e){t.referrerPolicy=e}}}var Mr,$r=(Mr=new WeakMap,{forElement:function(e,t){var n=tn(e).dom;return k.from(Mr.get(n)).getOrThunk(function(){var e=Fr(n,t);return Mr.set(n,e),e})}}),jr=(Hr.prototype.current=function(){return this.node},Hr.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},Hr.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},Hr.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},Hr.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},Hr.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},Hr);function Hr(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}var zr=function(e){var t;return function(n){return(t=t||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(e,b)).hasOwnProperty(It(n))}},Ur=zr(["h1","h2","h3","h4","h5","h6"]),qr=zr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Wr=function(e){return Ft(e)&&!qr(e)},Vr=function(e){return Ft(e)&&"br"===It(e)},Gr=zr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Xr=zr(["ul","ol","dl"]),Yr=zr(["li","dd","dt"]),Kr=zr(["thead","tbody","tfoot"]),Jr=zr(["td","th"]),Zr=zr(["pre","script","textarea","style"]),Qr="Â ",eo="\ufeff",to=function(e){return"\ufeff"===e},no=function(e){return e.replace(/\uFEFF/g,"")},ro=Sn,oo=Ln,io=function(e){return oo(e)&&(e=e.parentNode),ro(e)&&e.hasAttribute("data-mce-caret")},ao=function(e){return oo(e)&&to(e.data)},so=function(e){return io(e)||ao(e)},lo=function(e){return e.firstChild!==e.lastChild||!Bn(e.firstChild)},uo=function(e){var t=e.container();return!!Ln(t)&&(t.data.charAt(e.offset())===eo||e.isAtStart()&&ao(t.previousSibling))},co=function(e){var t=e.container();return!!Ln(t)&&(t.data.charAt(e.offset()-1)===eo||e.isAtEnd()&&ao(t.nextSibling))},fo=function(e){return oo(e)&&e.data[0]===eo},ho=function(e){return oo(e)&&e.data[e.data.length-1]===eo},po=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),An(n=t[t.length-1])&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},go=Mn,mo=$n,vo=Bn,yo=Ln,bo=_n(["script","style","textarea"]),xo=_n(["img","input","textarea","hr","iframe","video","audio","object","embed"]),wo=_n(["table"]),Co=so,ko=function(e){return!Co(e)&&(yo(e)?!bo(e.parentNode):xo(e)||vo(e)||wo(e)||So(e))},So=function(e){return!1===(Sn(t=e)&&"true"===t.getAttribute("unselectable"))&&mo(e);var t},_o=function(e,t){return ko(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(So(e))return!1;if(go(e))return!0}return!0}(e,t)},To=/^[ \t\r\n]*$/,Eo=function(e){return To.test(e)},Ao=function(e,t){return ko(e)&&!1===(o=t,Ln(r=e)&&Eo(r.data)&&!1===function(e,t){var n,r,o=At(t);return n=At(e),r=d(Lt,o),Cr(n,"pre,code",r).isSome()}(r,o))||Sn(n=e)&&"A"===n.nodeName&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id"))||Do(e);var n,r,o},Do=En("data-mce-bookmark"),No=En("data-mce-bogus"),Ro=function(e){return Sn(e)&&"all"===e.getAttribute("data-mce-bogus")},Lo=function(e,t){return void 0===t&&(t=!0),function(e,t){var n,r=0;if(Ao(e,e))return!1;if(!(n=e.firstChild))return!0;var o=new jr(n,e);do{if(t){if(Ro(n)){n=o.next(!0);continue}if(No(n)){n=o.next();continue}}if(Bn(n))r++,n=o.next();else{if(Ao(n,e))return!1;n=o.next()}}while(n);return r<=1}(e.dom,t)},Po=function(e,t){return I(e)&&(Ao(e,t)||Wr(At(e)))},Io=function(e){return"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type")},Oo=function(e,t,n){var r=n||t;if(Sn(t)&&Io(t))return t;for(var o,i,a,s=t.childNodes,l=s.length-1;0<=l;l--)Oo(e,s[l],r);return!Sn(t)||1===(o=t.childNodes).length&&Io(o[0])&&t.parentNode.insertBefore(o[0],t),On(a=t)||In(a)||Ao(t,r)||Sn(i=t)&&0<i.childNodes.length||function(e,t){return Ln(e)&&0<e.data.length&&(o=new jr(n=e,r=t).prev(!1),i=new jr(n,r).next(!1),a=L(o)||Po(o,r),s=L(i)||Po(i,r),a&&s);var n,r,o,i,a,s}(t,r)||e.remove(t),t},Bo=kt.makeMap,Fo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$o=/[<>&\"\']/g,jo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ho={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},zo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Uo={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qo=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),zo[r]||(i[r]=o="&"+e[n+1]+";",i[o]=r);return i}},Wo=qo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Vo=function(e,t){return e.replace(t?Fo:Mo,function(e){return zo[e]||e})},Go=function(e,t){return e.replace(t?Fo:Mo,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":zo[e]||"&#"+e.charCodeAt(0)+";"})},Xo=function(e,t,n){return n=n||Wo,e.replace(t?Fo:Mo,function(e){return zo[e]||n[e]||e})},Yo={encodeRaw:Vo,encodeAllRaw:function(e){return(""+e).replace($o,function(e){return zo[e]||e})},encodeNumeric:Go,encodeNamed:Xo,getEncodeFunc:function(e,t){var n=qo(t)||Wo,r=Bo(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?Fo:Mo,function(e){return void 0!==zo[e]?zo[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:r.named?t?function(e,t){return Xo(e,t,n)}:Xo:r.numeric?Go:Vo},decode:function(e){return e.replace(jo,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Ho[t]||String.fromCharCode(t):Uo[e]||Wo[e]||(n=e,(r=Tt("div").dom).innerHTML=n,r.textContent||r.innerText||n);var n,r})}},Ko={},Jo={},Zo=kt.makeMap,Qo=kt.each,ei=kt.extend,ti=kt.explode,ni=kt.inArray,ri=function(e,t){return(e=kt.trim(e))?e.split(t||" "):[]},oi=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Qo(e,function(e,r){n[r]=n[r.toUpperCase()]=("map"===t?Zo:ti)(e,/[, ]/)})),n};function ii(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=Zo(o,/[, ]/,Zo(o.toUpperCase(),/[, ]/)):(o=Ko[t])||(o=Zo(n," ",Zo(n.toUpperCase()," ")),o=ei(o,r),Ko[t]=o),o},s=function(e){var t,n,r,o,i,a,s={},l=function(e,n,r){var o,i,a=function(e,t){for(var n={},r=0,o=e.length;r<o;r++)n[e[r]]=t||{};return n};n=n||"","string"==typeof(r=r||[])&&(r=ri(r));for(var l=ri(e),u=l.length;u--;)i={attributes:a(o=ri([t,n].join(" "))),attributesOrder:o,children:a(r,Jo)},s[l[u]]=i},u=function(e,t){for(var n,r,o,i=ri(e),a=i.length,l=ri(t);a--;)for(n=s[i[a]],r=0,o=l.length;r<o;r++)n.attributes[l[r]]={},n.attributesOrder.push(l[r])};return Ko[e]?Ko[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),Qo(ri(a),function(e){l(e,"",r)}),n=[n,i="center dir isindex noframes"].join(" "),o=[n,r].join(" "),Qo(ri(i),function(e){l(e,"",o)})),o=o||[n,r].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),l("address dt dd div caption","",o),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),l("blockquote","cite",o),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",o),l("dl","","dt dd"),l("a","href target rel media hreflang type",r),l("q","cite",r),l("ins del","cite datetime",o),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",o),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),l("param","name value"),l("map","name",[o,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",o),l("th","colspan rowspan headers scope abbr",o),l("form","accept-charset action autocomplete enctype method name novalidate target",o),l("fieldset","disabled form name",[o,"legend"].join(" ")),l("label","form for",r),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[o,"li"].join(" ")),l("noscript","",o),"html4"!==e&&(l("wbr"),l("ruby","",[r,"rt rp"].join(" ")),l("figcaption","",o),l("mark rt rp summary bdi","",r),l("canvas","width height",o),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[r,"option"].join(" ")),l("article section nav aside main header footer","",o),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[o,"figcaption"].join(" ")),l("time","datetime",r),l("dialog","open",o),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",r),l("progress","value max",r),l("meter","value min max low high optimum",r),l("details","open",[o,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allowfullscreen loading")),Qo(ri("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,Ko[e]=s)}((e=e||{}).schema);!1===e.verify_html&&(e.valid_elements="*[*]");var l=oi(e.valid_styles),u=oi(e.invalid_styles,"map"),c=oi(e.valid_classes,"map"),d=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g="td th iframe video audio object script code",m=a("non_empty_elements",g+" pre",h),v=a("move_caret_before_on_enter_elements",g+" table",h),y=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y),x=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Qo((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},C=function(e){var n,o,i,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e){var _=ri(e,",");for(t["@"]&&(y=t["@"].attributes,b=t["@"].attributesOrder),n=0,o=_.length;n<o;n++)if(s=C.exec(_[n])){if(d=s[2],v=s[3],c=s[5],l={attributes:p={},attributesOrder:g=[]},"#"===(m=s[1])&&(l.paddEmpty=!0),"-"===m&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),y&&(se(y,function(e,t){p[t]=e}),g.push.apply(g,b)),c)for(i=0,a=(c=ri(c,"|")).length;i<a;i++)if(s=k.exec(c[i])){if(u={},h=s[1],f=s[2].replace(/[\\:]:/g,":"),m=s[3],x=s[4],"!"===h&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),u.required=!0),"-"===h){delete p[f],g.splice(ni(g,f),1);continue}m&&("="===m&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:x}),u.defaultValue=x),":"===m&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:x}),u.forcedValue=x),"<"===m&&(u.validValues=Zo(x,"?"))),S.test(f)?(l.attributePatterns=l.attributePatterns||[],u.pattern=w(f),l.attributePatterns.push(u)):(p[f]||g.push(f),p[f]=u)}y||"@"!==d||(y=p,b=g),v&&(l.outputName=d,t[v]=l),S.test(d)?(l.pattern=w(d),r.push(l)):t[d]=l}}},k=function(e){t={},r=[],C(e),Qo(s,function(e,t){n[t]=e.children})},S=function(e){var r=/^(~)?(.+)$/;e&&(Ko.text_block_elements=Ko.block_elements=null,Qo(ri(e,","),function(e){var i,a=r.exec(e),s="~"===a[1],l=s?"span":"div",u=a[2];n[u]=n[l],o[u]=l,s||(b[u.toUpperCase()]={},b[u]={}),t[u]||(delete(i=ei({},i=t[l])).removeEmptyAttrs,delete i.removeEmpty,t[u]=i),Qo(n,function(e,t){e[l]&&(n[t]=e=ei({},n[t]),e[u]=e[l])})}))},_=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ko[e.schema]=null,t&&Qo(ri(t,","),function(e){var t,o,i=r.exec(e);i&&(t=(o=i[1])?n[i[2]]:n[i[2]]={"#comment":{}},t=n[i[2]],Qo(ri(i[3],"|"),function(e){"-"===o?delete t[e]:t[e]={}}))})},T=function(e){var n,o=t[e];if(o)return o;for(n=r.length;n--;)if((o=r[n]).pattern.test(e))return o};return e.valid_elements?k(e.valid_elements):(Qo(s,function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children}),"html5"!==e.schema&&Qo(ri("strong/b em/i"),function(e){var n=ri(e,"/");t[n[1]].outputName=n[0]}),Qo(ri("ol ul sub sup blockquote span font a table tbody strong em b i"),function(e){t[e]&&(t[e].removeEmpty=!0)}),Qo(ri("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){t[e].paddEmpty=!0}),Qo(ri("span"),function(e){t[e].removeEmptyAttrs=!0})),S(e.custom_elements),_(e.valid_children),C(e.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),Qo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){t[n]&&(t[n].parentsRequired=ri(e))}),e.invalid_elements&&Qo(ti(e.invalid_elements),function(e){t[e]&&delete t[e]}),T("span")||C("span[!data-mce-type|*]"),{children:n,elements:t,getValidStyles:function(){return l},getValidClasses:function(){return c},getBlockElements:function(){return b},getInvalidStyles:function(){return u},getShortEndedElements:function(){return h},getTextBlockElements:function(){return y},getTextInlineElements:function(){return x},getBoolAttrs:function(){return p},getElementRule:T,getSelfClosingElements:function(){return f},getNonEmptyElements:function(){return m},getMoveCaretBeforeOnEnterElements:function(){return v},getWhiteSpaceElements:function(){return d},getSpecialElements:function(){return i},isValidChild:function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},isValid:function(e,t){var n,r,o=T(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return o},addValidElements:C,setValidElements:k,addCustomElements:S,addValidChildren:_}}var ai=function(e,t,n,r){var o=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+o(t)+o(n)+o(r)},si=function(e,t){var n,r,o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,l={};e=e||{},t&&(n=t.getValidStyles(),r=t.getInvalidStyles());for(var u="\\\" \\' \\; \\: ; : \ufeff".split(" "),c=0;c<u.length;c++)l[u[c]]="\ufeff"+c,l["\ufeff"+c]=u[c];return{toHex:function(e){return e.replace(o,ai)},parse:function(t){var n,r,u,d,f,h,p,g={},m=e.url_converter,v=e.url_converter_scope||this,y=function(e,t,n){var r=g[e+"-top"+t];if(r){var o=g[e+"-right"+t];if(o){var i=g[e+"-bottom"+t];if(i){var a=g[e+"-left"+t];if(a){var s=[r,o,i,a];for(c=s.length-1;c--&&s[c]===s[c+1];);-1<c&&n||(g[e+t]=-1===c?s[0]:s.join(" "),delete g[e+"-top"+t],delete g[e+"-right"+t],delete g[e+"-bottom"+t],delete g[e+"-left"+t])}}}}},b=function(e){var t,n=g[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return g[e]=n[0],!0}},x=function(e){return d=!0,l[e]},w=function(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},C=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},k=function(e){return e.replace(/\\[0-9a-f]+/gi,C)},S=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=w(i)).replace(/\'/g,"\\'")+"'";if(n=w(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return m&&(n=m.call(v,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,x).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,x)});n=a.exec(t);)if(a.lastIndex=n.index+n[0].length,r=n[1].replace(s,"").toLowerCase(),u=n[2].replace(s,""),r&&u){if(r=k(r),u=k(u),-1!==r.indexOf("\ufeff")||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(u)))continue;"font-weight"===r&&"700"===u?u="bold":"color"!==r&&"background-color"!==r||(u=u.toLowerCase()),u=(u=u.replace(o,ai)).replace(i,S),g[r]=d?w(u,!0):u}y("border","",!0),y("border","-width"),y("border","-color"),y("border","-style"),y("padding",""),y("margin",""),h="border-style",p="border-color",b(f="border-width")&&b(h)&&b(p)&&(g.border=g[f]+" "+g[h]+" "+g[p],delete g[f],delete g[h],delete g[p]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(e,t){var o="",i=function(t){var r,i=n[t];if(i)for(var a=0,s=i.length;a<s;a++)(r=e[t=i[a]])&&(o+=(0<o.length?" ":"")+t+": "+r+";")};return t&&n?(i("*"),i(t)):se(e,function(e,n){var i,a;!e||r&&(i=n,(a=r["*"])&&a[i]||(a=r[t])&&a[i])||(o+=(0<o.length?" ":"")+n+": "+e+";")}),o}}},li=/^(?:mouse|contextmenu)|click/,ui={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},ci=function(){return!1},di=function(){return!0},fi=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},hi=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},pi=function(e,t){var n,r,o,i,a,s=t||{};for(n in e)ui[n]||(s[n]=e[n]);return s.target||(s.target=s.srcElement||document),s.composedPath&&(s.composedPath=function(){return e.composedPath()}),e&&li.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX&&(o=(r=s.target.ownerDocument||document).documentElement,i=r.body,s.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),s.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),s.preventDefault=function(){s.isDefaultPrevented=di,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=di,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=di,s.stopPropagation()})==((a=s).isDefaultPrevented===di||a.isDefaultPrevented===ci)&&(s.isDefaultPrevented=ci,s.isPropagationStopped=ci,s.isImmediatePropagationStopped=ci),void 0===s.metaKey&&(s.metaKey=!1),s},gi=(mi.prototype.bind=function(e,t,n,r){var o,i,a,s,l,u,c=this,d=window,f=function(e){c.executeHandlers(pi(e||d.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[c.expando]?o=e[c.expando]:(o=c.count++,e[c.expando]=o,c.events[o]={}),r=r||e;for(var h=t.split(" "),p=h.length;p--;)l=f,s=u=!1,"DOMContentLoaded"===(a=h[p])&&(a="ready"),c.domLoaded&&"ready"===a&&"complete"===e.readyState?n.call(r,pi({type:a})):(c.hasMouseEnterLeave||(s=c.mouseEnterLeave[a])&&(l=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=pi(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,c.executeHandlers(e,o))}),c.hasFocusIn||"focusin"!==a&&"focusout"!==a||(u=!0,s="focusin"===a?"focus":"blur",l=function(e){(e=pi(e||d.event)).type="focus"===e.type?"focusin":"focusout",c.executeHandlers(e,o)}),(i=c.events[o][a])?"ready"===a&&c.domLoaded?n(pi({type:a})):i.push({func:n,scope:r}):(c.events[o][a]=i=[{func:n,scope:r}],i.fakeName=s,i.capture=u,i.nativeHandler=l,"ready"===a?function(e,t,n){var r,o=e.document,i={type:"ready"};n.domLoaded?t(i):(r=function(){hi(e,"DOMContentLoaded",r),hi(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null},"complete"===o.readyState||"interactive"===o.readyState&&o.body?r():fi(e,"DOMContentLoaded",r),n.domLoaded||fi(e,"load",r))}(e,l,c):fi(e,s||a,l,u)));return e=i=null,n}},mi.prototype.unbind=function(e,t,n){var r,o,i;if(!e||3===e.nodeType||8===e.nodeType)return this;var a=e[this.expando];if(a){if(i=this.events[a],t){for(var s,l,u,c,d=t.split(" "),f=d.length;f--;)if(c=i[o=d[f]]){if(n)for(r=c.length;r--;)c[r].func===n&&(s=c.nativeHandler,l=c.fakeName,u=c.capture,(c=c.slice(0,r).concat(c.slice(r+1))).nativeHandler=s,c.fakeName=l,c.capture=u,i[o]=c);n&&0!==c.length||(delete i[o],hi(e,c.fakeName||o,c.nativeHandler,c.capture))}}else se(i,function(t,n){hi(e,t.fakeName||n,t.nativeHandler,t.capture)}),i={};for(o in i)if(ge(i,o))return this;delete this.events[a];try{delete e[this.expando]}catch(m){e[this.expando]=null}}return this},mi.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=pi(null,n);for(o.type=t,o.target=e;(r=e[this.expando])&&this.executeHandlers(o,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!o.isPropagationStopped(););return this},mi.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},mi.prototype.destroy=function(){this.events={}},mi.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},mi.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},mi.Event=new mi,mi);function mi(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}var vi,yi,bi,xi,wi,Ci,ki,Si,_i,Ti,Ei,Ai,Di,Ni,Ri,Li,Pi,Ii="sizzle"+-new Date,Oi=window.document,Bi=0,Fi=0,Mi=ma(),$i=ma(),ji=ma(),Hi=function(e,t){return e===t&&(Ti=!0),0},zi="undefined",Ui={}.hasOwnProperty,qi=[],Wi=qi.pop,Vi=qi.push,Gi=qi.push,Xi=qi.slice,Yi=qi.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Ki="[\\x20\\t\\r\\n\\f]",Ji="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Zi="\\["+Ki+"*("+Ji+")(?:"+Ki+"*([*^$|!~]?=)"+Ki+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ji+"))|)"+Ki+"*\\]",Qi=":("+Ji+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Zi+")*)|.*)\\)|)",ea=new RegExp("^"+Ki+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ki+"+$","g"),ta=new RegExp("^"+Ki+"*,"+Ki+"*"),na=new RegExp("^"+Ki+"*([>+~]|"+Ki+")"+Ki+"*"),ra=new RegExp("="+Ki+"*([^\\]'\"]*?)"+Ki+"*\\]","g"),oa=new RegExp(Qi),ia=new RegExp("^"+Ji+"$"),aa={ID:new RegExp("^#("+Ji+")"),CLASS:new RegExp("^\\.("+Ji+")"),TAG:new RegExp("^("+Ji+"|[*])"),ATTR:new RegExp("^"+Zi),PSEUDO:new RegExp("^"+Qi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ki+"*(even|odd|(([+-]|)(\\d*)n|)"+Ki+"*(?:([+-]|)"+Ki+"*(\\d+)|))"+Ki+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Ki+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ki+"*((?:-\\d)?\\d*)"+Ki+"*\\)|)(?=[^-]|$)","i")},sa=/^(?:input|select|textarea|button)$/i,la=/^h\d$/i,ua=/^[^{]+\{\s*\[native \w/,ca=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,da=/[+~]/,fa=/'|\\/g,ha=new RegExp("\\\\([\\da-f]{1,6}"+Ki+"?|("+Ki+")|.)","ig"),pa=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Gi.apply(qi=Xi.call(Oi.childNodes),Oi.childNodes)}catch(ck){Gi={apply:qi.length?function(e,t){Vi.apply(e,Xi.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var ga=function(e,t,n,r){var o,i,a,s,l,u,c,d,f,h;if((t?t.ownerDocument||t:Oi)!==Ai&&Ei(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||Ai).nodeType)&&9!==s)return[];if(Ni&&!r){if(o=ca.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&Pi(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Gi.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&vi.getElementsByClassName)return Gi.apply(n,t.getElementsByClassName(a)),n}if(vi.qsa&&(!Ri||!Ri.test(e))){if(d=c=Ii,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=wi(e),(c=t.getAttribute("id"))?d=c.replace(fa,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+Ca(u[l]);f=da.test(e)&&xa(t.parentNode)||t,h=u.join(",")}if(h)try{return Gi.apply(n,f.querySelectorAll(h)),n}catch(x){}finally{c||t.removeAttribute("id")}}}return ki(e.replace(ea,"$1"),t,n,r)};function ma(){var e=[];return function t(n,r){return e.push(n+" ")>yi.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function va(e){return e[Ii]=!0,e}function ya(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ba(e){return va(function(t){return t=+t,va(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function xa(e){return e&&typeof e.getElementsByTagName!=zi&&e}function wa(){}function Ca(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ka(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=Fi++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,u=[Bi,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(l=t[Ii]||(t[Ii]={}))[r])&&s[0]===Bi&&s[1]===i)return u[2]=s[2];if((l[r]=u)[2]=e(t,n,a))return!0}}}function Sa(e){return 1<e.length?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function _a(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function Ta(e,t,n,r,o,i){return r&&!r[Ii]&&(r=Ta(r)),o&&!o[Ii]&&(o=Ta(o,i)),va(function(i,a,s,l){var u,c,d,f=[],h=[],p=a.length,g=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ga(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:_a(g,f,e,s,l),v=n?o||(i?e:p||r)?[]:a:m;if(n&&n(m,v,s,l),r)for(u=_a(v,h),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(v[h[c]]=!(m[h[c]]=d));if(i){if(o||e){if(o){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(m[c]=d);o(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&-1<(u=o?Yi.call(i,d):f[c])&&(i[u]=!(a[u]=d))}}else v=_a(v===a?v.splice(p,v.length):v),o?o(null,a,v,l):Gi.apply(a,v)})}vi=ga.support={},xi=ga.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Ei=ga.setDocument=function(e){var t,n=e?e.ownerDocument||e:Oi,r=n.defaultView;return n!==Ai&&9===n.nodeType&&n.documentElement?(Di=(Ai=n).documentElement,Ni=!xi(n),r&&r!==function(e){try{return e.top}catch(t){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){Ei()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Ei()})),vi.attributes=!0,vi.getElementsByTagName=!0,vi.getElementsByClassName=ua.test(n.getElementsByClassName),vi.getById=!0,yi.find.ID=function(e,t){if(typeof t.getElementById!=zi&&Ni){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},yi.filter.ID=function(e){var t=e.replace(ha,pa);return function(e){return e.getAttribute("id")===t}},yi.find.TAG=vi.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=zi)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},yi.find.CLASS=vi.getElementsByClassName&&function(e,t){if(Ni)return t.getElementsByClassName(e)},Li=[],Ri=[],vi.disconnectedMatch=!0,Ri=Ri.length&&new RegExp(Ri.join("|")),Li=Li.length&&new RegExp(Li.join("|")),t=ua.test(Di.compareDocumentPosition),Pi=t||ua.test(Di.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Hi=t?function(e,t){if(e===t)return Ti=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!vi.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===Oi&&Pi(Oi,e)?-1:t===n||t.ownerDocument===Oi&&Pi(Oi,t)?1:_i?Yi.call(_i,e)-Yi.call(_i,t):0:4&r?-1:1)}:function(e,t){if(e===t)return Ti=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:_i?Yi.call(_i,e)-Yi.call(_i,t):0;if(i===a)return ya(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;s[o]===l[o];)o++;return o?ya(s[o],l[o]):s[o]===Oi?-1:l[o]===Oi?1:0},n):Ai},ga.matches=function(e,t){return ga(e,null,null,t)},ga.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Ai&&Ei(e),t=t.replace(ra,"='$1']"),vi.matchesSelector&&Ni&&(!Li||!Li.test(t))&&(!Ri||!Ri.test(t)))try{var n=(void 0).call(e,t);if(n||vi.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(ck){}return 0<ga(t,Ai,null,[e]).length},ga.contains=function(e,t){return(e.ownerDocument||e)!==Ai&&Ei(e),Pi(e,t)},ga.attr=function(e,t){(e.ownerDocument||e)!==Ai&&Ei(e);var n=yi.attrHandle[t.toLowerCase()],r=n&&Ui.call(yi.attrHandle,t.toLowerCase())?n(e,t,!Ni):void 0;return void 0!==r?r:vi.attributes||!Ni?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ga.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ga.uniqueSort=function(e){var t,n=[],r=0,o=0;if(Ti=!vi.detectDuplicates,_i=!vi.sortStable&&e.slice(0),e.sort(Hi),Ti){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return _i=null,e},bi=ga.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=bi(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=bi(t);return n},(yi=ga.selectors={cacheLength:50,createPseudo:va,match:aa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ha,pa),e[3]=(e[3]||e[4]||e[5]||"").replace(ha,pa),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ga.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ga.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return aa.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&oa.test(n)&&(t=wi(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ha,pa).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Mi[e+" "];return t||(t=new RegExp("(^|"+Ki+")"+e+"("+Ki+"|$)"))&&Mi(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=zi&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=ga.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&-1<o.indexOf(n):"$="===t?n&&o.slice(-n.length)===n:"~="===t?-1<(" "+o+" ").indexOf(n):"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,g=i!=a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(i){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(h=(u=(c=m[Ii]||(m[Ii]={}))[e]||[])[0]===Bi&&u[1],f=u[0]===Bi&&u[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[Bi,h,f];break}}else if(y&&(u=(t[Ii]||(t[Ii]={}))[e])&&u[0]===Bi)f=u[1];else for(;(d=++h&&d&&d[g]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[Ii]||(d[Ii]={}))[e]=[Bi,f]),d!==t)););return(f-=o)===r||f%r==0&&0<=f/r}}},PSEUDO:function(e,t){var n,r=yi.pseudos[e]||yi.setFilters[e.toLowerCase()]||ga.error("unsupported pseudo: "+e);return r[Ii]?r(t):1<r.length?(n=[e,e,"",t],yi.setFilters.hasOwnProperty(e.toLowerCase())?va(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=Yi.call(e,i[a])]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:va(function(e){var t=[],n=[],r=Ci(e.replace(ea,"$1"));return r[Ii]?va(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}}),has:va(function(e){return function(t){return 0<ga(e,t).length}}),contains:va(function(e){return e=e.replace(ha,pa),function(t){return-1<(t.textContent||t.innerText||bi(t)).indexOf(e)}}),lang:va(function(e){return ia.test(e||"")||ga.error("unsupported lang: "+e),e=e.replace(ha,pa).toLowerCase(),function(t){var n;do{if(n=Ni?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Di},focus:function(e){return e===Ai.activeElement&&(!Ai.hasFocus||Ai.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!yi.pseudos.empty(e)},header:function(e){return la.test(e.nodeName)},input:function(e){return sa.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ba(function(){return[0]}),last:ba(function(e,t){return[t-1]}),eq:ba(function(e,t,n){return[n<0?n+t:n]}),even:ba(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ba(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ba(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:ba(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=yi.pseudos.eq,q(["radio","checkbox","file","password","image"],function(e){var t;yi.pseudos[e]=(t=e,function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t})}),q(["submit","reset"],function(e){var t;yi.pseudos[e]=(t=e,function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t})}),wa.prototype=yi.filters=yi.pseudos,yi.setFilters=new wa,wi=ga.tokenize=function(e,t){var n,r,o,i,a,s,l,u=$i[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=yi.preFilter;a;){for(i in n&&!(r=ta.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=na.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ea," ")}),a=a.slice(n.length)),yi.filter)yi.filter.hasOwnProperty(i)&&(!(r=aa[i].exec(a))||l[i]&&!(r=l[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?ga.error(e):$i(e,s).slice(0)},Ci=ga.compile=function(e,t){var n,r,o,i,a,s,l=[],u=[],c=ji[e+" "];if(!c){for(n=(t=t||wi(e)).length;n--;)(c=function e(t){for(var n,r,o,i=t.length,a=yi.relative[t[0].type],s=a||yi.relative[" "],l=a?1:0,u=ka(function(e){return e===n},s,!0),c=ka(function(e){return-1<Yi.call(n,e)},s,!0),d=[function(e,t,r){return!a&&(r||t!==Si)||((n=t).nodeType?u:c)(e,t,r)}];l<i;l++)if(r=yi.relative[t[l].type])d=[ka(Sa(d),r)];else{if((r=yi.filter[t[l].type].apply(null,t[l].matches))[Ii]){for(o=++l;o<i&&!yi.relative[t[o].type];o++);return Ta(1<l&&Sa(d),1<l&&Ca(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(ea,"$1"),r,l<o&&e(t.slice(l,o)),o<i&&e(t=t.slice(o)),o<i&&Ca(t))}d.push(r)}return Sa(d)}(t[n]))[Ii]?l.push(c):u.push(c);(c=ji(e,(r=u,i=0<(o=l).length,a=0<r.length,s=function(e,t,n,s,l){var u,c,d,f=0,h="0",p=e&&[],g=[],m=Si,v=e||a&&yi.find.TAG("*",l),y=Bi+=null==m?1:Math.random()||.1,b=v.length;for(l&&(Si=t!==Ai&&t);h!==b&&null!=(u=v[h]);h++){if(a&&u){for(c=0;d=r[c++];)if(d(u,t,n)){s.push(u);break}l&&(Bi=y)}i&&((u=!d&&u)&&f--,e&&p.push(u))}if(f+=h,i&&h!==f){for(c=0;d=o[c++];)d(p,g,t,n);if(e){if(0<f)for(;h--;)p[h]||g[h]||(g[h]=Wi.call(s));g=_a(g)}Gi.apply(s,g),l&&!e&&0<g.length&&1<f+o.length&&ga.uniqueSort(s)}return l&&(Bi=y,Si=m),p},i?va(s):s))).selector=e}return c},ki=ga.select=function(e,t,n,r){var o,i,a,s,l,u="function"==typeof e&&e,c=!r&&wi(e=u.selector||e);if(n=n||[],1===c.length){if(2<(i=c[0]=c[0].slice(0)).length&&"ID"===(a=i[0]).type&&vi.getById&&9===t.nodeType&&Ni&&yi.relative[i[1].type]){if(!(t=(yi.find.ID(a.matches[0].replace(ha,pa),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=aa.needsContext.test(e)?0:i.length;o--&&!yi.relative[s=(a=i[o]).type];)if((l=yi.find[s])&&(r=l(a.matches[0].replace(ha,pa),da.test(i[0].type)&&xa(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Ca(i)))return Gi.apply(n,r),n;break}}return(u||Ci(e,c))(r,t,!Ni,n,da.test(e)&&xa(t.parentNode)||t),n},vi.sortStable=Ii.split("").sort(Hi).join("")===Ii,vi.detectDuplicates=!!Ti,Ei(),vi.sortDetached=!0;var Ea=document,Aa=Array.prototype.push,Da=Array.prototype.slice,Na=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ra=gi.Event,La=kt.makeMap("children,contents,next,prev"),Pa=function(e){return void 0!==e},Ia=function(e){return"string"==typeof e},Oa=function(e,t){var n,r=(t=t||Ea).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o},Ba=function(e,t,n,r){var o;if(Ia(t))t=Oa(t,Ka(e[0]));else if(t.length&&!t.nodeType){if(t=ts.makeArray(t),r)for(o=t.length-1;0<=o;o--)Ba(e,t[o],n,r);else for(o=0;o<t.length;o++)Ba(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Fa=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Ma=function(e,t,n){var r,o;return t=ts(t)[0],e.each(function(){n&&r===this.parentNode||(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),e},$a=kt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ja=kt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ha={for:"htmlFor",class:"className",readonly:"readOnly"},za={float:"cssFloat"},Ua={},qa={},Wa=function(e,t){return new ts.fn.init(e,t)},Va=/^\s*|\s*$/g,Ga=function(e){return null==e?"":(""+e).replace(Va,"")},Xa=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(i=e[r],r,i))break}else for(o=0;o<n&&!1!==t.call(i=e[o],o,i);o++);return e},Ya=function(e,t){var n=[];return Xa(e,function(e,r){t(r,e)&&n.push(r)}),n},Ka=function(e){return e?9===e.nodeType?e:e.ownerDocument:Ea};Wa.fn=Wa.prototype={constructor:Wa,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return ts(e).attr(t);o.context=t=document}if(Ia(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Na.exec(e)))return ts(t).find(e);if(n[1])for(r=Oa(e,Ka(t)).firstChild;r;)Aa.call(o,r),r=r.nextSibling;else{if(!(r=Ka(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return kt.toArray(this)},add:function(e,t){var n,r;if(Ia(e))return this.add(ts(e));if(!1!==t)for(n=ts.unique(this.toArray().concat(ts.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else Aa.apply(this,ts.makeArray(e));return this},attr:function(e,t){var n,r=this;if("object"==typeof e)Xa(e,function(e,t){r.attr(e,t)});else{if(!Pa(t)){if(r[0]&&1===r[0].nodeType){if((n=Ua[e])&&n.get)return n.get(r[0],e);if(ja[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=Ua[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Ha[e]||e))Xa(e,function(e,t){n.prop(e,t)});else{if(!Pa(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,a=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},s=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Xa(e,function(e,t){o.css(e,t)});else if(Pa(t))e=a(e),"number"!=typeof t||$a[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if((r=qa[e])&&r.set)r.set(this,t);else{try{this.style[za[e]||e]=t}catch(a){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(s(e)):n.removeAttribute(e))}});else{if(n=o[0],(r=qa[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[a(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(e))}catch(i){return}}return o},remove:function(){for(var e,t=this.length;t--;)Ra.clean(e=this[t]),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t;if(Pa(e)){t=this.length;try{for(;t--;)this[t].innerHTML=e}catch(h){ts(this[t]).empty().append(e)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(Pa(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Ba(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Ba(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?Ba(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?Ba(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return ts(e).append(this),this},prependTo:function(e){return ts(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ma(this,e)},wrapAll:function(e){return Ma(this,e,!0)},wrapInner:function(e){return this.each(function(){ts(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ts(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ts(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?Xa(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,i=Fa(r,e);i!==t&&(o=r.className,i?r.className=Ga((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)})),n},hasClass:function(e){return Fa(this[0],e)},each:function(e){return Xa(this,e)},on:function(e,t){return this.each(function(){Ra.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ra.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ra.fire(this,e.type,e):Ra.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new ts(Da.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)ts.find(e,this[n],t);return ts(t)},filter:function(e){return ts("function"==typeof e?Ya(this.toArray(),function(t,n){return e(n,t)}):ts.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ts&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&ts(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),ts(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Aa,sort:Array.prototype.sort,splice:Array.prototype.splice},kt.extend(Wa,{extend:kt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:kt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:kt.isArray,each:Xa,trim:Ga,grep:Ya,find:ga,expr:ga.selectors,unique:ga.uniqueSort,text:ga.getText,contains:ga.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return 1===t.length?ts.find.matchesSelector(t[0],e)?[t[0]]:[]:ts.find.matches(e,t)}});var Ja=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof ts&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&ts(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},Za=function(e,t,n,r){var o=[];for(r instanceof ts&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&ts(e).is(r))break}o.push(e)}return o},Qa=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Xa({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ja(e,"parentNode")},next:function(e){return Qa(e,"nextSibling",1)},prev:function(e){return Qa(e,"previousSibling",1)},children:function(e){return Za(e.firstChild,"nextSibling",1)},contents:function(e){return kt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Wa.fn[e]=function(n){var r=[];this.each(function(){var e=t.call(r,this,n,r);e&&(ts.isArray(e)?r.push.apply(r,e):r.push(e))}),1<this.length&&(La[e]||(r=ts.unique(r)),0===e.indexOf("parents")&&(r=r.reverse()));var o=ts(r);return n?o.filter(n):o}}),Xa({parentsUntil:function(e,t){return Ja(e,"parentNode",t)},nextUntil:function(e,t){return Za(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Za(e,"previousSibling",1,t).slice(1)}},function(e,t){Wa.fn[e]=function(n,r){var o=[];this.each(function(){var e=t.call(o,this,n,o);e&&(ts.isArray(e)?o.push.apply(o,e):o.push(e))}),1<this.length&&(o=ts.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var i=ts(o);return r?i.filter(r):i}}),Wa.fn.is=function(e){return!!e&&0<this.filter(e).length},Wa.fn.init.prototype=Wa.fn,Wa.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),new n.fn.init(r,o=o||t.context)};return ts.extend(n,this),n},Wa.attrHooks=Ua,Wa.cssHooks=qa;var es,ts=Wa,ns=kt.each,rs=kt.grep,os=yt.ie,is=/^([a-z0-9],?)+$/i,as=function(e,t){var n=t.attr("style"),r=(r=e.serialize(e.parse(n),t[0].nodeName))||null;t.attr("data-mce-style",r)},ss=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};function ls(e,t){var n=this;void 0===t&&(t={});var r={},o=window,i={},a=0,l=$r.forElement(At(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),u=[],c=t.schema?t.schema:ii({}),d=si({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),f=t.ownEvents?new gi:gi.Event,h=c.getBlockElements(),p=ts.overrideDefaults(function(){return{context:e,element:U.getRoot()}}),g=function(t){return t&&e&&E(t)?e.getElementById(t):t},m=function(e){return p("string"==typeof e?g(e):e)},v=function(e,t,n){var r,o,i=m(e);return i.length&&(o=(r=W[t])&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o},y=function(e){var t=g(e);return t?t.attributes:[]},b=function(e,n,r){""===r&&(r=null);var o,i=m(e),a=i.attr(n);i.length&&((o=W[n])&&o.set?o.set(i,r,n):i.attr(n,r),a!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:i,attrName:n,attrValue:r}))},x=function(){return t.root_element||e.body},w=function(t,n){return function(e,t,n){var r,o,i,a=0,s=0,l=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Yn(At(e),"position"))return{x:a=(o=t.getBoundingClientRect()).left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,y:s=o.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType&&!tr(r,n);)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!tr(r,n);)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode;s+=(i=At(t),Qn.isFirefox()&&"table"===It(i)?er(Xt(i)).filter(function(e){return"caption"===It(e)}).bind(function(e){return er(Gt(e)).map(function(t){return t.dom.offsetTop<=e.dom.offsetTop?-e.dom.offsetHeight:0})}).getOr(0):0)}return{x:a,y:s}}(e.body,g(t),n)},C=function(e,t,n){var r=m(e);return n?r.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=yt.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},k=function(e){var t,n;return e=g(e),t=C(e,"width"),n=C(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},S=function(e,t){if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(is.test(t)){for(var n=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase(),o=n.length-1;0<=o;o--)if(n[o]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return 0<ga(t,i[0].ownerDocument||i[0],null,i).length},_=function(e,t,n,r){var o,i=[],a=g(e);for(r=void 0===r,n=n||("BODY"!==x().nodeName?x().parentNode:null),kt.is(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType}:function(e){return S(e,o)});a&&!(a===n||P(a.nodeType)||In(a)||On(a));){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},T=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return S(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},A=function(e,t,r){var o,i="string"==typeof e?g(e):e;return!!i&&(kt.isArray(i)&&(i.length||0===i.length)?(o=[],ns(i,function(e,n){e&&o.push(t.call(r,"string"==typeof e?g(e):e,n))}),o):t.call(r||n,i))},D=function(e,t){m(e).each(function(e,n){ns(t,function(e,t){b(n,t,e)})})},N=function(e,t){var n=m(e);os?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(i){ts("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},R=function(t,n,r,o,i){return A(t,function(t){var a="string"==typeof n?e.createElement(n):n;return D(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&N(a,o)),i?a:t.appendChild(a)})},L=function(t,n,r){return R(e.createElement(t),t,n,r,!0)},I=Yo.encodeAllRaw,O=function(e,t){var n=m(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},B=function(e,t,n){m(e).toggleClass(t,n).each(function(){""===this.className&&ts(this).attr("class",null)})},F=function(e,t,n){return A(t,function(t){return kt.is(t,"array")&&(e=e.cloneNode(!0)),n&&ns(rs(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},M=function(e){if(Sn(e)){var t="a"===e.nodeName.toLowerCase()&&!v(e,"href")&&v(e,"id");if(v(e,"name")||v(e,"data-mce-bookmark")||t)return!0}return!1},$=function(){return e.createRange()},j=function(n,r,i,a){if(kt.isArray(n)){for(var s=n.length,l=[];s--;)l[s]=j(n[s],r,i,a);return l}return!t.collect||n!==e&&n!==o||u.push([n,r,i,a]),f.bind(n,r,i,a||U)},H=function(t,n,r){if(kt.isArray(t)){for(var i=t.length,a=[];i--;)a[i]=H(t[i],n,r);return a}if(0<u.length&&(t===e||t===o))for(i=u.length;i--;){var s=u[i];t!==s[0]||n&&n!==s[1]||r&&r!==s[2]||f.unbind(s[0],s[1],s[2])}return f.unbind(t,n,r)},z=function(e){if(e&&Sn(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},U={doc:e,settings:t,win:o,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:l,boundEvents:u,styles:d,schema:c,events:f,isBlock:function(e){if("string"==typeof e)return!!h[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!h[e.nodeName])}return!1},$:p,$$:m,root:null,clone:function(t,n){if(!os||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return ns(y(t),function(e){b(r,e.nodeName,v(t,e.nodeName))}),r},getRoot:x,getViewPort:function(e){var t=wn(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(e){e=g(e);var t=w(e),n=k(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:k,getParent:function(e,t,n){var r=_(e,t,n,!1);return r&&0<r.length?r[0]:null},getParents:_,get:g,getNext:function(e,t){return T(e,t,"nextSibling")},getPrev:function(e,t){return T(e,t,"previousSibling")},select:function(n,r){return ga(n,g(r)||t.root_element||e,[])},is:S,add:R,create:L,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!=t[r]&&(o+=" "+r+'="'+I(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:O,setStyle:function(e,n,r){var o=E(n)?m(e).css(n,r):m(e).css(n);t.update_styles&&as(d,o)},getStyle:C,setStyles:function(e,n){var r=m(e).css(n);t.update_styles&&as(d,r)},removeAllAttribs:function(e){return A(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:b,setAttribs:D,getAttrib:v,getPos:w,parseStyle:function(e){return d.parse(e)},serializeStyle:function(e,t){return d.serialize(e,t)},addStyle:function(t){var n,o;if(U!==ls.DOM&&e===document){if(r[t])return;r[t]=!0}(o=e.getElementById("mceDefaultStyles"))||((o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css",(n=e.getElementsByTagName("head")[0]).firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:function(e){q((e=e||"").split(","),function(e){i[e]=!0,l.load(e,s)})},addClass:function(e,t){m(e).addClass(t)},removeClass:function(e,t){B(e,t,!1)},hasClass:function(e,t){return m(e).hasClass(t)},toggleClass:B,show:function(e){m(e).show()},hide:function(e){m(e).hide()},isHidden:function(e){return"none"===m(e).css("display")},uniqueId:function(e){return(e||"mce_")+a++},setHTML:N,getOuterHTML:function(e){var t="string"==typeof e?g(e):e;return Sn(t)?t.outerHTML:ts("<div></div>").append(ts(t).clone()).html()},setOuterHTML:function(e,t){m(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}O(ts(this).html(t),!0)})},decode:Yo.decode,encode:I,insertAfter:function(e,t){var n=g(t);return A(e,function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e})},replace:F,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=L(t),ns(y(e),function(t){b(n,t.nodeName,v(e,t.nodeName))}),F(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return d.toHex(kt.trim(e))},run:A,getAttribs:y,isEmpty:function(e,t){var n,r,o=0;if(M(e))return!1;if(e=e.firstChild){var i=new jr(e,e.parentNode),a=c?c.getWhiteSpaceElements():{};t=t||(c?c.getNonEmptyElements():null);do{if(n=e.nodeType,Sn(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=i.next("all"===s);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"!==r)return!1;o++,e=i.next();continue}if(M(e))return!1}if(8===n)return!1;if(3===n&&!Eo(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Eo(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},createRng:$,nodeIndex:ss,split:function(e,t,n){var r,o,i,a=$();if(e&&t)return a.setStart(e.parentNode,ss(e)),a.setEnd(t.parentNode,ss(t)),r=a.extractContents(),(a=$()).setStart(t.parentNode,ss(t)+1),a.setEnd(e.parentNode,ss(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(Oo(U,r),e),i.insertBefore(n||t,e),i.insertBefore(Oo(U,o),e),O(e),n||t},bind:j,unbind:H,fire:function(e,t,n){return f.fire(e,t,n)},getContentEditable:z,getContentEditableParent:function(e){for(var t=x(),n=null;e&&e!==t&&null===(n=z(e));e=e.parentNode);return n},destroy:function(){if(0<u.length)for(var e=u.length;e--;){var t=u[e];f.unbind(t[0],t[1],t[2])}se(i,function(e,t){l.unload(t),delete i[t]}),ga.setDocument&&ga.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},W=function(e,t,n){var r=t.keep_values,o={set:function(e,n,r){t.url_converter&&(n=t.url_converter.call(t.url_converter_scope||U,n,r,e[0])),e.attr("data-mce-"+r,n).attr(r,n)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){null===n||"object"!=typeof n?(r&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i}(d,t);return U}(es=ls=ls||{}).DOM=es(document),es.nodeIndex=ss;var us=ls,cs=us.DOM,ds=kt.each,fs=kt.grep,hs=(ps.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},ps.prototype.loadScript=function(e,t,n){var r=cs,o=function(){r.remove(i),a&&(a.onerror=a.onload=a=null)},i=r.uniqueId(),a=document.createElement("script");a.id=i,a.type="text/javascript",a.src=kt._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=function(){o(),t()},a.onerror=function(){o(),O(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)},ps.prototype.isDone=function(e){return 2===this.states[e]},ps.prototype.markDone=function(e){this.states[e]=2},ps.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},ps.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},ps.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},ps.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},ps.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){ds(o.scriptLoadedCallbacks[t],function(t){O(t[e])&&t[e].call(t.scope)}),o.scriptLoadedCallbacks[t]=void 0};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var s=function(){var t,n=fs(e);e.length=0,ds(n,function(e){2!==o.states[e]?3!==o.states[e]?1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,function(){o.states[e]=2,o.loading--,a("success",e),s()},function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),s()})):a("failure",e):a("success",e)}),o.loading||(t=o.queueLoadedCallbacks.slice(0),o.queueLoadedCallbacks.length=0,ds(t,function(e){0===i.length?O(e.success)&&e.success.call(e.scope):O(e.failure)&&e.failure.call(e.scope,i)}))};s()},ps.ScriptLoader=new ps,ps);function ps(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}var gs,ms=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},vs={},ys=ms("en"),bs=function(){return pe(vs,ys.get())},xs={getData:function(){return le(vs,function(e){return _e({},e)})},setCode:function(e){e&&ys.set(e)},getCode:function(){return ys.get()},add:function(e,t){var n=vs[e];n||(vs[e]=n={}),se(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){var t,n,r=bs().getOr({}),o=function(e){return O(e)?Object.prototype.toString.call(e):i(e)?"":""+e},i=function(e){return""===e||null==e},a=function(e){var t=o(e);return pe(r,t.toLowerCase()).map(o).getOr(t)},s=function(e){return e.replace(/{context:\w+}$/,"")};if(i(e))return"";if(A(t=e)&&ge(t,"raw"))return o(e.raw);if(D(n=e)&&1<n.length){var l=e.slice(1);return s(a(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return ge(l,t)?o(l[t]):e}))}return s(a(e))},isRtl:function(){return bs().bind(function(e){return pe(e,"_dir")}).exists(function(e){return"rtl"===e})},hasCode:function(e){return ge(vs,e)}};function ws(){var e=this,t=[],n={},r={},o=[],i=function(e,t){var n=V(o,function(n){return n.name===e&&n.state===t});q(n,function(e){return e.callback()})},a=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},s=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},l=function(e,t,o,u,c){var d,f;n[e]||(0!==(d="string"==typeof t?t:t.prefix+t.resource+t.suffix).indexOf("/")&&-1===d.indexOf("://")&&(d=ws.baseURL+"/"+d),n[e]=d.substring(0,d.lastIndexOf("/")),f=function(){var n,r,c,d;i(e,"loaded"),n=t,r=o,c=u,d=a(e),q(d,function(e){var t=s(n,e);l(t.resource,t,void 0,void 0)}),r&&r.call(c||hs)},r[e]?f():hs.ScriptLoader.add(d,f,u,c))},u=function(e,t,i){void 0===i&&(i="added"),ge(r,e)&&"added"===i||ge(n,e)&&"loaded"===i?t():o.push({name:e,state:i,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:function(e){return r[e]?r[e].instance:void 0},dependencies:a,requireLangPack:function(e,t){!1!==ws.languageLoad&&u(e,function(){var r=xs.getCode();!r||t&&-1===(","+(t||"")+",").indexOf(","+r+",")||hs.ScriptLoader.add(n[e]+"/langs/"+r+".js")},"loaded")},add:function(e,n,o){var a=n;return t.push(a),r[e]={instance:a,dependencies:o},i(e,"added"),a},remove:function(e){delete n[e],delete r[e]},createUrl:s,addComponents:function(t,n){var r=e.urls[t];q(n,function(e){hs.ScriptLoader.add(r+"/"+e)})},load:l,waitFor:u}}(gs=ws=ws||{}).PluginManager=gs(),gs.ThemeManager=gs();var Cs,ks=ws,Ss=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout(function(){e.apply(null,r),n=null},t))}}},_s=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout(function(){e.apply(null,r),n=null},t)}}},Ts=function(e,t){var n=Vn(e,t);return void 0===n||""===n?[]:n.split(" ")},Es=function(e){return void 0!==e.dom.classList},As=function(e,t){Es(e)?e.dom.classList.add(t):function(e,t){return r=t,o=Ts(n=e,"class").concat([r]),qn(n,"class",o.join(" ")),!0;var n,r,o}(e,t)},Ds=function(e,t){return Es(e)&&e.dom.classList.contains(t)},Ns=function(e,t){var n=[];return q(Xt(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Ns(e,t))}),n},Rs=function(e,t){return n=t,o=void 0===(r=e)?document:r.dom,Rt(o)?[]:U(o.querySelectorAll(n),At);var n,r,o},Ls=u("mce-annotation"),Ps=u("data-mce-annotation"),Is=u("data-mce-annotation-uid"),Os=function(e,t){var n=e.selection.getRng(),r=At(n.startContainer),o=At(e.getBody()),i=t.fold(function(){return"."+Ls()},function(e){return"["+Ps()+'="'+e+'"]'}),a=Yt(r,n.startOffset).getOr(r),s=Sr(a,i,function(e){return Lt(e,o)}),l=function(e,t){return(n=e.dom)&&n.hasAttribute&&n.hasAttribute(t)?k.some(Vn(e,t)):k.none();var n};return s.bind(function(t){return l(t,""+Is()).bind(function(n){return l(t,""+Ps()).map(function(t){var r=Bs(e,n);return{uid:n,name:t,elements:r}})})})},Bs=function(e,t){var n=At(e.getBody());return Rs(n,"["+Is()+'="'+t+'"]')},Fs=0,Ms=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Fs+String(t)},$s=function(e,t){var n,r,o=Ht(e).dom,i=At(o.createDocumentFragment()),a=(n=t,(r=(o||document).createElement("div")).innerHTML=n,Xt(At(r)));un(i,a),cn(e),ln(e,i)},js=function(e,t){return At(e.dom.cloneNode(t))},Hs=function(e){return js(e,!1)},zs=function(e){return js(e,!0)},Us=function(e,t,n){void 0===n&&(n=y);var r=new jr(e,t),o=function(e){for(var t;(t=r[e]())&&!Ln(t)&&!n(t););return k.from(t).filter(Ln)};return{current:function(){return k.from(r.current()).filter(Ln)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},qs=function(e,t){var n=t||function(t){return e.isBlock(t)||Bn(t)||$n(t)},r=function(e,t,n,o){if(Ln(e)){var i=o(e,t,e.data);if(-1!==i)return k.some({container:e,offset:i})}return n().bind(function(e){return r(e.container,e.offset,n,o)})};return{backwards:function(e,t,o,i){var a=Us(e,i,n);return r(e,t,function(){return a.prev().map(function(e){return{container:e,offset:e.length}})},o).getOrNull()},forwards:function(e,t,o,i){var a=Us(e,i,n);return r(e,t,function(){return a.next().map(function(e){return{container:e,offset:0}})},o).getOrNull()}}},Ws=function(e,t,n){return e.isSome()&&t.isSome()?k.some(n(e.getOrDie(),t.getOrDie())):k.none()},Vs=Math.round,Gs=function(e){return e?{left:Vs(e.left),top:Vs(e.top),bottom:Vs(e.bottom),right:Vs(e.right),width:Vs(e.width),height:Vs(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Xs=function(e,t){return e=Gs(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Ys=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},Ks=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Ys(t.top-e.bottom,e,t)},Js=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Ys(t.bottom-e.top,e,t)},Zs=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Qs=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},el=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},tl=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),nl=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&tl.test(e)},rl=Sn,ol=ko,il=Tn("display","block table"),al=Tn("float","left right"),sl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(rl,ol,g(al)),ll=g(Tn("white-space","pre pre-line pre-wrap")),ul=Ln,cl=Bn,dl=us.nodeIndex,fl=el,hl=function(e){return"createRange"in e?e.createRange():us.DOM.createRng()},pl=function(e){return e&&/[\r\n\t ]/.test(e)},gl=function(e){return!!e.setStart&&!!e.setEnd},ml=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(pl(e.toString())&&ll(n.parentNode)&&Ln(n)&&(t=n.data,pl(t[r-1])||pl(t[r+1])))},vl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},yl=function(e){var t=e.getClientRects(),n=Gs(0<t.length?t[0]:e.getBoundingClientRect());return!gl(e)&&cl(e)&&vl(n)?function(e){var t=e.ownerDocument,n=hl(t),r=t.createTextNode(Qr),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Gs(n.getBoundingClientRect());return o.removeChild(r),i}(e):vl(n)&&gl(e)?function(e){var t=e.endContainer,n=e.startOffset,r=e.endOffset;if(e.startContainer===t&&Ln(t)&&0===n&&1===r){var o=e.cloneRange();return o.setEndAfter(t),yl(o)}return null}(e):n},bl=function(e,t){var n=Xs(e,t);return n.width=1,n.right=n.left+1,n};function xl(e,t,n){var r=function(){return n=n||function(e){var t,n,r=[],o=function(e){var t,n;0!==e.height&&(0<r.length&&(t=e).left===(n=r[r.length-1]).left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right||r.push(e))},i=function(e,t){var n=hl(e.ownerDocument);if(t<e.data.length){if(nl(e.data[t]))return r;if(nl(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!ml(n)))return o(bl(yl(n),!1)),r}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),ml(n)||o(bl(yl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),ml(n)||o(bl(yl(n),!0)))};if(ul(e.container()))return i(e.container(),e.offset()),r;if(rl(e.container()))if(e.isAtEnd())n=fl(e.container(),e.offset()),ul(n)&&i(n,n.data.length),sl(n)&&!cl(n)&&o(bl(yl(n),!1));else{if(n=fl(e.container(),e.offset()),ul(n)&&i(n,0),sl(n)&&e.isAtEnd())return o(bl(yl(n),!1)),r;t=fl(e.container(),e.offset()-1),sl(t)&&!cl(t)&&(!il(t)&&!il(n)&&sl(n)||o(bl(yl(t),!1))),sl(n)&&o(bl(yl(n),!0))}return r}(xl(e,t))};return{container:u(e),offset:u(t),toRange:function(){var n=hl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return ul(e),0===t},isAtEnd:function(){return ul(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return fl(e,n?t-1:t)}}}(Cs=xl=xl||{}).fromRangeStart=function(e){return Cs(e.startContainer,e.startOffset)},Cs.fromRangeEnd=function(e){return Cs(e.endContainer,e.endOffset)},Cs.after=function(e){return Cs(e.parentNode,dl(e)+1)},Cs.before=function(e){return Cs(e.parentNode,dl(e))},Cs.isAbove=function(e,t){return Ws(ne(t.getClientRects()),re(e.getClientRects()),Ks).getOr(!1)},Cs.isBelow=function(e,t){return Ws(re(t.getClientRects()),ne(e.getClientRects()),Js).getOr(!1)},Cs.isAtStart=function(e){return!!e&&e.isAtStart()},Cs.isAtEnd=function(e){return!!e&&e.isAtEnd()},Cs.isTextPosition=function(e){return!!e&&Ln(e.container())},Cs.isElementPosition=function(e){return!1===Cs.isTextPosition(e)};var wl,Cl,kl=xl,Sl=function(e,t){Ln(t)&&0===t.data.length&&e.remove(t)},_l=function(e,t,n){var r,o,i,a,s,l,u;On(n)?(i=e,a=t,l=k.from((s=n).firstChild),u=k.from(s.lastChild),a.insertNode(s),l.each(function(e){return Sl(i,e.previousSibling)}),u.each(function(e){return Sl(i,e.nextSibling)})):(r=e,t.insertNode(o=n),Sl(r,o.previousSibling),Sl(r,o.nextSibling))},Tl=Ln,El=An,Al=us.nodeIndex,Dl=function(e){var t=e.parentNode;return El(t)?Dl(t):t},Nl=function(e){return e?Ce(e.childNodes,function(e,t){return El(t)&&"BR"!==t.nodeName?e=e.concat(Nl(t)):e.push(t),e},[]):[]},Rl=function(e){return function(t){return e===t}},Ll=function(e){return(Tl(e)?"text()":e.nodeName.toLowerCase())+"["+function(e){var t=Nl(Dl(e)),n=ke(t,Rl(e),e);t=t.slice(0,n+1);var r=Ce(t,function(e,n,r){return Tl(n)&&Tl(t[r-1])&&e++,e},0);return t=xe(t,_n([e.nodeName])),(n=ke(t,Rl(e),e))-r}(e)+"]"},Pl=function(e,t){var n,r,o,i=[],a=t.container(),s=t.offset();return Tl(a)?n=function(e,t){for(;(e=e.previousSibling)&&Tl(e);)t+=e.data.length;return t}(a,s):(s>=(r=a.childNodes).length?(n="after",s=r.length-1):n="before",a=r[s]),i.push(Ll(a)),o=function(e,t,n){var r=[];for(t=t.parentNode;t!==e;t=t.parentNode)r.push(t);return r}(e,a),o=xe(o,g(An)),(i=i.concat(be(o,Ll))).reverse().join("/")+","+n},Il=function(e,t){if(!t)return null;var n=t.split(","),r=n[0].split("/"),o=1<n.length?n[1]:"before",i=Ce(r,function(e,t){var n,r,o,i,a=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return a?("text()"===a[1]&&(a[1]="#text"),n=e,r=a[1],o=parseInt(a[2],10),i=Nl(n),i=xe(i,function(e,t){return!Tl(e)||!Tl(i[t-1])}),(i=xe(i,_n([r])))[o]):null},e);return i?Tl(i)?function(e,t){for(var n,r=e,o=0;Tl(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break}if(!Tl(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Tl(e)&&t>e.data.length&&(t=e.data.length),kl(e,t)}(i,parseInt(o,10)):(o="after"===o?Al(i)+1:Al(i),kl(i.parentNode,o)):null},Ol=$n,Bl=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],l=[],u=0,c=e.getRoot();for(Ln(a)?l.push(n?function(e,t,n){for(var r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&Ln(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(u=1,s=Math.max(0,i.length-1)),l.push(e.nodeIndex(i[s],n)+u));a&&a!==c;a=a.parentNode)l.push(e.nodeIndex(a,n));return l},Fl=function(e,t,n){var r=0;return kt.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Ml=function(e,t){var n,r=t?"start":"end",o=e[r+"Container"],i=e[r+"Offset"];Sn(o)&&"TR"===o.nodeName&&(o=(n=o.childNodes)[Math.min(t?i:i-1,n.length-1)])&&e["set"+(t?"Start":"End")](o,i=t?0:o.childNodes.length)},$l=function(e){return Ml(e,!0),Ml(e,!1),e},jl=function(e,t){var n;if(Sn(e)&&(e=el(e,t),Ol(e)))return e;if(so(e)){if(Ln(e)&&io(e)&&(e=e.parentNode),Ol(n=e.previousSibling))return n;if(Ol(n=e.nextSibling))return n}},Hl=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Ol(r)||"IMG"===o)return{name:o,index:Fl(n.dom,o,r)};var a,s,l,u,c,d,f,h=jl((a=i).startContainer,a.startOffset)||jl(a.endContainer,a.endOffset);return h?{name:o=h.tagName,index:Fl(n.dom,o,h)}:(d=(l=n).dom,(f={}).start=Bl(d,s=e,u=t,c=i,!0),l.isCollapsed()||(f.end=Bl(d,s,u,c,!1)),f)},zl=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Ul=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Fl(n,s,a)};var l,u=$l(r.cloneRange());i||(u.collapse(!1),l=zl(n,o+"_end",t),_l(n,u,l)),(r=$l(r)).collapse(!0);var c=zl(n,o+"_start",t);return _l(n,r,c),e.moveToBookmark({id:o,keep:!0}),{id:o}},ql=d(Hl,c,!0),Wl=us.DOM,Vl=function(e,t,n){var r=e.getParam(t,n);if(-1===r.indexOf("="))return r;var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n},Gl=function(e){return e.getParam("content_security_policy","")},Xl=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Yl=function(e){return e.getParam("forced_root_block_attrs",{})},Kl=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Jl=function(e){return e.getParam("icons","","string")},Zl=function(e){return e.getParam("referrer_policy","","string")},Ql=function(e){return e.getParam("language","en","string")},eu=function(e){return e.getParam("indent_use_margin",!1)},tu=function(e){var t=e.getParam("object_resizing");return!1!==t&&!yt.iOS&&(E(t)?t:"table,img,figure.image,div")},nu=function(e){return e.getParam("event_root")},ru=function(e){return e.getParam("theme")},ou=function(e){return!1!==e.getParam("inline_boundaries")},iu=function(e){return e.getParam("plugins","","string")},au=Sn,su=Ln,lu=function(e){var t=e.parentNode;t&&t.removeChild(e)},uu=function(e){var t=no(e);return{count:e.length-t.length,text:t}},cu=function(e){for(var t;-1!==(t=e.data.lastIndexOf(eo));)e.deleteData(t,1)},du=function(e,t){return pu(e),t},fu=function(e,t){var n,r,o=t.container(),i=(n=oe(o.childNodes),(-1===(r=j(n,e))?k.none():k.some(r)).map(function(e){return e<t.offset()?kl(o,t.offset()-1):t}).getOr(t));return pu(e),i},hu=function(e,t){return kl.isTextPosition(t)?function(e,t){return su(e)&&t.container()===e?(o=uu((n=e).data.substr(0,(r=t).offset())),i=uu(n.data.substr(r.offset())),0<(o.text+i.text).length?(cu(n),kl(n,r.offset()-o.count)):r):du(e,t);var n,r,o,i}(e,t):(n=e,((r=t).container()===n.parentNode?fu:du)(n,r));var n,r},pu=function(e){au(e)&&so(e)&&(lo(e)?e.removeAttribute("data-mce-caret"):lu(e)),su(e)&&(cu(e),0===e.data.length&&lu(e))},gu=ut().browser,mu=$n,vu=Hn,yu=jn,bu=function(e,t,n){var r,o,i,a,s=Xs(t.getBoundingClientRect(),n),l="BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,e.scrollTop||r.scrollTop):(a=e.getBoundingClientRect(),o=e.scrollLeft-a.left,e.scrollTop-a.top);return s.left+=o,s.right+=o,s.top+=l,s.bottom+=l,s.width=1,0<(i=t.offsetWidth-t.clientWidth)&&(n&&(i*=-1),s.left+=i,s.right+=i),s},xu=function(){return gu.isIE()||gu.isEdge()||gu.isFirefox()},wu=function(e){return mu(e)||vu(e)},Cu=function(e){return wu(e)||Dn(e)&&xu()},ku=$n,Su=Hn,_u=Tn("display","block table table-cell table-caption list-item"),Tu=so,Eu=io,Au=Sn,Du=ko,Nu=function(e,t){for(var n;n=e(t);)if(!Eu(n))return n;return null},Ru=function(e,t,n,r,o){var i=new jr(e,r),a=ku(e)||Eu(e);if(t<0){if(a&&n(e=Nu(i.prev,!0)))return e;for(;e=Nu(i.prev,o);)if(n(e))return e}if(0<t){if(a&&n(e=Nu(i.next,!0)))return e;for(;e=Nu(i.next,o);)if(n(e))return e}return null},Lu=function(e,t){for(;e&&e!==t;){if(_u(e))return e;e=e.parentNode}return null},Pu=function(e,t,n){return Lu(e.container(),n)===Lu(t.container(),n)},Iu=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Au(n)?n.childNodes[r+e]:null},Ou=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Bu=function(e,t,n){for(var r,o,i,a=e?"previousSibling":"nextSibling";n&&n!==t;){if(Tu(r=n[a])&&(r=r[a]),ku(r)||Su(r)){if(i=n,Lu(r,o=t)===Lu(i,o))return r;break}if(Du(r))break;n=n.parentNode}return null},Fu=d(Ou,!0),Mu=d(Ou,!1),$u=function(e,t,n){var r,o,i=d(Bu,!0,t),a=d(Bu,!1,t),s=n.startContainer,l=n.startOffset;if(io(s)){if(Au(s)||(s=s.parentNode),"before"===(o=s.getAttribute("data-mce-caret"))&&Cu(r=s.nextSibling))return Fu(r);if("after"===o&&Cu(r=s.previousSibling))return Mu(r)}if(!n.collapsed)return n;if(Ln(s)){if(Tu(s)){if(1===e){if(r=a(s))return Fu(r);if(r=i(s))return Mu(r)}if(-1===e){if(r=i(s))return Mu(r);if(r=a(s))return Fu(r)}return n}if(ho(s)&&l>=s.data.length-1)return 1===e&&(r=a(s))?Fu(r):n;if(fo(s)&&l<=1)return-1===e&&(r=i(s))?Mu(r):n;if(l===s.data.length)return(r=a(s))?Fu(r):n;if(0===l)return(r=i(s))?Mu(r):n}return n},ju=function(e,t){return k.from(Iu(e?0:-1,t)).filter(ku)},Hu=function(e,t,n){var r=$u(e,t,n);return-1===e?xl.fromRangeStart(r):xl.fromRangeEnd(r)},zu=function(e){return k.from(e.getNode()).map(At)},Uu=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},qu=function(e,t){var n=Pu(e,t);return!(n||!Bn(e.getNode()))||n};(Cl=wl=wl||{})[Cl.Backwards=-1]="Backwards",Cl[Cl.Forwards=1]="Forwards";var Wu,Vu,Gu=$n,Xu=Ln,Yu=Sn,Ku=Bn,Ju=ko,Zu=function(e){return xo(e)||!!So(t=e)&&!0!==X(oe(t.getElementsByTagName("*")),function(e,t){return e||go(t)},!1);var t},Qu=_o,ec=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},tc=function(e,t){if(0<e){if(Ju(t.previousSibling)&&!Xu(t.previousSibling))return kl.before(t);if(Xu(t))return kl(t,0)}if(e<0){if(Ju(t.nextSibling)&&!Xu(t.nextSibling))return kl.after(t);if(Xu(t))return kl(t,t.data.length)}return e<0&&!Ku(t)?kl.after(t):kl.before(t)},nc=function(e,t,n){var r,o,i,a;if(!Yu(n)||!t)return null;if(t.isEqual(kl.after(n))&&n.lastChild){if(a=kl.after(n.lastChild),e<0&&Ju(n.lastChild)&&Yu(n.lastChild))return Ku(n.lastChild)?kl.before(n.lastChild):a}else a=t;var s,l,u,c=a.container(),d=a.offset();if(Xu(c)){if(e<0&&0<d)return kl(c,--d);if(0<e&&d<c.length)return kl(c,++d);r=c}else{if(e<0&&0<d&&(o=ec(c,d-1),Ju(o)))return!Zu(o)&&(i=Ru(o,e,Qu,o))?Xu(i)?kl(i,i.data.length):kl.after(i):Xu(o)?kl(o,o.data.length):kl.before(o);if(0<e&&d<c.childNodes.length&&(o=ec(c,d),Ju(o)))return Ku(o)?(s=n,(u=(l=o).nextSibling)&&Ju(u)?Xu(u)?kl(u,0):kl.before(u):nc(wl.Forwards,kl.after(l),s)):!Zu(o)&&(i=Ru(o,e,Qu,o))?Xu(i)?kl(i,0):kl.before(i):Xu(o)?kl(o,0):kl.after(o);r=o||a.getNode()}if((0<e&&a.isAtEnd()||e<0&&a.isAtStart())&&(r=Ru(r,e,b,n,!0),Qu(r,n)))return tc(e,r);o=Ru(r,e,Qu,n);var f=Se(V(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(c,n),Gu));return!f||o&&f.contains(o)?o?tc(e,o):null:a=0<e?kl.after(f):kl.before(f)},rc=function(e){return{next:function(t){return nc(wl.Forwards,t,e)},prev:function(t){return nc(wl.Backwards,t,e)}}},oc=function(e){return kl.isTextPosition(e)?0===e.offset():ko(e.getNode())},ic=function(e){if(kl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return ko(e.getNode(!0))},ac=function(e,t){return!kl.isTextPosition(e)&&!kl.isTextPosition(t)&&e.getNode()===t.getNode(!0)},sc=function(e,t,n){var r=rc(t);return k.from(e?r.next(n):r.prev(n))},lc=function(e,t,n){return sc(e,t,n).bind(function(r){return Pu(n,r,t)&&function(e,t,n){return e?!ac(t,n)&&!(!kl.isTextPosition(r=t)&&Bn(r.getNode()))&&ic(t)&&oc(n):!ac(n,t)&&oc(t)&&ic(n);var r}(e,n,r)?sc(e,t,r):k.some(r)})},uc=function(e,t,n,r){return lc(e,t,n).bind(function(n){return r(n)?uc(e,t,n,r):k.some(n)})},cc=function(e,t){var n,r,o,i,a,s=e?t.firstChild:t.lastChild;return Ln(s)?k.some(kl(s,e?0:s.data.length)):s?ko(s)?k.some(e?kl.before(s):Bn(a=s)?kl.before(a):kl.after(a)):(r=t,o=s,i=(n=e)?kl.before(o):kl.after(o),sc(n,r,i)):k.none()},dc=d(sc,!0),fc=d(sc,!1),hc=d(cc,!0),pc=d(cc,!1),gc="_mce_caret",mc=function(e){return Sn(e)&&e.id===gc},vc=function(e,t){for(;t&&t!==e;){if(t.id===gc)return t;t=t.parentNode}return null},yc=function(e,t){return Sn(t)&&e.isBlock(t)&&!t.innerHTML&&!yt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},bc=function(e,t,n){return!(!1!==t.hasChildNodes()||!vc(e,t)||(o=n,i=(r=t).ownerDocument.createTextNode(eo),r.appendChild(i),o.setStart(i,0),o.setEnd(i,0),0));var r,o,i},xc=function(e,t,n,r){var o,i,a,s,l=n[t?"start":"end"],u=e.getRoot();if(l){for(a=l[0],i=u,o=l.length-1;1<=o;o--){if(s=i.childNodes,bc(u,i,r))return!0;if(l[o]>s.length-1)return!!bc(u,i,r)||function(e,t){return pc(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})}(i,r);i=s[l[o]]}3===i.nodeType&&(a=Math.min(l[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(l[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},wc=function(e){return Ln(e)&&0<e.data.length},Cc=function(e,t,n){var r,o,i,a,s,l,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(r=u.parentNode,o="start"===t?c?u.hasChildNodes()?(r=u.firstChild,1):wc(u.nextSibling)?(r=u.nextSibling,0):wc(u.previousSibling)?(r=u.previousSibling,u.previousSibling.data.length):(r=u.parentNode,e.nodeIndex(u)+1):e.nodeIndex(u):c?u.hasChildNodes()?(r=u.firstChild,1):wc(u.previousSibling)?(r=u.previousSibling,u.previousSibling.data.length):(r=u.parentNode,e.nodeIndex(u)):e.nodeIndex(u),s=r,l=o,!c){for(a=u.previousSibling,i=u.nextSibling,kt.each(kt.grep(u.childNodes),function(e){Ln(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);a&&i&&a.nodeType===i.nodeType&&Ln(a)&&!yt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,l=o)}return k.some(kl(s,l))}return k.none()},kc=function(e,t,n){return 2===t?Hl(no,n,e):3===t?(o=(r=e).getRng(),{start:Pl(r.dom.getRoot(),kl.fromRangeStart(o)),end:Pl(r.dom.getRoot(),kl.fromRangeEnd(o))}):t?{rng:e.getRng()}:Ul(e,!1);var r,o},Sc=function(e,t){(function(e,t){var n,r,o,i,a,s,l,u,c,d,f,h,p,g=e.dom;if(t){if(kt.isArray(t.start))return h=t,p=(f=g).createRng(),xc(f,!0,h,p)&&xc(f,!1,h,p)?k.some(p):k.none();if("string"==typeof t.start)return k.some((u=t,c=(l=g).createRng(),d=Il(l.getRoot(),u.start),c.setStart(d.container(),d.offset()),d=Il(l.getRoot(),u.end),c.setEnd(d.container(),d.offset()),c));if(t.hasOwnProperty("id"))return a=Cc(o=g,"start",i=t),s=Cc(o,"end",i),Ws(a,s.or(a),function(e,t){var n=o.createRng();return n.setStart(yc(o,e.container()),e.offset()),n.setEnd(yc(o,t.container()),t.offset()),n});if(t.hasOwnProperty("name"))return k.from((n=g).select((r=t).name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.hasOwnProperty("rng"))return k.some(t.rng)}return k.none()})(e,t).each(function(t){e.setRng(t)})},_c=function(e){return Sn(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Tc=function(e){return"Â "===e},Ec=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},Ac=function(e){return!Ec(e)&&!Tc(e)},Dc=function(e){return!!e.nodeType},Nc=function(e,t,n){var r,o,i,a,s=n.startOffset,l=n.startContainer;if(!(n.startContainer===n.endContainer&&(a=n.startContainer.childNodes[n.startOffset])&&/^(IMG)$/.test(a.nodeName)||1!==l.nodeType))for(s<(i=l.childNodes).length?r=new jr(l=i[s],e.getParent(l,e.isBlock)):(r=new jr(l=i[i.length-1],e.getParent(l,e.isBlock))).next(!0),o=r.current();o;o=r.next())if(3===o.nodeType&&!Ic(o))return n.setStart(o,0),void t.setRng(n)},Rc=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!Ic(e))return e}},Lc=function(e,t){return Dc(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Pc=function(e,t,n){return e.schema.isValidChild(t,n)},Ic=function(e,t){if(void 0===t&&(t=!1),I(e)&&Ln(e)){var n=t?e.data.replace(/ /g,"Â "):e.data;return Eo(n)}return!1},Oc=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},Bc=function(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()},Fc=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Mc=function(e,t,n){return Fc(e,e.getStyle(t,n),n)},$c=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},jc=function(e,t,n){return e.getParents(t,n,e.getRoot())},Hc=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return he(e,function(e,t){return z(r,function(e){return e===t})})};return z(e.formatter.get(t),function(t){var r=o(t);return z(e.formatter.get(n),function(e){var t,n,s,l=o(e);return t=r,n=l,void 0===s&&(s=a),i(s).eq(t,n)})})},zc=function(e){return me(e,"block")},Uc=function(e){return me(e,"selector")},qc=function(e){return me(e,"inline")},Wc=_c,Vc=jc,Gc=Ic,Xc=Lc,Yc=function(e,t){for(var n=t;n;){if(Sn(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Kc=function(e,t,n,r){for(var o=t.data,i=n;e?0<=i:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},Jc=function(e,t,n){return Kc(e,t,n,function(e){return Tc(e)||Ec(e)})},Zc=function(e,t,n){return Kc(e,t,n,Ac)},Qc=function(e,t,n,r,o,i){var a,s=e.getParent(n,e.isBlock)||t,l=function(t,n,r){var i=qs(e);return k.from((o?i.backwards:i.forwards)(t,n,function(e,t){return Wc(e.parentNode)?-1:r(o,a=e,t)},s))};return l(n,r,Jc).bind(function(e){return i?l(e.container,e.offset+(o?-1:0),Zc):k.some(e)}).orThunk(function(){return a?k.some({container:a,offset:o?0:a.length}):k.none()})},ed=function(e,t,n,r,o){Ln(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=Vc(e,r),a=0;a<i.length;a++)for(var s=0;s<t.length;s++){var l=t[s];if((!("collapsed"in l)||l.collapsed===n.collapsed)&&e.is(i[a],l.selector))return i[a]}return r},td=function(e,t,n,r){var o,i,a=e.dom,s=a.getRoot();if(t[0].wrapper||(i=a.getParent(n,t[0].block,s)),i||(o=a.getParent(n,"LI,TD,TH"),i=a.getParent(Ln(n)?n.parentNode:n,function(t){return t!==s&&Xc(e,t)},o)),i&&t[0].wrapper&&(i=Vc(a,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i[r]&&!a.isBlock(i[r])&&!Bc(i=i[r],"br"););return i||n},nd=function(e,t,n,r){var o=n.parentNode;return!I(n[r])&&(!(o!==t&&!P(o)&&!e.isBlock(o))||nd(e,t,o,r))},rd=function(e,t,n,r,o){var i,a,s=n,l=o?"previousSibling":"nextSibling",u=e.getRoot();if(Ln(n)&&!Gc(n)&&(o?0<r:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(s))return s;for(i=s[l];i;i=i[l]){var c=Ln(i)&&!nd(e,u,i,l);if(!Wc(i)&&(!Bn(a=i)||!a.getAttribute("data-mce-bogus")||a.nextSibling)&&!Gc(i,c))return s}if(s===u||s.parentNode===u){n=s;break}s=s.parentNode}return n},od=function(e){return Wc(e.parentNode)||Wc(e)},id=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,s=t.endOffset,l=e.dom;return Sn(o)&&o.hasChildNodes()&&(o=el(o,i),Ln(o)&&(i=0)),Sn(a)&&a.hasChildNodes()&&(a=el(a,t.collapsed?s:s-1),Ln(a)&&(s=a.nodeValue.length)),o=Yc(l,o),a=Yc(l,a),od(o)&&(o=Wc(o)?o:o.parentNode,Ln(o=t.collapsed?o.previousSibling||o:o.nextSibling||o)&&(i=t.collapsed?o.length:0)),od(a)&&(a=Wc(a)?a:a.parentNode,Ln(a=t.collapsed?a.nextSibling||a:a.previousSibling||a)&&(s=t.collapsed?0:a.length)),t.collapsed&&(Qc(l,e.getBody(),o,i,!0,r).each(function(e){o=e.container,i=e.offset}),Qc(l,e.getBody(),a,s,!1,r).each(function(e){a=e.container,s=e.offset})),(n[0].inline||n[0].block_expand)&&(n[0].inline&&Ln(o)&&0!==i||(o=rd(l,n,o,i,!0)),n[0].inline&&Ln(a)&&s!==a.nodeValue.length||(a=rd(l,n,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=ed(l,n,t,o,"previousSibling"),a=ed(l,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=td(e,n,o,"previousSibling"),a=td(e,n,a,"nextSibling"),n[0].block&&(l.isBlock(o)||(o=rd(l,n,o,i,!0)),l.isBlock(a)||(a=rd(l,n,a,s,!1)))),Sn(o)&&(i=l.nodeIndex(o),o=o.parentNode),Sn(a)&&(s=l.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:s}},ad=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},sd=function(e,t,n){var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,s=function(e){var t=e[0];return 3===t.nodeType&&t===r&&o>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&0<e.length&&t===i&&3===t.nodeType&&e.splice(e.length-1,1),e},l=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},u=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},c=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var u=l(i===e?i:i[o],o);u.length&&(r||u.reverse(),n(s(u)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=ad(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=ad(i,a-1)),r===i)return n(s([r]));for(var d=e.findCommonAncestor(r,i),f=r;f;f=f.parentNode){if(f===i)return c(r,d,!0);if(f===d)break}for(f=i;f;f=f.parentNode){if(f===r)return c(i,d);if(f===d)break}var h=u(r,d)||r,p=u(i,d)||i;c(r,h,!0);var g=l(h===r?h:h.nextSibling,"nextSibling",p===i?p.nextSibling:p);g.length&&n(s(g)),c(i,p)},ld=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},ud=function(e,t){var n=Rs(t,"td[data-mce-selected],th[data-mce-selected]");return 0<n.length?n:function(e){return V(J(e,function(e){var t=Qs(e);return t?[At(t)]:[]}),Jr)}(e)},cd=function(e){return ud(ld(e.selection.getSel()),At(e.getBody()))},dd=function(e){return Kt(e).fold(u([e]),function(t){return[e].concat(dd(t))})},fd=function(e){return Jt(e).fold(u([e]),function(t){return"br"===It(t)?qt(t).map(function(t){return[e].concat(fd(t))}).getOr([]):[e].concat(fd(t))})},hd=function(e,t){return Ws((a=(i=t).startContainer,s=i.startOffset,Ln(a)?0===s?k.some(At(a)):k.none():k.from(a.childNodes[s]).map(At)),(r=(n=t).endContainer,o=n.endOffset,Ln(r)?o===r.data.length?k.some(At(r)):k.none():k.from(r.childNodes[o-1]).map(At)),function(t,n){var r=Y(dd(e),d(Lt,t)),o=Y(fd(e),d(Lt,n));return r.isSome()&&o.isSome()}).getOr(!1);var n,r,o,i,a,s},pd=function(e,t,n,r){var o=n,i=new jr(n,o),a=he(e.schema.getMoveCaretBeforeOnEnterElements(),function(e,t){return!H(["td","th","table"],t.toLowerCase())});do{if(Ln(n)&&0!==kt.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},gd=function(e){var t=e.selection.getSel();return t&&0<t.rangeCount},md=function(e,t){var n=cd(e);0<n.length?q(n,function(n){var r=n.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)}):t(e.selection.getRng(),!1)},vd=function(e,t,n){var r=Ul(e,t);n(r),e.moveToBookmark(r)},yd=(Wu=Mt,{get:function(e){if(!Wu(e))throw new Error("Can only get text value of a text node");return Vu(e).getOr("")},getOption:Vu=function(e){return Wu(e)?k.from(e.dom.nodeValue):k.none()},set:function(e,t){if(!Wu(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=t}}),bd=function(e){return yd.get(e)},xd=function(e,t,n,r){var o=t.uid,i=void 0===o?Ms("mce-annotation"):o,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["uid"]),s=Tt("span",e);As(s,Ls()),qn(s,""+Is(),i),qn(s,""+Ps(),n);var l,u=r(i,a),c=u.attributes,d=u.classes,f=void 0===d?[]:d;return Wn(s,void 0===c?{}:c),l=s,q(f,function(e){As(l,e)}),s},wd=function(e){var t,n=(t={},{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?k.from(t[e]).map(function(e){return e.settings}):k.none()}});!function(e,t){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){q(e,function(e){k.from(e.attr(Ps())).bind(t.lookup).each(function(t){!1===t.persistent&&e.unwrap()})})})})}(e,n);var r=function(e,t){var n=ms({}),r=function(e,t){o(e,function(e){return t(e),e})},o=function(e,t){var r=n.get(),o=t(r.hasOwnProperty(e)?r[e]:{listeners:[],previous:ms(k.none())});r[e]=o,n.set(r)},i=_s(function(){var t,i,a=n.get(),s=(t=ie(a),(i=F.call(t,0)).sort(void 0),i);q(s,function(t){o(t,function(n){var o=n.previous.get();return Os(e,k.some(t)).fold(function(){var e;o.isSome()&&(r(e=t,function(t){q(t.listeners,function(t){return t(!1,e)})}),n.previous.set(k.none()))},function(e){var t,i,a,s=e.uid,l=e.name,u=e.elements;o.is(s)||(i=s,a=u,r(t=l,function(e){q(e.listeners,function(e){return e(!0,t,{uid:i,nodes:U(a,function(e){return e.dom})})})}),n.previous.set(k.some(s)))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){i.cancel()}),e.on("NodeChange",function(){i.throttle()}),{addListener:function(e,t){o(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}}(e);return{register:function(e,t){n.register(e,t)},annotate:function(t,r){n.lookup(t).each(function(n){!function(e,t,n,r){e.undoManager.transact(function(){var o,i,a,s,l=e.selection,u=l.getRng(),c=0<cd(e).length;u.collapsed&&!c&&(a=id(o=e,i=u,[{inline:!0}]),i.setStart(a.startContainer,a.startOffset),i.setEnd(a.endContainer,a.endOffset),o.selection.setRng(i)),l.getRng().collapsed&&!c?(s=xd(e.getDoc(),r,t,n.decorate),$s(s,Qr),l.getRng().insertNode(s.dom),l.select(s.dom)):vd(l,!1,function(){md(e,function(o){!function(e,t,n,r,o){var i=[],a=xd(e.getDoc(),o,n,r),s=ms(k.none()),l=function(){s.set(k.none())},u=function(e){q(e,c)},c=function(t){var n,r;switch(function(e,t,n,r){return Ut(t).fold(function(){return"skipping"},function(o){return"br"===r||Mt(a=t)&&bd(a)===eo?"valid":Ft(i=t)&&Ds(i,Ls())?"existing":mc(t.dom)?"caret":Pc(e,n,r)&&Pc(e,It(o),n)?"valid":"invalid-child";var i,a})}(e,t,"span",It(t))){case"invalid-child":l();var o=Xt(t);u(o),l();break;case"valid":var c=s.get().getOrThunk(function(){var e=Hs(a);return i.push(e),s.set(k.some(e)),e});on(n=t,r=c),ln(r,n)}};sd(e.dom,t,function(e){var t;l(),t=U(e,At),u(t)})}(e,o,t,n.decorate,r)})})})}(e,t,n,r)})},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){Os(e,k.some(t)).each(function(e){q(e.elements,fn)})},getAll:function(t){var n,r,o,i,a=(n=t,r=At(e.getBody()),o=Rs(r,"["+Ps()+'="'+n+'"]'),i={},q(o,function(e){var t=Vn(e,Is()),n=i.hasOwnProperty(t)?i[t]:[];i[t]=n.concat([e])}),i);return le(a,function(e){return U(e,function(e){return e.dom})})}}};function Cd(e){return{getBookmark:d(kc,e),moveToBookmark:d(Sc,e)}}(Cd=Cd||{}).isBookmarkNode=_c;var kd,Sd=Cd,_d=function(e,t){for(;t&&t!==e;){if(Mn(t)||$n(t))return t;t=t.parentNode}return null},Td=function(e,t,n){if(n.collapsed)return!1;if(yt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Sn(r))return z(r.getClientRects(),function(n){return Zs(n,e,t)})}return z(n.getClientRects(),function(n){return Zs(n,e,t)})},Ed={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return yt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Ad=$n,Dd=function(e,t){var n,r,o,i,a,s,l,u,c,d,h,p,g,m,v=t.dom,y=kt.each,b=t.getDoc(),x=document,w=Math.abs,C=Math.round,k=t.getBody(),S={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},_=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},T=function(e){var n=e.target;!function(e,t){if("longpress"!==e.type&&0!==e.type.indexOf("touch"))return _(e.target)&&!Td(e.clientX,e.clientY,t);var n=e.touches[0];return _(e.target)&&!Td(n.clientX,n.clientY,t)}(e,t.selection.getRng())||e.isDefaultPrevented()||t.selection.select(n)},E=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},A=function(e){var n=tu(t);return!!n&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&Nt(At(e),n)},D=function(e,t,n){v.setStyles(E(e),{width:t,height:n})},N=function(e){var f,y,b=e.screenX-a,x=e.screenY-s;h=(h=b*i[2]+l)<5?5:h,p=(p=x*i[3]+u)<5?5:p,(_(n)&&!1!==t.getParam("resize_img_proportional",!0,"boolean")?!Ed.modifierPressed(e):Ed.modifierPressed(e))&&(w(b)>w(x)?(p=C(h*c),h=C(p/c)):(h=C(p/c),p=C(h*c))),D(r,h,p),f=0<(f=i.startPos.x+b)?f:0,y=0<(y=i.startPos.y+x)?y:0,v.setStyles(o,{left:f,top:y,display:"block"}),o.innerHTML=h+" &times; "+p,i[2]<0&&r.clientWidth<=h&&v.setStyle(r,"left",void 0+(l-h)),i[3]<0&&r.clientHeight<=p&&v.setStyle(r,"top",void 0+(u-p)),(b=k.scrollWidth-g)+(x=k.scrollHeight-m)!=0&&v.setStyles(o,{left:f-b,top:y-x}),d||(t.fire("ObjectResizeStart",{target:n,width:l,height:u,origin:"corner-"+i.name}),d=!0)},R=function(){var e=d;d=!1;var a=function(e,r){r&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?v.setStyle(E(n),e,r):v.setAttrib(E(n),e,""+r))};e&&(a("width",h),a("height",p)),v.unbind(b,"mousemove",N),v.unbind(b,"mouseup",R),x!==b&&(v.unbind(x,"mousemove",N),v.unbind(x,"mouseup",R)),v.remove(r),v.remove(o),L(n),e&&(t.fire("ObjectResized",{target:n,width:h,height:p,origin:"corner-"+i.name}),v.setAttrib(n,"style",v.getAttrib(n,"style"))),t.nodeChanged()},L=function(e){P(),B();var d=v.getPos(e,k),f=d.x,w=d.y,C=e.getBoundingClientRect(),_=C.width||C.right-C.left,T=C.height||C.bottom-C.top;n!==e&&(n=e,h=p=0);var L=t.fire("ObjectSelected",{target:e});A(e)&&!L.isDefaultPrevented()?y(S,function(e,t){var d=v.get("mceResizeHandle"+t);d&&v.remove(d),d=v.add(k,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===yt.ie&&(d.contentEditable=!1),v.bind(d,"mousedown",function(d){var h;d.stopImmediatePropagation(),d.preventDefault(),a=(h=d).screenX,s=h.screenY,l=E(n).clientWidth,u=E(n).clientHeight,c=u/l,(i=e).name=t,i.startPos={x:_*e[0]+f,y:T*e[1]+w},g=k.scrollWidth,m=k.scrollHeight,r=n.cloneNode(!0),v.addClass(r,"mce-clonedresizable"),v.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,v.setStyles(r,{left:f,top:w,margin:0}),D(r,_,T),r.removeAttribute("data-mce-selected"),k.appendChild(r),v.bind(b,"mousemove",N),v.bind(b,"mouseup",R),x!==b&&(v.bind(x,"mousemove",N),v.bind(x,"mouseup",R)),o=v.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},l+" &times; "+u)}),e.elm=d,v.setStyles(d,{left:_*e[0]+f-d.offsetWidth/2,top:T*e[1]+w-d.offsetHeight/2})}):P(),n.setAttribute("data-mce-selected","1")},P=function(){B(),n&&n.removeAttribute("data-mce-selected"),se(S,function(e,t){var n=v.get("mceResizeHandle"+t);n&&(v.unbind(n),v.remove(n))})},I=function(n){var r,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};d||t.removed||(y(v.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"===n.type?n.target:e.getNode(),o(r=v.$(r).closest("table,img,figure.image,hr")[0],k)&&(F(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?L(r):P())},O=function(e){return Ad(_d(t.getBody(),e))},B=function(){se(S,function(e){e.elm&&(v.unbind(e.elm),delete e.elm)})},F=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(f){}};return t.on("init",function(){var e;F(),(yt.browser.isIE()||yt.browser.isEdge())&&(t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;d||!/^(TABLE|IMG|HR)$/.test(r)||O(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}),v.bind(k,"mscontrolselect",e=function(e){var n=function(e){Br.setEditorTimeout(t,function(){return t.selection.select(e)})};if(O(e.target)||Hn(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))}),t.on("remove",function(){return v.unbind(k,"mscontrolselect",e)}));var r=Br.throttle(function(e){t.composing||I(e)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),t.on("keyup compositionend",function(e){n&&"TABLE"===n.nodeName&&r(e)}),t.on("hide blur",P),t.on("contextmenu longpress",T,!0)}),t.on("remove",B),{isResizable:A,showResizeRect:L,hideResizeRect:P,updateResizeRect:I,destroy:function(){n=r=null}}},Nd=function(e){return Mn(e)||$n(e)},Rd=function(e,t,n){var r,i,a,s,l,u=n;if(u.caretPositionFromPoint)(i=u.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(i.offsetNode,i.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(u.body.createTextRange){r=u.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),0<(r=(r=kt.toArray(i.getClientRects())).sort(function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))})).length){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(s){}}return null}(e,t,n)}return s=n.body,l=(a=r)&&a.parentElement?a.parentElement():null,$n(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(l,s,Nd))?null:a}return r},Ld=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Pd=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},Id=function(e){return e&&"TABLE"===e.nodeName},Od=function(e,t,n){for(var r=new jr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Bn(t))return!0},Bd=function(e,t,n,r,o){var i,a,s=e.getRoot(),l=e.schema.getNonEmptyElements(),u=e.getParent(o.parentNode,e.isBlock)||s;if(r&&Bn(o)&&t&&e.isEmpty(u))return k.some(xl(o.parentNode,e.nodeIndex(o)));for(var c,d,f=new jr(o,u);a=f[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(d=s,so(c=a)&&!1===Pd(c,d,mc)))return k.none();if(Ln(a)&&0<a.nodeValue.length)return!1===function(e,t,n){return Pd(e,t,function(e){return"A"===e.nodeName})}(a,s)?k.some(xl(a,r?a.nodeValue.length:0)):k.none();if(e.isBlock(a)||l[a.nodeName.toLowerCase()])return k.none();i=a}return n&&i?k.some(xl(i,0)):k.none()},Fd=function(e,t,n,r){var o,i,a,s=e.getRoot(),l=!1,u=r[(n?"start":"end")+"Container"],c=r[(n?"start":"end")+"Offset"],d=Sn(u)&&c===u.childNodes.length,f=e.schema.getNonEmptyElements(),h=n;if(so(u))return k.none();if(Sn(u)&&c>u.childNodes.length-1&&(h=!1),In(u)&&(u=s,c=0),u===s){if(h&&(o=u.childNodes[0<c?c-1:0])){if(so(o))return k.none();if(f[o.nodeName]||Id(o))return k.none()}if(u.hasChildNodes()){if(c=Math.min(!h&&0<c?c-1:c,u.childNodes.length-1),c=Ln(u=u.childNodes[c])&&d?u.data.length:0,!t&&u===s.lastChild&&Id(u))return k.none();if(function(e,t){for(;t&&t!==e;){if($n(t))return!0;t=t.parentNode}return!1}(s,u)||so(u))return k.none();if(u.hasChildNodes()&&!1===Id(u)){var p=new jr(o=u,s);do{if($n(o)||so(o)){l=!1;break}if(Ln(o)&&0<o.nodeValue.length){c=h?0:o.nodeValue.length,u=o,l=!0;break}if(f[o.nodeName.toLowerCase()]&&(!(i=o)||!/^(TD|TH|CAPTION)$/.test(i.nodeName))){c=e.nodeIndex(o),u=o.parentNode,h||c++,l=!0;break}}while(o=h?p.next():p.prev())}}}return t&&(Ln(u)&&0===c&&Bd(e,d,t,!0,u).each(function(e){u=e.container(),c=e.offset(),l=!0}),Sn(u)&&(!(o=(o=u.childNodes[c])||u.childNodes[c-1])||!Bn(o)||(a=o).previousSibling&&"A"===a.previousSibling.nodeName||Od(e,o,!1)||Od(e,o,!0)||Bd(e,d,t,!0,o).each(function(e){u=e.container(),c=e.offset(),l=!0}))),h&&!t&&Ln(u)&&c===u.nodeValue.length&&Bd(e,d,t,!1,u).each(function(e){u=e.container(),c=e.offset(),l=!0}),l?k.some(xl(u,c)):k.none()},Md=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=xl.fromRangeStart(t);return Fd(e,n,!0,r).each(function(e){n&&xl.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||Fd(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),Ld(t,r)?k.none():k.some(r)},$d=function(e,t){return e.splitText(t)},jd=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Ln(t)?0<n&&n<t.nodeValue.length&&(t=(r=$d(t,n)).previousSibling,n<o?(t=r=$d(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(Ln(t)&&0<n&&n<t.nodeValue.length&&(t=$d(t,n),n=0),Ln(r)&&0<o&&o<r.nodeValue.length&&(o=(r=$d(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}};function Hd(e){return{walk:function(t,n){return sd(e,t,n)},split:jd,normalize:function(t){return Md(e,t).fold(y,function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}(kd=Hd=Hd||{}).compareRanges=Ld,kd.getCaretRangeFromPoint=Rd,kd.getSelectedNode=Qs,kd.getNode=el;var zd,Ud,qd,Wd,Vd,Gd=Hd,Xd=(zd="height",Ud=function(e){var t=e.dom;return hn(e)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(e,t){if(!B(t)&&!t.match(/^[0-9]+$/))throw new Error(zd+".set accepts only positive integer values. Value was "+t);var n=e.dom;zn(n)&&(n.style[zd]=t+"px")},get:qd=function(e){var t=Ud(e);if(t<=0||null===t){var n=Yn(e,zd);return parseFloat(n)||0}return t},getOuter:qd,aggregate:Wd=function(e,t){return X(t,function(t,n){var r=Yn(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)},max:function(e,t,n){var r=Wd(e,n);return r<t?t-r:0}}),Yd=function(e,t){return e.view(t).fold(u([]),function(t){var n=e.owner(t),r=Yd(e,n);return[t].concat(r)})},Kd=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?k.none():k.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(At)},owner:zt}),Jd=function(e){return"textarea"===It(e)},Zd=function(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return gn(n.offsetLeft,n.offsetTop);var i=mn(null==r?void 0:r.pageYOffset,o.scrollTop),a=mn(null==r?void 0:r.pageXOffset,o.scrollLeft),s=mn(o.clientTop,n.clientTop),l=mn(o.clientLeft,n.clientLeft);return vn(e).translate(a-l,i-s)}(e),r=Xd.get(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},Qd=function(e,t,n,r){rf(e,function(o,i){return tf(e,t,n,r)},n)},ef=function(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};e.fire("ScrollIntoView",i).isDefaultPrevented()||(n(t,yn(t).top,r,o),e.fire("AfterScrollIntoView",i))},tf=function(e,t,n,r){At(e.getBody());var o=At(e.getDoc()),i=function(e,t){var n=function(e,t){var n=Xt(e);if(0===n.length||Jd(e))return{element:e,offset:t};if(t<n.length&&!Jd(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Jd(r)?{element:e,offset:t}:"img"===It(r)?{element:r,offset:1}:Mt(r)?{element:r,offset:bd(r).length}:{element:r,offset:Xt(r).length}}(e,t),r=_t('<span data-mce-bogus="all">\ufeff</span>');return on(n.element,r),Zd(r,function(){return dn(r)})}(At(n.startContainer),n.startOffset);ef(e,o,t,i,r),i.cleanup()},nf=function(e,t,n,r){var o=At(e.getDoc());ef(e,o,n,Zd(At(t),s),r)},rf=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(At(r),At(i));var s=e.dom.createRng();s.setStart(r,o),s.setEnd(i,a),e.selection.setRng(n)},of=function(e,t,n,r){var o=e.pos;!function(e,t,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)}(o.left,n?o.top:o.top-t+e.height,r)},af=function(e,t,n,r,o){var i=n+t,a=r.pos.top,s=r.bottom,l=n<=s-a;a<t?of(r,n,!1!==o,e):i<a?of(r,n,l?!1!==o:!0===o,e):i<s&&!l&&of(r,n,!0===o,e)},sf=function(e,t,n,r){af(e,t,e.dom.defaultView.innerHeight,n,r)},lf=function(e,t,n,r){af(e,t,e.dom.defaultView.innerHeight,n,r);var o=function(e){var t,n,r=At(document),o=yn(r),i=(n=(t=Kd).owner(e),Yd(t,n)),a=vn(e),s=G(i,function(e,t){var n=vn(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return gn(s.left+a.left+o.left,s.top+a.top+o.top)}(n.element),i=wn(window);o.top<i.y?bn(n.element,!1!==r):o.top>i.bottom&&bn(n.element,!0===r)},uf=function(e,t,n){return Qd(e,sf,t,n)},cf=function(e,t,n){return nf(e,t,sf,n)},df=function(e,t,n){return Qd(e,lf,t,n)},ff=function(e,t,n){return nf(e,t,lf,n)},hf=function(e,t,n){(e.inline?uf:df)(e,t,n)},pf=function(e){var t=tn(e).dom;return e.dom===t.activeElement},gf=function(e){return void 0===e&&(e=At(document)),k.from(e.dom.activeElement).map(At)},mf=(hr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}),vf=ut().browser,yf=function(e,t){var n=Mt(t)?bd(t).length:Xt(t).length+1;return n<e?n:e<0?0:e},bf=function(e){return mf(e.start,yf(e.soffset,e.start),e.finish,yf(e.foffset,e.finish))},xf=function(e,t){return!kn(t.dom)&&(Pt(e,t)||Lt(e,t))},wf=function(e){return function(t){return xf(e,t.start)&&xf(e,t.finish)}},Cf=function(e){return!0===e.inline||vf.isIE()},kf=function(e){return mf(At(e.startContainer),e.startOffset,At(e.endContainer),e.endOffset)},Sf=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),k.some(t)}catch(h){return k.none()}},_f=function(e){var t=Cf(e)?function(e){var t;return((t=function(e){return At(zt(e).dom.defaultView)}(e).dom.getSelection())&&0!==t.rangeCount?k.from(t.getRangeAt(0)):k.none()).map(kf).filter(wf(e))}(At(e.getBody())):k.none();e.bookmark=t.isSome()?t:e.bookmark},Tf=function(e){return(e.bookmark?e.bookmark:k.none()).bind(function(t){return n=At(e.getBody()),k.from(t).filter(wf(n)).map(bf);var n}).bind(Sf)},Ef={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Af=us.DOM,Df=function(e,t){var n=e.getParam("custom_ui_selector","","string");return null!==Af.getParent(t,function(t){return Ef.isEditorUIElement(t)||!!n&&e.dom.is(t,n)})},Nf=function(e,t){var n=t.editor;(function(e){var t=Ss(function(){_f(e)},0);e.on("init",function(){var n,r,o;e.inline&&(n=e,r=t,o=function(){r.throttle()},us.DOM.bind(document,"mouseup",o),n.on("remove",function(){us.DOM.unbind(document,"mouseup",o)})),function(e,t){var n,r;ut().browser.isIE()?(r=e).on("focusout",function(){_f(r)}):(n=t,e.on("mouseup touchend",function(e){n.throttle()})),e.on("keyup NodeChange",function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||_f(e)})}(e,t)}),e.on("remove",function(){t.cancel()})})(n),n.on("focusin",function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),(e.focusedEditor=this).fire("focus",{blurredEditor:t}),this.focus(!0))}),n.on("focusout",function(){var t=this;Br.setEditorTimeout(t,function(){var n=e.focusedEditor;Df(t,function(t){try{var n=tn(At(t.getElement()));return gf(n).fold(function(){return document.body},function(e){return e.dom})}catch(e){return document.body}}(t))||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Vd||(Vd=function(t){var n=e.activeEditor;n&&function(e){if(en()&&I(e.target)){var t=At(e.target);if(Ft(t)&&function(e){return I(e.dom.shadowRoot)}(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ne(n)}}return k.from(e.target)}(t).each(function(t){t.ownerDocument===document&&(t===document.body||Df(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))})},Af.bind(document,"focusin",Vd))},Rf=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Af.unbind(document,"focusin",Vd),Vd=null)},Lf=function(e,t){(function(e,t){return((n=t).collapsed?k.from(el(n.startContainer,n.startOffset)).map(At):k.none()).bind(function(t){return Kr(t)?k.some(t):!1===Pt(e,t)?k.some(e):k.none()});var n})(At(e.getBody()),t).bind(function(e){return hc(e.dom)}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},Pf=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},If=function(e){return e.inline?(n=e.getBody())&&function(e){return pf(e)||gf(tn(t=e)).filter(function(e){return t.dom.contains(e.dom)}).isSome();var t}(At(n)):(t=e).iframeElement&&pf(At(t.iframeElement));var t,n},Of=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===If(e)&&Tf(e).each(function(t){e.selection.setRng(t),r=t});var o,i,a=(o=e,i=t.getNode(),o.dom.getParent(i,function(e){return"true"===o.dom.getContentEditable(e)}));if(e.$.contains(n,a))return Pf(a),Lf(e,r),void Bf(e);e.inline||(yt.opera||Pf(n),e.getWin().focus()),(yt.gecko||e.inline)&&(Pf(n),Lf(e,r)),Bf(e)},Bf=function(e){return e.editorManager.setActive(e)},Ff=function(e,t,n,r,o){var i=n?t.startOffset:t.endOffset;return k.from(n?t.startContainer:t.endContainer).map(At).map(function(e){return r&&t.collapsed?e:Yt(e,o(e,i)).getOr(e)}).bind(function(e){return Ft(e)?k.some(e):Ut(e).filter(Ft)}).map(function(e){return e.dom}).getOr(e)},Mf=function(e,t,n){return Ff(e,t,!0,n,function(e,t){return Math.min(e.dom.childNodes.length,t)})},$f=function(e,t,n){return Ff(e,t,!1,n,function(e,t){return 0<t?t-1:t})},jf=function(e,t){for(var n=e;e&&Ln(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Hf=function(e,t){return U(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},zf=function(e){return O(e)?e:y},Uf=function(e,t,n){var r=t(e),o=zf(n);return r.orThunk(function(){return o(e)?k.none():function(e,t,n){for(var r=e.dom,o=zf(n);r.parentNode;){var i=At(r=r.parentNode),a=t(i);if(a.isSome())return a;if(o(i))break}return k.none()}(e,t,o)})},qf=Bc,Wf=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},Vf=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!Wf(e,t,n)||t.parentNode===o||!!Yf(e,t,n,r,!0)}),Yf(e,t,n,r))},Gf=function(e,t,n){return!!qf(t,n.inline)||!!qf(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},Xf=function(e,t,n,r,o,i){var a,s,l,u=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(u)if(void 0===u.length){for(a in u)if(u.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):Mc(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!qf(s,Fc(e,Oc(u[a],i),a)))return}}else for(l=0;l<u.length;l++)if("attributes"===r?e.getAttrib(t,u[l]):Mc(e,t,u[l]))return n;return n},Yf=function(e,t,n,r,o){var i,a,s,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(a=0;a<u.length;a++)if(Gf(e.dom,t,i=u[a])&&Xf(c,t,i,"attributes",o,r)&&Xf(c,t,i,"styles",o,r)){if(l=i.classes)for(s=0;s<l.length;s++)if(!e.dom.hasClass(t,l[s]))return;return i}},Kf=function(e,t,n,r){if(r)return Vf(e,r,t,n);if(r=e.selection.getNode(),Vf(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!Vf(e,o,t,n))},Jf=function(e,t,n){return X(n,function(n,r){var o=z(e.formatter.get(r),function(e){var t=function(e){return 1<e.length&&"%"===e.charAt(0)};return z(["styles","attributes"],function(n){return pe(e,n).exists(function(e){var n=D(e)?e:function(e){return t=[],se(e,function(e,n){t.push(e)}),t;var t}(e);return z(n,t)})})});return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n},[])},Zf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Qf=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},eh=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},th=(nh.create=function(e,t){var n=new nh(e,Zf[e]||1);return t&&se(t,function(e,t){n.attr(t,e)}),n},nh.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},nh.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&se(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}},nh.prototype.clone=function(){var e,t=new nh(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var r=0,o=e.length;r<o;r++){var i=e[r];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},nh.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},nh.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},nh.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},nh.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},nh.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},nh.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Qf(n,this))n.name===e&&t.push(n);return t},nh.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=Qf(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},nh.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this.firstChild;if(eh(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(e[r.name])return!1;if(eh(r))return!1}if(8===r.type)return!1;if(3===r.type&&!function(e){if(Eo(e.value)){var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)}}(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&Eo(r.value))return!1;if(n&&n(r))return!1}while(r=Qf(r,this));return!0},nh.prototype.walk=function(e){return Qf(this,null,e)},nh);function nh(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}var rh=kt.makeMap,oh=function(e){var t=[],n=(e=e||{}).indent,r=rh(e.indent_before||""),o=rh(e.indent_after||""),i=Yo.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,s,l){var u,c,d,f;if(n&&r[e]&&0<t.length&&0<(f=t[t.length-1]).length&&"\n"!==f&&t.push("\n"),t.push("<",e),s)for(u=0,c=s.length;u<c;u++)t.push(" ",(d=s[u]).name,'="',i(d.value,!0),'"');t[t.length]=!l||a?">":" />",l&&n&&o[e]&&0<t.length&&0<(f=t[t.length-1]).length&&"\n"!==f&&t.push("\n")},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&0<t.length&&0<(r=t[t.length-1]).length&&"\n"!==r&&t.push("\n")},text:function(e,n){0<e.length&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},ih=function(e,t){void 0===t&&(t=ii());var n=oh(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;a(e),e=e.next;);}};n.reset();var a=function(e){var r,s,l,u,c,d,f,h,p,g=i[e.type];if(g)g(e);else{if(r=e.name,s=e.shortEnded,l=e.attributes,o&&l&&1<l.length&&((d=[]).map={},p=t.getElementRule(e.name))){for(f=0,h=p.attributesOrder.length;f<h;f++)(u=p.attributesOrder[f])in l.map&&(d.map[u]=c=l.map[u],d.push({name:u,value:c}));for(f=0,h=l.length;f<h;f++)(u=l[f].name)in d.map||(d.map[u]=c=l.map[u],d.push({name:u,value:c}));l=d}if(n.start(e.name,l,s),!s){if(e=e.firstChild)for(;a(e),e=e.next;);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}},ah=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),function(e){return pe(t.uris,e).getOr(e)})},sh=["img","video"],lh=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?(o=n,!(P(r=e.allow_svg_data_urls)?H(sh,o):r)&&/^data:image\/svg\+xml/i.test(t)):/^data:/i.test(t));var r,o},uh=function(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(s.lastIndex=r=n;o=s.exec(t);){if(r=s.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r};function ch(e,t){void 0===t&&(t=ii());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,l=e.pi?e.pi:n,u=e.doctype?e.doctype:n;return{parse:function(n,c){void 0===c&&(c="html"),function(n,c){void 0===c&&(c="html");for(var d,f,h,p,g,m,v,y,b,x,w,C,k,S,_,T,E,A,D,N=n.html,R=0,L=[],P=0,I=Yo.decode,O=kt.makeMap("src,href,data,background,formaction,poster,xlink:href"),B=/((java|vb)script|mhtml):/i,F="html"===c?0:1,M=function(e){for(var t,n=L.length;n--&&L[n].name!==e;);if(0<=n){for(t=L.length-1;n<=t;t--)(e=L[t]).valid&&s(e.name);L.length=n}},$=function(e,t){return i(ah(e,n),t)},j=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(ah(t,n)))},H=function(e,t){var n=e||"",r=!Me(n,"--"),o=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(n))){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var s=a.exec(e);return s?s.index+s[0].length:r.length}(N,r,t);return e=N.substr(t,o-t),j(r?n+e:e),o+1},z=function(t,r,o,i,a){var s,l,u,c;if(u=(r=r.toLowerCase())in G?r:I(o||i||a||""),o=pe(n.uris,u).getOr(u),X&&!y&&0==(0===(c=r).indexOf("data-")||0===c.indexOf("aria-"))){if(!(s=S[r])&&_){for(l=_.length;l--&&!(s=_[l]).pattern.test(r););-1===l&&(s=null)}if(!s)return;if(s.validValues&&!(o in s.validValues))return}if(O[r]&&!e.allow_script_urls){var d=o.replace(/[\s\u0000-\u001F]+/g,"");try{d=decodeURIComponent(d)}catch(C){d=unescape(d)}if(B.test(d))return;if(lh(e,d,t))return}y&&(r in O||0===r.indexOf("on"))||(p.map[r]=o,p.push({name:r,value:o}))},U=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),q=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,W=t.getShortEndedElements(),V=e.self_closing_elements||t.getSelfClosingElements(),G=t.getBoolAttrs(),X=e.validate,Y=e.remove_internals,K=e.fix_self_closing,J=t.getSpecialElements(),Z=N+">";d=U.exec(Z);){var Q=d[0];if(R<d.index&&$(I(N.substr(R,d.index-R))),f=d[7])":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),M(f);else if(f=d[8]){if(d.index+Q.length>N.length){$(I(N.substr(d.index))),R=d.index+Q.length;continue}":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),b=f in W,K&&V[f]&&0<L.length&&L[L.length-1].name===f&&M(f);var ee=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null}(q,d[9]);if(null!==ee){if("all"===ee){R=uh(t,N,U.lastIndex),U.lastIndex=R;continue}w=!1}if(!X||(x=t.getElementRule(f))){if(w=!0,X&&(S=x.attributes,_=x.attributePatterns),(k=d[9])?((y=-1!==k.indexOf("data-mce-type"))&&Y&&(w=!1),(p=[]).map={},k.replace(q,function(e,t,n,r,o){return z(f,t,n,r,o),""})):(p=[]).map={},X&&!y){if(T=x.attributesRequired,E=x.attributesDefault,x.removeEmptyAttrs&&!p.length&&(w=!1),A=x.attributesForced)for(g=A.length;g--;)v=(C=A[g]).name,"{$uid}"===(D=C.value)&&(D="mce_"+P++),p.map[v]=D,p.push({name:v,value:D});if(E)for(g=E.length;g--;)(v=(C=E[g]).name)in p.map||("{$uid}"===(D=C.value)&&(D="mce_"+P++),p.map[v]=D,p.push({name:v,value:D}));if(T){for(g=T.length;g--&&!(T[g]in p.map););-1===g&&(w=!1)}if(C=p.map["data-mce-bogus"]){if("all"===C){R=uh(t,N,U.lastIndex),U.lastIndex=R;continue}w=!1}}w&&a(f,p,b)}else w=!1;if(h=J[f]){h.lastIndex=R=d.index+Q.length,R=(d=h.exec(N))?(w&&(m=N.substr(R,d.index-R)),d.index+d[0].length):(m=N.substr(R),N.length),w&&(0<m.length&&$(m,!0),s(f)),U.lastIndex=R;continue}b||(k&&k.indexOf("/")===k.length-1?w&&s(f):L.push({name:f,valid:w}))}else if(f=d[1])j(f);else if(f=d[2]){if(!(1==F||e.preserve_cdata||0<L.length&&t.isValidChild(L[L.length-1].name,"#cdata"))){R=H("",d.index+2),U.lastIndex=R;continue}o(f)}else if(f=d[3])u(f);else{if((f=d[4])||"<!"===Q){R=H(f,d.index+Q.length),U.lastIndex=R;continue}if(f=d[5]){if(1!=F){R=H("?",d.index+2),U.lastIndex=R;continue}l(f,d[6])}}R=d.index+Q.length}for(R<N.length&&$(I(N.substr(R))),g=L.length-1;0<=g;g--)(f=L[g]).valid&&s(f.name)}(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=Ms("img"),a=0,s=0;t=n.exec(e);){var l=t[0],u=i+"_"+s++;o[u]=l,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(u),a=t.index+l.length}return 0===a?{prefix:i,uris:o,html:e}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join("")})}(n),c)}}}(ch=ch||{}).findEndTag=uh;var dh,fh=ch,hh=function(e,t){var n,r,o,i,a,s,l,u=t,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;a=e.getTempAttrs(),s=u,l=new RegExp(["\\s?("+a.join("|")+')="[^"]+"'].join("|"),"gi"),u=s.replace(l,"");for(var f=d.getShortEndedElements();i=c.exec(u);)r=c.lastIndex,o=i[0].length,n=f[i[1]]?r:fh.findEndTag(d,u,r),u=u.substring(0,r-o)+u.substring(n),c.lastIndex=r-o;return no(u)},ph=hh,gh=kt.each,mh=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return gh(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!(!o(r(t),r(n))||!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||_c(t)||_c(n))}},vh=function(e,t,n){return k.from(n.container()).filter(Ln).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},yh=d(vh,!0,Ec),bh=d(vh,!1,Ec),xh=function(e){var t=e.container();return Ln(t)&&(0===t.data.length||to(t.data)&&Sd.isBookmarkNode(t.parentNode))},wh=function(e,t){return function(n){return k.from(Iu(e?0:-1,n)).filter(t).isSome()}},Ch=function(e){return Fn(e)&&"block"===Yn(At(e),"display")},kh=function(e){return $n(e)&&!(Sn(t=e)&&"all"===t.getAttribute("data-mce-bogus"));var t},Sh=wh(!0,Ch),_h=wh(!1,Ch),Th=wh(!0,Hn),Eh=wh(!1,Hn),Ah=wh(!0,Dn),Dh=wh(!1,Dn),Nh=wh(!0,kh),Rh=wh(!1,kh),Lh=function(e){cn(e),ln(e,_t('<br data-mce-bogus="1">'))},Ph=function(e){Jt(e).each(function(t){qt(t).each(function(n){qr(e)&&Vr(t)&&qr(n)&&dn(t)})})},Ih=function(e,t){return function(e,t,n){return Pt(t,e)?function(e,t){for(var n=O(t)?t:y,r=e.dom,o=[];null!=r.parentNode;){var i=r.parentNode,a=At(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,function(e){return n(e)||Lt(e,t)}).slice(0,-1):[]}(e,t,y)},Oh=function(e,t){return[e].concat(Ih(e,t))},Bh=function(e,t,n){return uc(e,t,n,xh)},Fh=function(e,t){return Y(Oh(At(t.container()),e),qr)},Mh=function(e,t,n){return Bh(e,t.dom,n).forall(function(e){return Fh(t,n).fold(function(){return!1===Pu(e,n,t.dom)},function(r){return!1===Pu(e,n,t.dom)&&Pt(r,At(e.container()))})})},$h=function(e,t,n){return Fh(t,n).fold(function(){return Bh(e,t.dom,n).forall(function(e){return!1===Pu(e,n,t.dom)})},function(t){return Bh(e,t.dom,n).isNone()})},jh=d($h,!1),Hh=d($h,!0),zh=d(Mh,!1),Uh=d(Mh,!0),qh=function(e){return zu(e).exists(Vr)},Wh=function(e,t,n){var r=V(Oh(At(n.container()),t),qr),o=ne(r).getOr(t);return sc(e,o.dom,n).filter(qh)},Vh=function(e,t){return zu(t).exists(Vr)||Wh(!0,e,t).isSome()},Gh=function(e,t){return k.from(t.getNode(!0)).map(At).exists(Vr)||Wh(!1,e,t).isSome()},Xh=d(Wh,!1),Yh=d(Wh,!0),Kh=function(e){return xl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Jh=function(e,t){var n=V(Oh(At(t.container()),e),qr);return ne(n).getOr(e)},Zh=function(e,t){return Kh(t)?bh(t):bh(t)||fc(Jh(e,t).dom,t).exists(bh)},Qh=function(e,t){return Kh(t)?yh(t):yh(t)||dc(Jh(e,t).dom,t).exists(yh)},ep=function(e){return zu(e).bind(function(e){return wr(e,Ft)}).exists(function(e){return t=Yn(e,"white-space"),H(["pre","pre-wrap"],t);var t})},tp=function(e,t){return!ep(t)&&(jh(e,t)||zh(e,t)||Gh(e,t)||Zh(e,t))},np=function(e,t){return!ep(t)&&(Hh(e,t)||Uh(e,t)||Vh(e,t)||Qh(e,t))},rp=function(e,t){return tp(e,t)||np(e,(r=(n=t).container(),o=n.offset(),Ln(r)&&o<r.data.length?xl(r,o+1):n));var n,r,o},op=function(e,t){return Tc(e.charAt(t))},ip=function(e){var t=e.container();return Ln(t)&&Fe(t.data,Qr)},ap=function(e){var t=At(e.getBody());e.selection.isCollapsed()&&function(e,t){return k.some(t).filter(ip).bind(function(t){var n,r,o,i,a,s,l,u,c=t.container();return a=e,l=(s=c).data,u=xl(s,0),op(l,0)&&!rp(a,u)&&(s.data=" "+l.slice(1),1)||function(e){var t,n=e.data,r=(t=n.split(""),U(t,function(e,n){return Tc(e)&&0<n&&n<t.length-1&&Ac(t[n-1])&&Ac(t[n+1])?" ":e}).join(""));return r!==n&&(e.data=r,!0)}(c)||(n=e,o=(r=c).data,i=xl(r,o.length-1),op(o,o.length-1)&&!rp(n,i)&&(r.data=o.slice(0,-1)+" ",1))?k.some(t):k.none()})}(t,xl.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},sp=function(e,t,n){var r,o,i,a,s,l,u,c;0!==n&&(r=At(e),o=xr(r,qr).getOr(r),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&np(o,kl(e,e.data.length)),s=0===t&&tp(o,kl(e,0)),e.replaceData(t,n,(u=s,c=a,X(l=i,function(e,t){return Ec(t)||Tc(t)?e.previousCharIsSpace||""===e.str&&u||e.str.length===l.length-1&&c?{previousCharIsSpace:!1,str:e.str+Qr}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:""}).str)))},lp=function(e,t){var n=e.data.slice(t),r=n.length-He(n).length;return sp(e,t,r)},up=function(e,t){var n=e.data.slice(0,t),r=n.length-ze(n).length;return sp(e,t-r,r)},cp=function(e,t,n,r){void 0===r&&(r=!0);var o=ze(e.data).length,i=r?e:t,a=r?t:e;return r?i.appendData(a.data):i.insertData(0,a.data),dn(At(a)),n&&lp(i,o),i},dp=function(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===kl.isTextPosition(n)&&o===r.parentNode&&i>kl.before(r).offset()?kl(t.container(),t.offset()-1):t;var n,r,o,i},fp=function(e){return ko(e.previousSibling)?k.some(Ln(t=e.previousSibling)?kl(t,t.data.length):kl.after(t)):e.previousSibling?pc(e.previousSibling):k.none();var t},hp=function(e){return ko(e.nextSibling)?k.some(Ln(t=e.nextSibling)?kl(t,0):kl.before(t)):e.nextSibling?hc(e.nextSibling):k.none();var t},pp=function(e,t){return fp(t).orThunk(function(){return hp(t)}).orThunk(function(){return n=e,o=kl.before((r=t).previousSibling?r.previousSibling:r.parentNode),fc(n,o).fold(function(){return dc(n,kl.after(r))},k.some);var n,r,o})},gp=function(e,t){return hp(t).orThunk(function(){return fp(t)}).orThunk(function(){return dc(n=e,kl.after(r=t)).fold(function(){return fc(n,kl.before(r))},k.some);var n,r})},mp=function(e,t,n){return(e?gp:pp)(t,n).map(d(dp,n))},vp=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},yp=function(e,t){return t&&ge(e.schema.getBlockElements(),It(t))},bp=function(e){if(Lo(e)){var t=_t('<br data-mce-bogus="1">');return cn(e),ln(e,t),k.some(kl.before(t.dom))}return k.none()},xp=function(e,t,n,r){void 0===r&&(r=!0);var o,i,a=mp(t,e.getBody(),n.dom),s=xr(n,d(yp,e),(o=e.getBody(),function(e){return e.dom===o})),l=function(e,t,n){var r,o,i,a,s=qt(e).filter(Mt),l=Wt(e).filter(Mt);return dn(e),o=l,i=t,a=function(e,t,r){var o=e.dom,i=t.dom,a=o.data.length;return cp(o,i,n),r.container()===i?kl(o,a):r},((r=s).isSome()&&o.isSome()&&i.isSome()?k.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):k.none()).orThunk(function(){return n&&(s.each(function(e){return up(e.dom,e.dom.length)}),l.each(function(e){return lp(e.dom,0)})),t})}(n,a,(i=n,ge(e.schema.getTextInlineElements(),It(i))));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind(bp).fold(function(){r&&vp(e,t,l)},function(n){r&&vp(e,t,k.some(n))})},wp=function(e,t){return{start:e,end:t}},Cp=hr([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),kp=function(e,t){return Sr(At(e),"td,th",t)},Sp=function(e,t){return Cr(e,"table",t)},_p=function(e){return!Lt(e.start,e.end)},Tp=function(e,t){return Sp(e.start,t).bind(function(n){return Sp(e.end,t).bind(function(e){return Lt(n,e)?k.some(n):k.none()})})},Ep=function(e){return Rs(e,"td,th")},Ap=function(e,t){return Tp(t,e).isSome()},Dp=function(e,t){return K(e,function(e){return Lt(e,t)})},Np=function(e){return Ws(Dp((t=e).cells,t.rng.start),Dp(t.cells,t.rng.end),function(e,n){return t.cells.slice(e,n+1)}).map(function(t){return t.length===e.cells.length?Cp.removeTable(e.table):Cp.emptyCells(t)});var t},Rp=function(e){var t;return(8===Ot(t=e)||"#comment"===It(t)?qt:Jt)(e).bind(Rp).orThunk(function(){return k.some(e)})},Lp=function(e,t){return q(t,Lh),e.selection.setCursorLocation(t[0].dom,0),!0},Pp=function(e,t,n){t.deleteContents();var r,o,i=Rp(n).getOr(n),a=At(e.dom.getParent(i.dom,e.dom.isBlock));return Lo(a)&&(Lh(a),e.selection.setCursorLocation(a.dom,0)),Lt(n,a)||(r=Ut(a).is(n)?[]:Ut(o=a).map(Xt).map(function(e){return V(e,function(e){return!Lt(o,e)})}).getOr([]),q(r.concat(Xt(n)),function(e){Lt(e,a)||Pt(e,a)||dn(e)})),!0},Ip=function(e,t){return xp(e,!1,t),!0},Op=function(e,t){return Y(Oh(t,e),Jr)},Bp=function(e,t){return Y(Oh(t,e),function(e){return"caption"===It(e)})},Fp=function(e,t){return Lh(t),e.selection.setCursorLocation(t.dom,0),k.some(!0)},Mp=function(e,t){return(e?Ah:Dh)(t)},$p=function(e,t){var n,r,o,i,a,s=At(e.selection.getStart(!0)),l=cd(e);return e.selection.isCollapsed()&&0===l.length?function(e,t,n){var r=At(e.getBody());return Bp(r,n).fold(function(){return function(e,t,n,r){var o=kl.fromRangeStart(e.selection.getRng());return Op(n,r).bind(function(r){return Lo(r)?Fp(e,r):(i=n,a=r,s=o,lc(t,e.getBody(),s).bind(function(e){return Op(i,At(e.getNode())).map(function(e){return!1===Lt(e,a)})}));var i,a,s}).getOr(!1)}(e,t,r,n)||(i=t,a=kl.fromRangeStart((o=e).selection.getRng()),Mp(i,a)||sc(i,o.getBody(),a).exists(function(e){return Mp(i,e)}));var o,i,a},function(n){return i=t,a=r,s=n,l=kl.fromRangeStart((o=e).selection.getRng()),(Lo(s)?Fp(o,s):function(e,t,n,r,o){return lc(n,e.getBody(),o).bind(function(i){return l=n,u=o,c=i,hc((s=r).dom).bind(function(e){return pc(s.dom).map(function(t){return l?u.isEqual(e)&&c.isEqual(t):u.isEqual(t)&&c.isEqual(e)})}).getOr(!0)?Fp(e,r):(a=r,Bp(t,At(i.getNode())).map(function(e){return!1===Lt(e,a)}));var a,s,l,u,c}).or(k.some(!0))}(o,a,i,s,l)).getOr(!1);var o,i,a,s,l})}(e,t,s):(r=s,o=At((n=e).getBody()),i=n.selection.getRng(),0!==(a=cd(n)).length?Lp(n,a):function(e,t,n,r){return Bp(t,r).fold(function(){return r=e,function(e,t){var n,r,o,i,a,s=(n=e,function(e){return Lt(n,e)}),l=(i=kp((r=t).startContainer,o=s),a=kp(r.endContainer,o),Ws(i,a,wp));return function(e,t,n){return e.filter(function(e){return o=n,!_p(r=e)&&Tp(r,o).exists(function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})&&hd(e.start,t);var r,o}).map(function(e){return e.start})}(l,t,s).map(function(e){return Cp.deleteCellSelection(t,e)}).orThunk(function(){return function(e,t,n){return e.filter(function(e){return _p(e)&&Ap(n,e)}).orThunk(function(){return function(e,t){var n=kp(t.startContainer,e),r=kp(t.endContainer,e);return t.collapsed?k.none():Ws(n,r,wp).fold(function(){return n.fold(function(){return r.bind(function(t){return Sp(t,e).bind(function(e){return ne(Ep(e)).map(function(e){return wp(e,t)})})})},function(t){return Sp(t,e).bind(function(e){return re(Ep(e)).map(function(e){return wp(t,e)})})})},function(t){return Ap(e,t)?k.none():Sp((n=t).start,e).bind(function(e){return re(Ep(e)).map(function(e){return wp(n.start,e)})});var n})}(n,t)}).bind(function(e){return Tp(t=e,n).map(function(e){return{rng:t,table:e,cells:Ep(e)}});var t})}(l,t,s).bind(Np)})}(t,n).map(function(e){return e.fold(d(Ip,r),d(Lp,r),d(Pp,r))});var r},function(t){return Fp(e,t)}).getOr(!1)}(n,o,i,r))},jp=function(e){return e.collapsed?e:function(e){var t=kl.fromRangeStart(e),n=kl.fromRangeEnd(e),r=e.commonAncestorContainer;return sc(!1,r,n).map(function(o){return!Pu(t,n,r)&&Pu(t,o,r)?(i=t.container(),a=t.offset(),s=o.container(),l=o.offset(),(u=document.createRange()).setStart(i,a),u.setEnd(s,l),u):e;var i,a,s,l,u}).getOr(e)}(e)},Hp=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},zp=function(e,t){var n=kl.after(e),r=rc(t).prev(n);return r?r.toRange():null},Up=jn,qp=function(e,t,n){var r,o,i,a,s,l,u,c,d,f=e.selection,h=e.dom;/^ | $/.test(t)&&(l=h,u=f.getRng(),c=t,d=At(l.getRoot()),c=tp(d,kl.fromRangeStart(u))?c.replace(/^ /,"&nbsp;"):c.replace(/^&nbsp;/," "),t=c=np(d,kl.fromRangeEnd(u))?c.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):c.replace(/&nbsp;(<br( \/)?>)?$/," "));var p=e.parser,g=n.merge,m=ih({validate:e.getParam("validate")},e.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',y={content:t,format:"html",selection:!0,paste:n.paste};if((y=e.fire("BeforeSetContent",y)).isDefaultPrevented())e.fire("SetContent",{content:y.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=y.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,v);var b,x=(a=f.getRng()).startContainer||(a.parentElement?a.parentElement():null),w=e.getBody();x===w&&f.isCollapsed()&&h.isBlock(w.firstChild)&&(b=w.firstChild)&&!e.schema.getShortEndedElements()[b.nodeName]&&h.isEmpty(w.firstChild)&&((a=h.createRng()).setStart(w.firstChild,0),a.setEnd(w.firstChild,0),f.setRng(a)),f.isCollapsed()||function(e){var t=e.dom,n=jp(e.selection.getRng());e.selection.setRng(n);var r,o,i=t.getParent(n.startContainer,Up);r=n,null!==(o=i)&&o===t.getParent(r.endContainer,Up)&&hd(At(o),r)?Pp(e,n,At(i)):e.getDoc().execCommand("Delete",!1,null)}(e);var C,S,_,T,E,A,D,N,R,L,P,I,O,B={context:(r=f.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},F=p.parse(t,B);if(!0===n.paste&&function(e,t){var n,r,o,i=t.firstChild,a=t.lastChild;return i&&"meta"===i.name&&(i=i.next),a&&"mce_marker"===a.attr("id")&&(a=a.prev),r=a,o=(n=e).getNonEmptyElements(),r&&(r.isEmpty(o)||function(e,t){var n,r;return e.getBlockElements()[t.name]&&(r=t).firstChild&&r.firstChild===r.lastChild&&("br"===(n=t.firstChild).name||n.value===Qr)}(n,r))&&(a=a.prev),!(!i||i!==a||"ul"!==i.name&&"ol"!==i.name)}(e.schema,F)&&Hp(h,r))return a=function(e,t,n,r){var o,i,a,s,l,u,c,d,f,h,p,g,m,v,y,b,x,w=(o=t,l=e.serialize(r),a=(i=o.createFragment(l)).firstChild,s=i.lastChild,a&&"META"===a.nodeName&&a.parentNode.removeChild(a),s&&"mce_marker"===s.id&&s.parentNode.removeChild(s),i),C=Hp(t,n.startContainer),k=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&((t=e.firstChild).data===Qr||Bn(t));var t}(t))?e.slice(0,-1):e;var t}(kt.grep(w.firstChild.childNodes,function(e){return"LI"===e.nodeName})),S=t.getRoot(),_=function(e){var r=kl.fromRangeStart(n),o=rc(t.getRoot()),i=1===e?o.prev(r):o.next(r);return!i||Hp(t,i.getNode())!==C};return _(1)?function(e,t,n){var r,o,i,a=e.parentNode;return kt.each(t,function(t){a.insertBefore(t,e)}),r=n,o=kl.before(e),(i=rc(r).next(o))?i.toRange():null}(C,k,S):_(2)?(u=C,d=S,t.insertAfter((c=k).reverse(),u),zp(c[0],d)):(h=k,p=S,g=f=C,v=(m=n).cloneRange(),y=m.cloneRange(),v.setStartBefore(g),y.setEndAfter(g),b=[v.cloneContents(),y.cloneContents()],(x=f.parentNode).insertBefore(b[0],f),kt.each(h,function(e){x.insertBefore(e,f)}),x.insertBefore(b[1],f),x.removeChild(f),zp(h[h.length-1],p))}(m,h,f.getRng(),F),f.setRng(a),void e.fire("SetContent",y);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(F),"mce_marker"===(s=F.lastChild).attr("id"))for(s=(i=s).prev;s;s=s.walk(!0))if(3===s.type||!h.isBlock(s.name)){e.schema.isValidChild(s.parent.name,"span")&&s.parent.insert(i,s,"br"===s.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),B.invalid){for(e.selection.setContent(v),r=f.getNode(),o=e.getBody(),9===r.nodeType?r=s=o:s=r;s!==o;)s=(r=s).parentNode;t=r===o?o.innerHTML:h.getOuterHTML(r),t=m.serialize(p.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return m.serialize(F)}))),r===o?h.setHTML(o,t):h.setOuterHTML(r,t)}else C=e,S=t=m.serialize(F),"all"===(_=r).getAttribute("data-mce-bogus")?_.parentNode.insertBefore(C.dom.createFragment(S),_):!(T=_.firstChild)||T===_.lastChild&&"BR"===T.nodeName?C.dom.setHTML(_,S):C.selection.setContent(S);A=g,R=(E=e).schema.getTextInlineElements(),L=E.dom,A&&(D=E.getBody(),N=new mh(L),kt.each(L.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==D;t=t.parentNode)R[e.nodeName.toLowerCase()]&&N.compare(t,e)&&L.remove(e,!0)})),function(e,t){var n,r,o=e.dom,i=e.selection;if(t){i.scrollIntoView(t);var a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===o.getContentEditable(t))return t;return null}(t);if(a)return o.remove(t),i.select(a);var s=o.createRng(),l=t.previousSibling;l&&3===l.nodeType?(s.setStart(l,l.nodeValue.length),yt.ie||(r=t.nextSibling)&&3===r.nodeType&&(l.appendData(r.data),r.parentNode.removeChild(r))):(s.setStartBefore(t),s.setEndBefore(t));var u=o.getParent(t,o.isBlock);o.remove(t),u&&o.isEmpty(u)&&(e.$(u).empty(),s.setStart(u,0),s.setEnd(u,0),Up(u)||u.getAttribute("data-mce-fragment")||!(n=function(t){var n=kl.fromRangeStart(t);if(n=rc(e.getBody()).next(n))return n.toRange()}(s))?o.add(u,o.create("br",{"data-mce-bogus":"1"})):(s=n,o.remove(u))),i.setRng(s)}}(e,h.get("mce_marker")),P=e.getBody(),kt.each(P.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),I=h,O=f.getStart(),k.from(I.getParent(O,"td,th")).map(At).each(Ph),e.fire("SetContent",y),e.addVisual()}},Wp=function(e,t){t(e),e.firstChild&&Wp(e.firstChild,t),e.next&&Wp(e.next,t)},Vp=function(e,t,n){var r=function(e,t,n){var r={},o={},i=[];for(var a in n.firstChild&&Wp(n.firstChild,function(n){q(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),q(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})}),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var s in o)o.hasOwnProperty(s)&&i.push(o[s]);return i}(e,t,n);q(r,function(e){q(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},Gp=function(e){return e instanceof th},Xp=function(e,t){var n;e.dom.setHTML(e.getBody(),t),If(n=e)&&hc(n.getBody()).each(function(e){var t=e.getNode(),r=Dn(t)?hc(t).getOr(e):e;n.selection.setRng(r.toRange())})},Yp=eo,Kp="_mce_caret",Jp=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Yp||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},Zp=function(e){if(e){var t=new jr(e,e);for(e=t.current();e;e=t.next())if(Ln(e))return e}return null},Qp=function(e){var t=Tt("span");return Wn(t,{id:Kp,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ln(t,Et(Yp)),t},eg=function(e,t,n){void 0===n&&(n=!0);var r,o,i,a,s,l,u,c,d=e.dom,f=e.selection;Jp(t)?xp(e,!1,At(t),n):(r=f.getRng(),o=d.getParent(t,d.isBlock),i=r.startContainer,a=r.startOffset,s=r.endContainer,l=r.endOffset,(c=Zp(t))&&c.nodeValue.charAt(0)===Yp&&c.deleteData(0,1),u=c,d.remove(t,!0),i===u&&0<a&&r.setStart(u,a-1),s===u&&0<l&&r.setEnd(u,l-1),o&&d.isEmpty(o)&&Lh(At(o)),f.setRng(r))},tg=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)eg(e,t,n);else if(!(t=vc(e.getBody(),o.getStart())))for(;t=r.get(Kp);)eg(e,t,!1)},ng=function(e,t){return e.appendChild(t),t},rg=function(e,t){var n=G(e,function(e,t){return ng(e,t.cloneNode(!1))},t);return ng(n,n.ownerDocument.createTextNode(Yp))},og=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(It(t))&&!mc(t.dom)&&!An(t.dom)},ig={},ag=xe,sg=ye;dh=function(e){var t,n=e.selection.getRng(),r=_n(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),sg(ag(ag(t,r),function(e){return r(e.previousSibling)&&-1!==we(t,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,ts(n=e).remove(),ts(t).append("<br><br>").append(n.childNodes)}))},ig.pre||(ig.pre=[]),ig.pre.push(dh);var lg,ug,cg=kt.each,dg=function(e){return Sn(e)&&!_c(e)&&!mc(e)&&!An(e)},fg=function(e,t){for(var n=e;n;n=n[t]){if(Ln(n)&&0!==n.nodeValue.length)return e;if(Sn(n)&&!_c(n))return n}return e},hg=function(e,t,n){var r,o,i=new mh(e);if(t&&n&&(t=fg(t,"previousSibling"),n=fg(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)r=(o=r).nextSibling,t.appendChild(o);return e.remove(n),kt.each(kt.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},pg=function(e,t,n,r){var o;r&&!1!==t.merge_siblings&&(o=hg(e,Rc(r),r),hg(e,o,Rc(o,!0)))},gg=function(e,t,n){cg(e.childNodes,function(e){dg(e)&&(t(e)&&n(e),e.hasChildNodes()&&gg(e,t,n))})},mg=function(e,t){return function(n){return!(!n||!Mc(e,n,t))}},vg=function(e,t,n){return function(r){var o,i;e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),o=e,"SPAN"===(i=r).nodeName&&0===o.getAttribs(i).length&&o.remove(i,!0)}},yg=hr([{keep:[]},{rename:["name"]},{removed:[]}]),bg=/^(src|href|style)$/,xg=kt.each,wg=Bc,Cg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},kg=function(e,t,n){var r,o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];return Sn(o)&&(!n&&i&&i--,o=o.childNodes[(r=o.childNodes.length-1)<i?r:i]),Ln(o)&&n&&i>=o.nodeValue.length&&(o=new jr(o,e.getBody()).next()||o),Ln(o)&&!n&&0===i&&(o=new jr(o,e.getBody()).prev()||o),o},Sg=function(e,t){var n=t?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(e.nodeName)&&e[n]){var r=e[n];return"TR"===e.nodeName&&r[n]||r}return e},_g=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},Tg=function(e,t,n,r,o){var i=At(t),a=At(e.create(r,o)),s=(n?Gt:Vt)(i);return un(a,s),n?(on(i,a),sn(a,i)):(an(i,a),ln(a,i)),a.dom},Eg=function(e,t,n,r){return!(t=Rc(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},Ag=function(e,t,n,r,o){var i,a,s,l,u,c=e.dom;if(s=c,!(wg(l=r,(u=t).inline)||wg(l,u.block)||u.selector&&Sn(l)&&s.is(l,u.selector)||(a=r,t.links&&"A"===a.nodeName)))return yg.keep();var d,f,h,p,g,m,v,y=r;if(t.inline&&"all"===t.remove&&D(t.preserve_attributes)){var b=V(c.getAttribs(y),function(e){return H(t.preserve_attributes,e.name.toLowerCase())});if(c.removeAllAttribs(y),q(b,function(e){return c.setAttrib(y,e.name,e.value)}),0<b.length)return yg.rename("span")}if("all"!==t.remove){xg(t.styles,function(e,r){e=Fc(c,Oc(e,n),r+""),B(r)&&(r=e,o=null),!t.remove_similar&&o&&!wg(Mc(c,o,r),e)||c.setStyle(y,r,""),i=!0}),i&&""===c.getAttrib(y,"style")&&(y.removeAttribute("style"),y.removeAttribute("data-mce-style")),xg(t.attributes,function(e,r){var i;if(e=Oc(e,n),B(r)&&(r=e,o=null),t.remove_similar||!o||wg(c.getAttrib(o,r),e)){if("class"===r&&(e=c.getAttrib(y,r))&&(i="",q(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i))return void c.setAttrib(y,r,i);"class"===r&&y.removeAttribute("className"),bg.test(r)&&y.removeAttribute("data-mce-"+r),y.removeAttribute(r)}}),xg(t.classes,function(e){e=Oc(e,n),o&&!c.hasClass(o,e)||c.removeClass(y,e)});for(var x=c.getAttribs(y),w=0;w<x.length;w++){var C=x[w].nodeName;if(0!==C.indexOf("_")&&0!==C.indexOf("data-"))return yg.keep()}}return"none"!==t.remove?(h=t,g=(f=y).parentNode,m=(d=e).dom,v=Xl(d),h.block&&(v?g===m.getRoot()&&(h.list_block&&wg(f,h.list_block)||q(oe(f.childNodes),function(e){Pc(d,v,e.nodeName.toLowerCase())?p?p.appendChild(e):(p=_g(m,e,v),m.setAttribs(p,d.settings.forced_root_block_attrs)):p=0})):m.isBlock(f)&&!m.isBlock(g)&&(Eg(m,f,!1)||Eg(m,f.firstChild,!0,!0)||f.insertBefore(m.create("br"),f.firstChild),Eg(m,f,!0)||Eg(m,f.lastChild,!1,!0)||f.appendChild(m.create("br")))),h.selector&&h.inline&&!wg(h.inline,f)||m.remove(f,!0),yg.removed()):yg.keep()},Dg=function(e,t,n,r,o){return Ag(e,t,n,r,o).fold(y,function(t){return e.dom.rename(r,t),!0},b)},Ng=function(e,t,n,r,o){var i,a=e.formatter.get(t),s=a[0],l=!0,c=e.dom,f=e.selection,h=function(r){var i,l,c,d,f,h=(l=t,c=n,d=o,q(jc((i=e).dom,r.parentNode).reverse(),function(e){var t;f||"_start"===e.id||"_end"===e.id||(t=Yf(i,e,l,c,d))&&!1!==t.split&&(f=e)}),f);return function(e,t,n,r,o,i,a,s){var l,c,d,f=e.dom;if(n){for(var h=n.parentNode,p=r.parentNode;p&&p!==h;p=p.parentNode){l=f.clone(p,!1);for(var g=0;g<t.length&&null!==(l=function(e,t,n,r){return Ag(e,t,n,r,r).fold(u(r),function(t){return e.dom.createFragment().appendChild(r),e.dom.rename(r,t)},u(null))}(e,t[g],s,l));g++);l&&(c&&l.appendChild(c),d=d||l,c=l)}a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),d.appendChild(o),a.inline&&pg(f,a,0,c))}return r}(e,a,h,r,r,0,s,n)},p=function(t){var r,o;Sn(t)&&c.getContentEditable(t)&&(r=l,l="true"===c.getContentEditable(t),o=!0);var i=oe(t.childNodes);if(l&&!o)for(var u=0;u<a.length&&!Dg(e,a[u],n,t,t);u++);if(s.deep&&i.length){for(u=0;u<i.length;u++)p(i[u]);o&&(l=r)}},g=function(e){var t,n=c.get(e?"_start":"_end"),r=n[e?"firstChild":"lastChild"];return _c(t=r)&&Sn(t)&&("_start"===t.id||"_end"===t.id)&&(r=r[e?"firstChild":"lastChild"]),Ln(r)&&0===r.data.length&&(r=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),c.remove(n,!0),r},m=function(t){var n,r,o=id(e,t,a,t.collapsed);if(s.split){if(o=jd(o),(n=kg(e,o,!0))!==(r=kg(e,o))){if(n=Sg(n,!0),r=Sg(r,!1),Cg(c,n,r)){var i=k.from(n.firstChild).getOr(n);return h(Tg(c,i,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void g(!0)}if(Cg(c,r,n))return i=k.from(r.lastChild).getOr(r),h(Tg(c,i,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void g(!1);n=_g(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=_g(c,r,"span",{id:"_end","data-mce-type":"bookmark"});var l=c.createRng();l.setStartAfter(n),l.setEndBefore(r),sd(c,l,function(e){q(e,function(e){_c(e)||_c(e.parentNode)||h(e)})}),h(n),h(r),n=g(!0),r=g()}else n=r=h(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=c.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=c.nodeIndex(r)+1}sd(c,o,function(t){q(t,function(t){p(t),q(["underline","line-through","overline"],function(n){Sn(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&$c(c,t.parentNode)===n&&Dg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)})})})};if(r)Dc(r)?((i=c.createRng()).setStartBefore(r),i.setEndAfter(r),m(i)):m(r);else if("false"!==c.getContentEditable(f.getNode()))f.isCollapsed()&&s.inline&&!cd(e).length?function(e,t,n,r){var o,i,a,s,l,u,c,f,h,p,g,m,v,y=e.dom,b=e.selection,x=[],w=b.getRng(),C=w.startContainer,S=C;for(3===C.nodeType&&(w.startOffset!==C.nodeValue.length&&(o=!0),S=S.parentNode);S;){if(Yf(e,S,t,n,r)){i=S;break}S.nextSibling&&(o=!0),x.push(S),S=S.parentNode}i&&(o?(a=b.getBookmark(),w.collapse(!0),s=id(e,w,e.formatter.get(t),!0),s=jd(s),e.formatter.remove(t,n,s,r),b.moveToBookmark(a)):(l=vc(e.getBody(),i),p=u=Qp(!1).dom,(v=(m=(h=e).dom).getParent(g=null!==l?l:i,d(Lc,h)))&&m.isEmpty(v)?g.parentNode.replaceChild(p,g):(function(e){var t=Rs(e,"br"),n=V(function(e){for(var t=[],n=e.dom;n;)t.push(At(n)),n=n.lastChild;return t}(e).slice(-1),Vr);t.length===n.length&&q(n,dn)}(At(g)),m.isEmpty(g)?g.parentNode.replaceChild(p,g):m.insertAfter(p,g)),c=function(e,t,n,r,o,i){var a=e.formatter,s=e.dom,l=V(ie(a.get()),function(e){return e!==r&&!Fe(e,"removeformat")}),u=Jf(e,n,l);if(0<V(u,function(t){return!Hc(e,t,r)}).length){var c=n.cloneNode(!1);return s.add(t,c),a.remove(r,o,c,i),s.remove(c),k.some(c)}return k.none()}(e,u,i,t,n,r),f=rg(x.concat(c.toArray()),u),eg(e,l,!1),b.setCursorLocation(f,1),y.isEmpty(i)&&y.remove(i)))}(e,t,n,o):(vd(f,!0,function(){md(e,m)}),s.inline&&Kf(e,t,n,f.getStart())&&Nc(c,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var v=0;v<a.length&&(!a[v].ceFalseOverride||!Dg(e,a[v],n,r,r));v++);}},Rg=kt.each,Lg=kt.each,Pg=me,Ig=function(e,t,n,r){var o,i,a,s,l=e.formatter.get(t),u=l[0],c=!r&&e.selection.isCollapsed(),d=e.dom,f=e.selection,h=function(e,t){var o;t=t||u,e&&(t.onformat&&t.onformat(e,t,n,r),Lg(t.styles,function(t,r){d.setStyle(e,r,Oc(t,n))}),!t.styles||(o=d.getAttrib(e,"style"))&&d.setAttrib(e,"data-mce-style",o),Lg(t.attributes,function(t,r){d.setAttrib(e,r,Oc(t,n))}),Lg(t.classes,function(t){t=Oc(t,n),d.hasClass(e,t)||d.addClass(e,t)}))},p=function(e,t){var n=!1;return!!Uc(u)&&(Lg(e,function(e){if(!("collapsed"in e)||e.collapsed===c)return d.is(t,e.selector)&&!mc(t)?(h(t,e),!(n=!0)):void 0}),n)},g=function(r,o,i,a){var s=[],c=!0,d=u.inline||u.block,f=r.create(d);h(f),sd(r,o,function(o){var i,g=function(o){var m=!1,v=c,y=o.nodeName.toLowerCase(),b=o.parentNode.nodeName.toLowerCase();if(Sn(o)&&r.getContentEditable(o)&&(v=c,c="true"===r.getContentEditable(o),m=!0),Bn(o)&&!function(e,t,n,r){if(e.getParam("format_empty_lines",!1,"boolean")&&qc(t)){var o=_e(_e({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=function(e,t){return r=t,((o=(n=e).dom).parentNode?function(e,t){return Y(e.dom.childNodes,function(e){return function(e){return!Lt(n,e)&&r(e)}(At(e))}).map(At)}(At(o.parentNode)):k.none()).isSome();var n,r,o}(At(n),function(e){return mc(e.dom)});return me(o,r)&&Lo(At(n.parentNode),!1)&&!i}return!1}(e,u,o,b))return i=null,void(zc(u)&&r.remove(o));if(u.wrapper&&Yf(e,o,t,n))i=null;else{if(c&&!m&&zc(u)&&!u.wrapper&&Lc(e,y)&&Pc(e,b,d)){var x=r.rename(o,d);return h(x),s.push(x),void(i=null)}if(Uc(u)){var w=p(l,o);if(!Pg(u,"inline")||w)return void(i=null)}!c||m||!Pc(e,d,y)||!Pc(e,b,d)||!a&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||mc(o)||Pg(u,"inline")&&r.isBlock(o)?(i=null,Lg(kt.grep(o.childNodes),g),m&&(c=v),i=null):(i||(i=r.clone(f,!1),o.parentNode.insertBefore(i,o),s.push(i)),i.appendChild(o))}};Lg(o,g)}),!0===u.links&&Lg(s,function(e){var t=function(e){"A"===e.nodeName&&h(e,u),Lg(kt.grep(e.childNodes),t)};t(e)}),Lg(s,function(o){var i,a,c,d,f,p,g,m,v,y,b,x,w,C,k,S,_,T,E,A=(i=0,Lg(o.childNodes,function(e){var t;I(t=e)&&Ln(t)&&0===t.length||_c(e)||i++}),i);!(1<s.length)&&r.isBlock(o)||0!==A?(qc(u)||u.wrapper)&&(u.exact||1!==A||((E=function(e){var t=!1;return Lg(e.childNodes,function(e){if((n=e)&&1===n.nodeType&&!_c(n)&&!mc(n)&&!An(n))return t=e,!1;var n}),t}(_=o))&&!_c(E)&&Gf(r,E,u)&&(T=r.clone(E,!1),h(T),r.replace(T,_,!0),r.remove(E,!0)),o=T||_),function(e,t,n,r){Rg(t,function(t){var o,i;Rg(e.dom.select(t.inline,r),function(r){dg(r)&&Dg(e,t,n,r,t.exact?r:null)}),o=e.dom,(i=t).clear_child_styles&&cg(o.select(i.links?"*:not(a)":"*",r),function(e){dg(e)&&cg(i.styles,function(t,n){o.setStyle(e,n,"")})})})}(e,l,n,o),w=u,Yf(x=e,(S=o).parentNode,C=t,k=n)&&Dg(x,w,k,S)||w.merge_with_parents&&x.dom.getParent(S.parentNode,function(e){if(Yf(x,e,C,k))return Dg(x,w,k,S),!0}),v=r,b=n,(y=u).styles&&y.styles.backgroundColor&&gg(o,mg(v,"fontSize"),vg(v,"backgroundColor",Oc(y.styles.backgroundColor,b))),f=r,g=o,m=function(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=$c(f,e.parentNode),f.getStyle(e,"color")&&t?f.setStyle(e,"text-decoration",t):f.getStyle(e,"text-decoration")===t&&f.setStyle(e,"text-decoration",null))},(p=u).styles&&(p.styles.color||p.styles.textDecoration)&&(kt.walk(g,m,"childNodes"),m(g)),a=r,d=o,"sub"!==(c=u).inline&&"sup"!==c.inline||(gg(d,mg(a,"fontSize"),vg(a,"fontSize","")),a.remove(a.select("sup"===c.inline?"sub":"sup",d),!0)),pg(r,u,0,o)):r.remove(o,!0)})};if("false"!==d.getContentEditable(f.getNode()))u&&(r?Dc(r)?p(l,r)||((o=d.createRng()).setStartBefore(r),o.setEndAfter(r),g(d,id(e,o,l),0,!0)):g(d,r,0,!0):c&&qc(u)&&!cd(e).length?function(e,t,n){var r,o=e.selection,i=o.getRng(),a=i.startOffset,s=i.startContainer.nodeValue,l=vc(e.getBody(),o.getStart());l&&(r=Zp(l));var u,c,d,f,h=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&0<a&&a<s.length&&h.test(s.charAt(a))&&h.test(s.charAt(a-1))?(u=o.getBookmark(),i.collapse(!0),c=id(e,i,e.formatter.get(t)),c=jd(c),e.formatter.apply(t,n,c),o.moveToBookmark(u)):(l&&r.nodeValue===Yp||(d=e.getDoc(),f=Qp(!0).dom,r=(l=d.importNode(f,!0)).firstChild,i.insertNode(l),a=1),e.formatter.apply(t,n,l),o.setCursorLocation(r,a))}(e,t,n):(i=f.getNode(),a=l[0],e.settings.forced_root_block||!a.defaultBlock||d.getParent(i,d.isBlock)||Ig(e,a.defaultBlock),f.setRng(jp(f.getRng())),vd(f,!0,function(t){md(e,function(t,n){var r=n?t:id(e,t,l);g(d,r)})}),Nc(d,f,f.getRng()),e.nodeChanged()),s=e,sg(ig[t],function(e){e(s)}));else{r=f.getNode();for(var m=0,v=l.length;m<v;m++){var y=l[m];if(y.ceFalseOverride&&Uc(y)&&d.is(r,y.selector))return void h(r,y)}}},Og=function(e,t){var n=(t||document).createDocumentFragment();return q(e,function(e){n.appendChild(e.dom)}),At(n)},Bg=function(e,t,n){return{element:e,width:t,rows:n}},Fg=function(e,t){return{element:e,cells:t}},Mg=function(e,t){var n=parseInt(Vn(e,t),10);return isNaN(n)?1:n},$g=function(e){return X(e,function(e,t){return t.cells.length>e?t.cells.length:e},0)},jg=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Lt(o[i],t))return k.some({x:i,y:r});return k.none()},Hg=function(e,t,n,r,o){for(var i=[],a=e.rows,s=n;s<=o;s++){var l=a[s].cells,u=t<r?l.slice(t,r+1):l.slice(r,t+1);i.push(Fg(a[s].element,u))}return i},zg=function(e){return n=U((t=e).rows,function(e){var t=U(e.cells,function(e){var t=zs(e);return Xn(t,"colspan"),Xn(t,"rowspan"),t}),n=Hs(e.element);return un(n,t),n}),r=Hs(t.element),o=Tt("tbody"),un(o,n),ln(r,o),r;var t,n,r,o},Ug=function(){return Og([])},qg=function(e,t){return 0<=t&&t<e.length&&Ec(e.charAt(t))},Wg=function(e,t){var n=no(e.innerText);return t?n.replace(/^[ \f\n\r\t\v]+/,""):n},Vg=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,(n=e.fire("BeforeGetContent",n)).isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return function(e){return k.from(e.selection.getRng()).map(function(t){var n=k.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),o=n.map(function(e){return e.nodeName}).getOr("div").toLowerCase(),i=yt.browser.isIE()&&"pre"!==o,a=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),s=Wg(a,i),l=no(a.textContent);if(e.dom.remove(a),qg(l,0)||qg(l,l.length-1)){var u=n.getOr(r),c=Wg(u,i),d=c.indexOf(s);return-1===d?s:(qg(c,d-1)?" ":"")+s+(qg(c,d+s.length)?" ":"")}return s}).getOr("")}(e);n.getInner=!0;var r,o,i,a,s,l,c,f=(o=n,i=(r=e).selection.getRng(),a=r.dom.create("body"),s=r.selection.getSel(),l=Hf(r,ld(s)),(c=o.contextual?function(e,t){var n,r,o=ud(t,e);return 0<o.length?function(e,t){return Cr(t[0],"table",d(Lt,e)).bind(function(e){var n=t[0],r=t[t.length-1];return function(e,t,n){return jg(e,t).bind(function(t){return jg(e,n).map(function(n){return r=e,a=(o=t).x,l=(i=n).x,c=(s=o.y)<(u=i.y)?Hg(r,a,s,l,u):Hg(r,a,u,l,s),Bg(r.element,$g(c),c);var r,o,i,a,s,l,u,c})})}(function(e){var t=Bg(Hs(e),0,[]);return q(Rs(e,"tr"),function(e,n){q(Rs(e,"td,th"),function(r,o){!function(e,t,n,r,o){for(var i=Mg(o,"rowspan"),a=Mg(o,"colspan"),s=e.rows,l=n;l<n+i;l++){s[l]||(s[l]=Fg(zs(r),[]));for(var u=t;u<t+a;u++)s[l].cells[u]=l===n&&u===t?o:Hs(o)}}(t,function(e,t,n){for(;((o=e.rows)[r=n]?o[r].cells:[])[t];)t++;var r,o;return t}(t,o,n),n,e,r)})}),Bg(t.element,$g(t.rows),t.rows)}(e),n,r).map(function(e){return Og([zg(e)])})}).getOrThunk(Ug)}(e,o):(n=e,0<(r=t).length&&r[0].collapsed?Ug():function(e,t){return n=At(t.cloneContents()),r=function(e,t){var n,r=At(t.commonAncestorContainer),o=Oh(r,e),i=V(o,function(e){return Wr(e)||Ur(e)}),a=function(e,t){return Y(e,function(e){return"li"===It(e)&&hd(e,t)}).fold(u([]),function(t){return Y(e,function(e){return"ul"===It(e)||"ol"===It(e)}).map(function(e){var t=Tt(It(e));return function(e,t){var n=e.dom;se(t,function(e,t){!function(e,t,n){if(!E(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);zn(e)&&e.style.setProperty(t,n)}(n,t,e)})}(t,he(Zn(e),function(e,t){return Me(t,"list-style")})),[Tt("li"),t]}).getOr([])})}(o,t),s=i.concat(a.length?a:Yr(n=r)?Ut(n).filter(Xr).fold(u([]),function(e){return[n,e]}):Xr(n)?[n]:[]);return U(s,Hs)}(e,t),o=X(r,function(e,t){return ln(t,e),t},n),0<r.length?Og([o]):o;var n,r,o}(n,r[0]))}(At(r.getBody()),l).dom:i.cloneContents())&&a.appendChild(c),r.selection.serializer.serialize(a,o));return"tree"===n.format?f:(n.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",n),n.content)},Gg=function(e){return Sn(e)?e.outerHTML:Ln(e)?Yo.encodeRaw(e.data,!1):Pn(e)?"\x3c!--"+e.data+"--\x3e":""},Xg=ms(k.none()),Yg=function(e){var t,n=(t=e.getBody(),V(U(oe(t.childNodes),Gg),function(e){return 0<e.length})),r=J(n,function(t){var n=hh(e.serializer,t);return 0<n.length?[n]:[]}),o=r.join("");return-1!==o.indexOf("</iframe>")?{type:"fragmented",fragments:r,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:o,bookmark:null,beforeBookmark:null}},Kg=function(e,t,n){"fragmented"===t.type?function(e,t){var n,r,o,i,a,s,l,u,c,d=U(oe(t.childNodes),Gg);!function(e,t){var n=0;q(e,function(e){var r,o,i;0===e[0]?n++:1===e[0]?(function(e,t,n){var r,o=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t);e.hasChildNodes()&&n<e.childNodes.length?(r=e.childNodes[n]).parentNode.insertBefore(o,r):e.appendChild(o)}(t,e[1],n),n++):2===e[0]&&(o=n,(r=t).hasChildNodes()&&o<r.childNodes.length&&(i=r.childNodes[o]).parentNode.removeChild(i))})}((o=(n=d).length+(r=e).length+2,i=new Array(o),a=new Array(o),s=function(e,t,o,i,a){var l=u(e,t,o,i);if(null===l||l.start===t&&l.diag===t-i||l.end===e&&l.diag===e-o)for(var c=e,d=o;c<t||d<i;)c<t&&d<i&&n[c]===r[d]?(a.push([0,n[c]]),++c,++d):i-o<t-e?(a.push([2,n[c]]),++c):(a.push([1,r[d]]),++d);else{s(e,l.start,o,l.start-l.diag,a);for(var f=l.start;f<l.end;++f)a.push([0,n[f]]);s(l.end,t,l.end-l.diag,i,a)}},l=function(e,t,o,i){for(var a=e;a-t<i&&a<o&&n[a]===r[a-t];)++a;return{start:e,end:a,diag:t}},u=function(e,t,o,s){var u=t-e,c=s-o;if(0==u||0==c)return null;var d,f,h,p,g,m=u-c,v=c+u,y=(v%2==0?v:1+v)/2;for(i[1+y]=e,a[1+y]=t+1,d=0;d<=y;++d){for(f=-d;f<=d;f+=2){for(i[h=f+y]=f===-d||f!==d&&i[h-1]<i[h+1]?i[h+1]:i[h-1]+1,g=(p=i[h])-e+o-f;p<t&&g<s&&n[p]===r[g];)i[h]=++p,++g;if(m%2!=0&&m-d<=f&&f<=m+d&&a[h-m]<=i[h])return l(a[h-m],f+e-o,t,s)}for(f=m-d;f<=m+d;f+=2){for(a[h=f+y-m]=f===m-d||f!==m+d&&a[h+1]<=a[h-1]?a[h+1]-1:a[h-1],g=(p=a[h]-1)-e+o-f;e<=p&&o<=g&&n[p]===r[g];)a[h]=p--,g--;if(m%2==0&&-d<=f&&f<=d&&a[h]<=i[h+m])return l(a[h],f+e-o,t,s)}}},s(0,n.length,0,r.length,c=[]),c),t)}(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Jg=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Zg=function(e){var t=Tt("body",Xg.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return Xg.set(k.some(e)),e}));return $s(t,Jg(e)),q(Rs(t,"*[data-mce-bogus]"),fn),t.dom.innerHTML},Qg=function(e,t){return!(!e||!t)&&(r=t,Jg(e)===Jg(r)||(n=t,Zg(e)===Zg(n)));var n,r},em=function(e){return 0===e.get()},tm=function(e,t,n){em(n)&&(e.typing=t)},nm=function(e,t){e.typing&&(tm(e,!1,t),e.add())},rm=function(e){return e instanceof th},om=function(e,t){Vp(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},im=function(e){return{undoManager:{beforeChange:function(t,n){return r=e,o=n,void(em(t)&&o.set(k.some(ql(r.selection))));var r,o},addUndoLevel:function(t,n,r,o,i,a){return function(e,t,n,r,o,i,a){var s=Yg(e);if(i=kt.extend(i=i||{},s),!1===em(r)||e.removed)return null;var l=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:l,originalEvent:a}).isDefaultPrevented())return null;if(l&&Qg(l,i))return null;t.data[n.get()]&&o.get().each(function(e){t.data[n.get()].beforeBookmark=e});var u=e.getParam("custom_undo_redo_levels",0,"number");if(u&&t.data.length>u){for(var c=0;c<t.data.length-1;c++)t.data[c]=t.data[c+1];t.data.length--,n.set(t.data.length)}i.bookmark=ql(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var d={level:i,lastLevel:l,originalEvent:a};return 0<n.get()?(e.setDirty(!0),e.fire("AddUndo",d),e.fire("change",d)):e.fire("AddUndo",d),i}(e,t,n,r,o,i,a)},undo:function(t,n,r){return o=e,a=n,s=r,(i=t).typing&&(i.add(),i.typing=!1,tm(i,!1,a)),0<s.get()&&(s.set(s.get()-1),l=i.data[s.get()],Kg(o,l,!0),o.setDirty(!0),o.fire("Undo",{level:l})),l;var o,i,a,s,l},redo:function(t,n){return r=e,i=n,(o=t).get()<i.length-1&&(o.set(o.get()+1),a=i[o.get()],Kg(r,a,!1),r.setDirty(!0),r.fire("Redo",{level:a})),a;var r,o,i,a},clear:function(t,n){return r=e,i=n,(o=t).data=[],i.set(0),o.typing=!1,void r.fire("ClearUndos");var r,o,i},reset:function(e){return(t=e).clear(),void t.add();var t},hasUndo:function(t,n){return r=e,o=t,0<n.get()||o.typing&&o.data[0]&&!Qg(Yg(r),o.data[0]);var r,o},hasRedo:function(e,t){return n=e,t.get()<n.data.length-1&&!n.typing;var n},transact:function(e,t,n){return o=n,nm(r=e,t),r.beforeChange(),r.ignore(o),r.add();var r,o},ignore:function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:function(t,n,r,o){return i=e,s=n,l=o,void((a=t).transact(r)&&(u=a.data[s.get()].bookmark,c=a.data[s.get()-1],Kg(i,c,!0),a.transact(l)&&(a.data[s.get()-1].beforeBookmark=u)));var i,a,s,l,u,c}},formatter:{match:function(t,n,r){return Kf(e,t,n,r)},matchAll:function(t,n){return o=t,i=n,a=[],s={},l=(r=e).selection.getStart(),r.dom.getParent(l,function(e){for(var t=0;t<o.length;t++){var n=o[t];!s[n]&&Yf(r,e,n,i)&&(s[n]=!0,a.push(n))}},r.dom.getRoot()),a;var r,o,i,a,s,l},matchNode:function(t,n,r,o){return Yf(e,t,n,r,o)},canApply:function(t){return function(e,t){var n,r,o,i,a,s=e.formatter.get(t),l=e.dom;if(s)for(n=e.selection.getStart(),r=jc(l,n),i=s.length-1;0<=i;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;0<=o;o--)if(l.is(r[o],a))return!0}return!1}(e,t)},closest:function(t){return function(e,t){var n=function(t){return Lt(t,At(e.getBody()))};return k.from(e.selection.getStart(!0)).bind(function(r){return Uf(At(r),function(n){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r.isSome())return r}return k.none()}(t,function(t){return Yf(e,n.dom,r=t)?k.some(r):k.none();var r})},n)}).getOrNull()}(e,t)},apply:function(t,n,r){return Ig(e,t,n,r)},remove:function(t,n,r,o){return Ng(e,t,n,r,o)},toggle:function(t,n,r){return a=n,s=r,l=(o=e).formatter.get(i=t),void(!Kf(o,i,a,s)||"toggle"in l[0]&&!l[0].toggle?Ig:Ng)(o,i,a,s);var o,i,a,s,l},formatChanged:function(t,n,r,o){return function(e,t,n,r,o){var i,a,s,l,u,c,d,f;return null===t.get()&&(a=e,s=ms({}),(i=t).set({}),a.on("NodeChange",function(e){!function(e,t,n,r){var o=ie(n.get()),i={},a={},s=V(jc(e.dom,t),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});se(r,function(t,n){kt.each(s,function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(q(t.callbacks,function(e){e(!0,{node:r,format:n,parents:s})}),i[n]=t.callbacks),a[n]=t.callbacks,!1):!Wf(e,r,n)&&void 0})});var l=function(e,t,n,r){return fe(e,function(e,o){return!!ge(t,o)||(q(e,function(e){e(!1,{node:n,format:o,parents:r})}),!1)}).t}(n.get(),a,t,s);n.set(_e(_e({},i),l))}(a,e.element,s,i.get())})),u=n,c=r,d=o,f=(l=t).get(),q(u.split(","),function(e){f[e]||(f[e]={similar:d,callbacks:[]}),f[e].callbacks.push(c)}),l.set(f),{unbind:function(){return o=n,i=r,a=(e=t).get(),q(o.split(","),function(e){a[e].callbacks=V(a[e].callbacks,function(e){return e!==i}),0===a[e].callbacks.length&&delete a[e]}),void e.set(a);var e,o,i,a}}}(e,t,n,r,o)}},editor:{getContent:function(t,n){return o=t,i=n,k.from((r=e).getBody()).fold(u("tree"===o.format?new th("body",11):""),function(e){return function(e,t,n,r){var o,i,a,s,l;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),o="raw"===t.format?kt.trim(ph(e.serializer,r.innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":no(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):(a=(i=e).serializer.serialize(r,t),s=Xl(i),l=new RegExp("^(<"+s+"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/"+s+">[\r\n]*|<br \\/>[\r\n]*)$"),a.replace(l,"")),t.content=H(["text","tree"],t.format)||Zr(At(r))?o:kt.trim(o),t.no_events||e.fire("GetContent",t),t.content}(r,o,i,e)});var r,o,i},setContent:function(t,n){return function(e,t,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=Gp(t)?"":t,n.no_events||e.fire("BeforeSetContent",n),Gp(t)||(t=n.content),k.from(e.getBody()).fold(u(t),function(r){return Gp(t)?function(e,t,n,r){Vp(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=ih({validate:e.validate},e.schema).serialize(n);return r.content=Zr(At(t))?o:kt.trim(o),Xp(e,r.content),r.no_events||e.fire("SetContent",r),n}(e,r,t,n):(o=e,i=r,s=n,0===(a=t).length||/^\s+$/.test(a)?(u='<br data-mce-bogus="1">',"TABLE"===i.nodeName?a="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(i.nodeName)&&(a="<li>"+u+"</li>"),a=(l=Xl(o))&&o.schema.isValidChild(i.nodeName.toLowerCase(),l.toLowerCase())?(a=u,o.dom.createHTML(l,Yl(o),a)):a||'<br data-mce-bogus="1">',Xp(o,a),o.fire("SetContent",s)):("raw"!==s.format&&(a=ih({validate:o.validate},o.schema).serialize(o.parser.parse(a,{isRootContent:!0,insert:!0}))),s.content=Zr(At(i))?a:kt.trim(a),Xp(o,s.content),s.no_events||o.fire("SetContent",s)),s.content);var o,i,a,s,l,u})}(e,t,n)},insertContent:function(t,n){return qp(e,t,n)},addVisual:function(t){return o=(n=e).dom,i=I(r=t)?r:n.getBody(),L(n.hasVisual)&&(n.hasVisual=n.getParam("visual",!0,"boolean")),q(o.select("table,a",i),function(e){switch(e.nodeName){case"TABLE":var t=n.getParam("visual_table_class","mce-item-table","string"),r=o.getAttrib(e,"border");r&&"0"!==r||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t);break;case"A":var i,a;o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,a=n.getParam("visual_anchor_class","mce-item-anchor","string"),i&&n.hasVisual?o.addClass(e,a):o.removeClass(e,a))}}),void n.fire("VisualAid",{element:r,hasVisual:n.hasVisual});var n,r,o,i}},selection:{getContent:function(t,n){return Vg(e,t,n)}},raw:{getModel:function(){return k.none()}}}},am=function(e,t){var n=function(e){return A(e)?e:{}},r=m("Unimplemented feature for rtc");return{undoManager:{beforeChange:s,addUndoLevel:r,undo:function(){return t.undo(),{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},redo:function(){return t.redo(),{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},clear:r,reset:r,hasUndo:function(){return t.hasUndo()},hasRedo:function(){return t.hasRedo()},transact:function(e,n,r){return t.transact(r),{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},ignore:r,extra:r},formatter:{match:function(e,r,o){return t.matchFormat(e,n(r))},matchAll:r,matchNode:r,canApply:function(e){return t.canApplyFormat(e)},closest:function(e){return t.closestFormat(e)},apply:function(e,r,o){return t.applyFormat(e,n(r))},remove:function(e,r,o,i){return t.removeFormat(e,n(r))},toggle:function(e,r,o){return t.toggleFormat(e,n(r))},formatChanged:function(e,n,r,o){return t.formatChanged(n,r,o)}},editor:{getContent:function(n,r){if("html"!==r&&"tree"!==r)return im(e).editor.getContent(n,r);var o=t.getContent(),i=ih({inner:!0});return om(e,o),"tree"===r?o:i.serialize(o)},setContent:function(n,r){var o=rm(n)?n:e.parser.parse(n,{isRootContent:!0,insert:!0});return t.setContent(o),n},insertContent:function(n,r){var o=k.from(e.selection.getStart(!0)).map(function(e){return e.nodeName.toLowerCase()}).fold(function(){return{}},function(e){return{context:e}}),i=rm(n)?n:e.parser.parse(n,_e(_e({},o),{insert:!0}));t.insertContent(i)},addVisual:function(e){}},selection:{getContent:function(n,r){if("html"!==n&&"tree"!==n)return im(e).selection.getContent(n,r);var o=t.getSelectedContent(),i=ih({});return om(e,o),"tree"===n?o:i.serialize(o)}},raw:{getModel:function(){return k.some(t.getRawModel())}}}},sm=function(e){return ge(e.plugins,"rtc")},lm=function(e){return e.rtcInstance?e.rtcInstance:im(e)},um=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},cm=function(e){return 0===e.dom.length?(dn(e),k.none()):k.some(e)},dm=function(e,t,n,r){e.bind(function(e){return(r?up:lp)(e.dom,r?e.dom.length:0),t.filter(Mt).map(function(t){return o=n,a=e.dom,s=t.dom,l=(i=r)?a.length:s.length,void(i?(cp(a,s,!1,!i),o.setStart(s,l)):(cp(s,a,!1,!i),o.setEnd(s,l)));var o,i,a,s,l})}).orThunk(function(){var e;return(e=r,t.filter(function(e){return Sd.isBookmarkNode(e.dom)}).bind(e?Wt:qt).or(t).filter(Mt)).map(function(e){return n=r,void Ut(t=e).each(function(e){var r=t.dom;n&&tp(e,kl(r,0))?lp(r,0):!n&&np(e,kl(r,r.length))&&up(r,r.length)});var t,n})})},fm=function(e,t,n){var r;e&&e.hasOwnProperty(t)&&(0===(r=V(e[t],function(e){return e!==n})).length?delete e[t]:e[t]=r)},hm=function(e){return!!e.select},pm=function(e){return!(!e||!e.ownerDocument)&&Pt(At(e.ownerDocument),At(e))},gm=function(e,t,n,r){var o,i,a,s,l,u,c=function(e,t){return l||(l={},u={},s.on("NodeChange",function(e){var t=e.element,n=a.getParents(t,null,a.getRoot()),r={};kt.each(l,function(e,t){kt.each(n,function(o){if(a.is(o,t))return u[t]||(kt.each(e,function(e){e(!0,{node:o,selector:t,parents:n})}),u[t]=e),r[t]=e,!1})}),kt.each(u,function(e,o){r[o]||(delete u[o],kt.each(e,function(e){e(!1,{node:t,selector:o,parents:n})}))})})),l[e]||(l[e]=[]),l[e].push(t),{unbind:function(){fm(l,e,t),fm(u,e,t)}}},d=function(e,t){return function(e,t,n){void 0===n&&(n={});var r,o,i=(r=t,_e(_e({format:"html"},n),{set:!0,selection:!0,content:r}));i.no_events||!(i=e.fire("BeforeSetContent",i)).isDefaultPrevented()?(n.content=function(e,t){if("raw"===t.format)return t.content;var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,_e(_e({isRootContent:!0,forced_root_block:!1},o),t));return ih({validate:e.validate},e.schema).serialize(i)}(e,i),function(e,t){var n=k.from(t.firstChild).map(At),r=k.from(t.lastChild).map(At);e.deleteContents(),e.insertNode(t);var o=n.bind(qt).filter(Mt).bind(cm),i=r.bind(Wt).filter(Mt).bind(cm);dm(o,n,e,!0),dm(i,r,e,!1),e.collapse(!1)}(o=e.selection.getRng(),o.createContextualFragment(n.content)),e.selection.setRng(o),hf(e,o),i.no_events||e.fire("SetContent",i)):e.fire("SetContent",i)}(r,e,t)},f=function(e){var t=p();t.collapse(!!e),g(t)},h=function(){return t.getSelection?t.getSelection():t.document.selection},p=function(){var n,a,s,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(u){return-1}};if(!t)return null;var c=t.document;if(null==c)return null;if(void 0!==r.bookmark&&!1===If(r)){var d=Tf(r);if(d.isSome())return d.map(function(e){return Hf(r,[e])[0]}).getOr(c.createRange())}try{(n=h())&&!kn(n.anchorNode)&&(a=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=Hf(r,[a])[0])}catch(l){}return(a=a||(c.createRange?c.createRange():c.body.createTextRange())).setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),o&&i&&(0===u(a.START_TO_START,a,o)&&0===u(a.END_TO_END,a,o)?a=i:i=o=null),a},g=function(e,t){var n;if((a=e)&&(hm(a)||pm(a.startContainer)&&pm(a.endContainer))){var a,s=hm(e)?e:null;if(s){i=null;try{s.select()}catch(l){}}else{var u=h();if(e=r.fire("SetSelectionRange",{range:e,forward:t}).range,u){i=e;try{u.removeAllRanges(),u.addRange(e)}catch(l){}!1===t&&u.extend&&(u.collapse(e.endContainer,e.endOffset),u.extend(e.startContainer,e.startOffset)),o=0<u.rangeCount?u.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!u.setBaseAndExtent||yt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),u.anchorNode===e.startContainer&&u.focusNode===e.endContainer||u.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},m=function(){var t=h(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||kn(n)||kn(r))return!0;var o=e.createRng();o.setStart(n,t.anchorOffset),o.collapse(!0);var i=e.createRng();return i.setStart(r,t.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},v={bookmarkManager:null,controlSelection:null,dom:a=e,win:t,serializer:n,editor:s=r,collapse:f,setCursorLocation:function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),g(o),f(!1)):(pd(e,o,r.getBody(),!0),g(o))},getContent:function(e){return function(e,t){var n,r;return void 0===t&&(t={}),n=t.format?t.format:"html",r=t,um(e).selection.getContent(n,r)}(r,e)},setContent:d,getBookmark:function(e,t){return y.getBookmark(e,t)},moveToBookmark:function(e){return y.moveToBookmark(e)},select:function(t,n){var r,o;return r=e,o=n,k.from(t).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(pd(r,n,e,!0),pd(r,n,e,!1)),n}).each(g),t},isCollapsed:function(){var e=p(),t=h();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:m,setNode:function(t){return d(e.getOuterHTML(t)),t},getNode:function(){return function(e,t){var n,r;if(!t)return e;n=t.startContainer,r=t.endContainer;var o=t.startOffset,i=t.endOffset,a=t.commonAncestorContainer;return!t.collapsed&&(n===r&&i-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),3===n.nodeType&&3===r.nodeType&&(n=n.length===o?jf(n.nextSibling,!0):n.parentNode,r=0===i?jf(r.previousSibling,!1):r.parentNode,n&&n===r))?n:a&&3===a.nodeType?a.parentNode:a}(r.getBody(),p())},getSel:h,setRng:g,getRng:p,getStart:function(e){return Mf(r.getBody(),p(),e)},getEnd:function(e){return $f(r.getBody(),p(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||Mf(a,t,t.collapsed),e.isBlock),r=e.getParent(r||$f(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r)for(var s=new jr(o=n,a);(o=s.next())&&o!==r;)e.isBlock(o)&&i.push(o);return r&&n!==r&&r!==a&&i.push(r),i}(e,p(),t,n)},normalize:function(){var t=p(),n=h();if(1<ld(n).length||!gd(r))return t;var o=Md(e,t);return o.each(function(e){g(e,m())}),o.getOr(t)},selectorChanged:function(e,t){return c(e,t),v},selectorChangedWithUnbind:c,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){var n;((n=r).inline?cf:ff)(n,e,t)},placeCaretAt:function(e,t){return g(Rd(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=p();return e.collapsed?kl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=o=i=null,b.destroy()}},y=Sd(v),b=Dd(v,r);return v.bookmarkManager=y,v.controlSelection=b,v},mm=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},vm=function(e,t){var n;try{n=atob(t)}catch(ck){return k.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return k.some(new Blob([r],{type:e}))},ym=function(e){return 0===e.indexOf("blob:")?(t=e,new _r(function(e,r){var o=function(){r("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){200===this.status?e(this.response):o()},i.onerror=o,i.send()}catch(n){o()}})):0===e.indexOf("data:")?(n=e,new _r(function(e){var t=mm(n);vm(t.type,t.data).fold(function(){return e(new Blob([]))},e)})):null;var t,n},bm=0,xm=function(e){return(e||"blobid")+bm++},wm=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new th("br",1)).shortEnded=!0:r.empty().append(new th("#text",3)).value=Qr},Cm=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},km=function(e,t,n,r){return r.isEmpty(t,n,function(t){return(n=e.getElementRule(t.name))&&n.paddEmpty;var n})},Sm=kt.makeMap,_m=kt.each,Tm=kt.explode,Em=kt.extend,Am=function(e,t){void 0===t&&(t=ii());var n={},r=[],o={},i={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a,s=function(e){var t,a,s=e.name;s in n&&((a=o[s])?a.push(e):o[s]=[e]),t=r.length;for(;t--;)(s=r[t].name)in e.attributes.map&&((a=i[s])?a.push(e):i[s]=[e]);return e},l={schema:t,addAttributeFilter:function(e,t){_m(Tm(e),function(e){for(var n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){_m(Tm(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:s,parse:function(a,l){var u,c,d,f,h,p,g,m,v=[];l=l||{},o={},i={};var y,b=Em(Sm("script,style,head,html,body,title,meta,param"),t.getBlockElements()),x=t.getNonEmptyElements(),w=t.children,C=e.validate,k=!1===(y="forced_root_block"in l?l.forced_root_block:e.forced_root_block)?"":!0===y?"p":y,S=t.getWhiteSpaceElements(),_=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/,D=S.hasOwnProperty(l.context)||S.hasOwnProperty(e.root_name),N=function(e,t){var r,i=new th(e,t);return e in n&&((r=o[e])?r.push(i):o[e]=[i]),i},R=function(e){for(var n,r,o,i=t.getBlockElements(),a=e.prev;a&&3===a.type;){if(0<(r=a.value.replace(T,"")).length)return void(a.value=r);if(n=a.next){if(3===n.type&&n.value.length){a=a.prev;continue}if(!i[n.name]&&"script"!==n.name&&"style"!==n.name){a=a.prev;continue}}o=a.prev,a.remove(),a=o}},L=fh({validate:C,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){m.append(N("#cdata",4)).value=e},text:function(e,t){var n,r;D||(e=e.replace(E," "),(r=m.lastChild)&&(b[r.name]||"br"===r.name)&&(e=e.replace(_,""))),0!==e.length&&((n=N("#text",3)).raw=!!t,m.append(n).value=e)},comment:function(e){m.append(N("#comment",8)).value=e},pi:function(e,t){m.append(N(e,7)).value=t,R(m)},doctype:function(e){m.append(N("#doctype",10)).value=e,R(m)},start:function(e,n,o){var a,s,l,u,c=C?t.getElementRule(e):{};if(c){for((a=N(c.outputName||e,1)).attributes=n,a.shortEnded=o,m.append(a),(u=w[m.name])&&w[a.name]&&!u[a.name]&&v.push(a),s=r.length;s--;)(l=r[s].name)in n.map&&((p=i[l])?p.push(a):i[l]=[a]);b[e]&&R(a),o||(m=a),!D&&S[e]&&(D=!0)}},end:function(n){var r,o,i,a,s,u=C?t.getElementRule(n):{};if(u){if(b[n]&&!D){if((r=m.firstChild)&&3===r.type)if(0<(o=r.value.replace(_,"")).length)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)i=r.next,0!==(o=r.value).length&&!A.test(o)||(r.remove(),r=i),r=i;if((r=m.lastChild)&&3===r.type)if(0<(o=r.value.replace(T,"")).length)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)i=r.prev,0!==(o=r.value).length&&!A.test(o)||(r.remove(),r=i),r=i}if(D&&S[n]&&(D=!1),u.removeEmpty&&km(t,x,S,m))return a=m.parent,b[m.name]?m.empty().remove():m.unwrap(),void(m=a);u.paddEmpty&&(Cm(s=m,"#text")&&s.firstChild.value===Qr||km(t,x,S,m))&&wm(e,l,b,m),m=m.parent}}},t),P=m=new th(l.context||e.root_name,11);if(L.parse(a,l.format),C&&v.length&&(l.context?l.invalid=!0:function(e){for(var n,r,o,i,a,l,u,c,d,f,h=Sm("tr,td,th,tbody,thead,tfoot,table"),p=t.getNonEmptyElements(),g=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),v=t.getSpecialElements(),y=0;y<e.length;y++)if((n=e[y]).parent&&!n.fixed)if(m[n.name]&&"li"===n.parent.name){for(d=n.next;d&&m[d.name];)d.name="li",d.fixed=!0,n.parent.insert(d,n.parent),d=d.next;n.unwrap(n)}else{for(o=[n],r=n.parent;r&&!t.isValidChild(r.name,n.name)&&!h[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),i=a=s(o[0].clone()),c=0;c<o.length-1;c++){for(t.isValidChild(a.name,o[c].name)?(l=s(o[c].clone()),a.append(l)):l=a,u=o[c].firstChild;u&&u!==o[c+1];)f=u.next,l.append(u),u=f;a=l}km(t,p,g,i)?r.insert(n,o[0],!0):(r.insert(i,o[0],!0),r.insert(n,i)),(km(t,p,g,r=o[0])||Cm(r,"br"))&&r.empty().remove()}else if(n.parent){if("li"===n.name){if((d=n.prev)&&("ul"===d.name||"ol"===d.name)){d.append(n);continue}if((d=n.next)&&("ul"===d.name||"ol"===d.name)){d.insert(n,d.firstChild,!0);continue}n.wrap(s(new th("ul",1)));continue}t.isValidChild(n.parent.name,"div")&&t.isValidChild("div",n.name)?n.wrap(s(new th("div",1))):v[n.name]?n.empty().remove():n.unwrap()}}}(v)),k&&("body"===P.name||l.isRootContent)&&function(){var n,r,o=P.firstChild,i=function(e){e&&((o=e.firstChild)&&3===o.type&&(o.value=o.value.replace(_,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(T,"")))};if(t.isValidChild(P.name,k.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!b[o.name]&&!o.attr("data-mce-type")?(r||((r=N(k,1)).attr(e.forced_root_block_attrs),P.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!l.invalid){for(g in o)if(o.hasOwnProperty(g)){for(p=n[g],f=(u=o[g]).length;f--;)u[f].parent||u.splice(f,1);for(c=0,d=p.length;c<d;c++)p[c](u,g,l)}for(c=0,d=r.length;c<d;c++)if((p=r[c]).name in i){for(f=(u=i[p.name]).length;f--;)u[f].parent||u.splice(f,1);for(f=0,h=p.callbacks.length;f<h;f++)p.callbacks[f](u,p.name,l)}}return P}};return function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,s,l,u,c,d,f,h=e.length,p=kt.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),m=n.getWhiteSpaceElements();for(p.body=1,i=0;i<h;i++)if(s=(a=e[i]).parent,p[a.parent.name]&&a===s.lastChild){for(u=a.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){"br"===c&&(a=null);break}u=u.prev}a&&(a.remove(),km(n,g,m,s)&&(d=n.getElementRule(s.name))&&(d.removeEmpty?s.remove():d.paddEmpty&&wm(t,o,p,s)))}else{for(l=a;s&&s.firstChild===l&&s.lastChild===l&&!p[(l=s).name];)s=s.parent;l===s&&!0!==t.padd_empty_with_br&&((f=new th("#text",3)).value=Qr,a.replace(f))}}),e.addAttributeFilter("href",function(e){var n,r,o=e.length;if(!t.allow_unsafe_link_target)for(;o--;){var i=e[o];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",(r=(n=i.attr("rel"))?kt.trim(n):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r,o=e.length;o--;)"ul"!==(r=(n=e[o]).parent).name&&"ol"!==r.name||(n.prev&&"li"===n.prev.name?n.prev.append(n):((t=new th("li",1)).attr("style","list-style-type: none"),n.wrap(t)))}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,s,l,u=e.length,c=n.getValidClasses();u--;){for(r=(t=e[u]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],l=!1,(s=c["*"])&&s[i]&&(l=!0),s=c[t.name],!l&&s&&s[i]&&(l=!0),l&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}}),function(e,t){var n=t.blob_cache,r=function(e){var r,o,i=e.attr("src");(r=e).attr("src")===yt.transparentSrc||r.attr("data-mce-placeholder")||e.attr("data-mce-bogus")||((o=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(i))?k.some({type:o[1],data:decodeURIComponent(o[2])}):k.none()).filter(function(){return function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),se(e.attributes.map,function(e,t){n.setAttribute(t,e)}),t.images_dataimg_filter(n)}return!0}(e,t)}).bind(function(e){var t=e.type,r=e.data;return k.from(n.getByData(r,t)).orThunk(function(){return vm(t,r).map(function(e){var t=n.create(xm(),e,r);return n.add(t),t})})}).each(function(t){e.attr("src",t.blobUri())})};n&&e.addAttributeFilter("src",function(e){return q(e,r)})}(e,t)}(l,e),(a=e).inline_styles&&function(e,t){var n,r=si();t.convert_fonts_to_spans&&function(e,t,n){e.addNodeFilter("font",function(e){q(e,function(e){var r,o=t.parse(e.attr("style")),i=e.attr("color"),a=e.attr("face"),s=e.attr("size");i&&(o.color=i),a&&(o["font-family"]=a),s&&(o["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(o)),r=e,q(["color","face","size"],function(e){r.attr(e,null)})})})}(e,r,kt.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",function(e){q(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})}(l,a),l},Dm=function(e,t,n){-1===kt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},Nm=function(e,t){var n=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:us.DOM,o=t&&t.schema?t.schema:ii(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var i,a,s,l=Am(e,o);return a=e,s=r,(i=l).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}),i.addAttributeFilter("src,href,style",function(e,t){for(var n,r,o=e.length,i="data-mce-"+t,l=a.url_converter,u=a.url_converter_scope;o--;)void 0!==(r=(n=e[o]).attr(i))?(n.attr(t,0<r.length?r:null),n.attr(i,null)):(r=n.attr(t),"style"===t?r=s.serializeStyle(s.parseStyle(r),n.name):l&&(r=l.call(u,r,t,n.name)),n.attr(t,0<r.length?r:null))}),i.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),i.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attr("data-mce-type")||n.cleanup||(k.from(r.firstChild).exists(function(e){return!to(e.value)})?r.unwrap():r.remove())}),i.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Yo.decode(t.value))}),i.addNodeFilter("script,style",function(e,t){for(var n,r,o,i=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)r=(n=e[i]).firstChild?n.firstChild.value:"","script"===t?((o=n.attr("type"))&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===a.element_format&&0<r.length&&(n.firstChild.value="// <![CDATA[\n"+s(r)+"\n// ]]>")):"xhtml"===a.element_format&&0<r.length&&(n.firstChild.value="\x3c!--\n"+s(r)+"\n--\x3e")}),i.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],a.preserve_cdata&&0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=s.decode(t.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),i.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}),i.addAttributeFilter("data-mce-type",function(e){q(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(i.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),i.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:o,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(n,i){void 0===i&&(i={});var a,s,u,c,d,f,h,p,g,m,v,y=_e({format:"html"},i),b=function(e,t,n){return o=n,(r=e)&&r.hasEventListeners("PreProcess")&&!o.no_events?function(e,t,n){var r,o,i=e.dom;t=t.cloneNode(!0);var a,s,l=document.implementation;return l.createHTMLDocument&&(r=l.createHTMLDocument(""),kt.each("BODY"===t.nodeName?t.childNodes:[t],function(e){r.body.appendChild(r.importNode(e,!0))}),t="BODY"!==t.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),a=e,s=_e(_e({},n),{node:t}),a.fire("PreProcess",s),o&&(i.doc=o),t}(e,t,n):t;var r,o}(t,n,y),x=(a=b,u=no((s=y).getInner?a.innerHTML:r.getOuterHTML(a)),s.selection||Zr(At(a))?u:kt.trim(u)),w=(c=l,d=x,m=(f=y).selection?_e({forced_root_block:!1},f):f,!(p=function(e){return e&&"br"===e.name})(g=(v=c.parse(d,m)).lastChild)||p(h=g.prev)&&(g.remove(),h.remove()),v);return"tree"===y.format?w:function(e,t,n,r,o){var i,a,s,l,u,c;return a=e,i=r,l=ih(t,n).serialize(i),(s=o).no_events||!a?l:(u=a,c=_e(_e({},s),{content:l}),u.fire("PostProcess",c).content)}(t,e,o,w,y)},addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:d(Dm,l,n),getTempAttrs:function(){return n},getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters}}(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},Rm=function(e,t,n){return void 0===n&&(n={}),r=t,o=n,lm(e).editor.setContent(r,o);var r,o},Lm=us.DOM,Pm=function(e){return k.from(e).each(function(e){return e.destroy()})},Im=Object.prototype.hasOwnProperty,Om=(lg=function(e,t){return A(e)&&A(t)?Om(e,t):t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)Im.call(o,i)&&(n[i]=lg(n[i],o[i]))}return n}),Bm=ut().deviceType,Fm=Bm.isTouch(),Mm=Bm.isPhone(),$m=Bm.isTablet(),jm=["lists","autolink","autosave"],Hm={table_grid:!1,object_resizing:!1,resize:!1},zm=function(e){var t=D(e)?e.join(" "):e,n=U(E(t)?t.split(" "):[],je);return V(n,function(e){return 0<e.length})},Um=function(e,t){return e.sections().hasOwnProperty(t)},qm=function(e,t){return pe(e,"toolbar_mode").orThunk(function(){return pe(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)},Wm=function(e,t,n){return k.from(t.settings[n]).filter(e)},Vm=(ug={},{add:function(e,t){ug[e]=t},get:function(e){return ug[e]?ug[e]:{icons:{}}},has:function(e){return ge(ug,e)}}),Gm=function(e,t){return t.dom[e]},Xm=function(e,t){return parseInt(Yn(t,e),10)},Ym=d(Gm,"clientWidth"),Km=d(Gm,"clientHeight"),Jm=d(Xm,"margin-top"),Zm=d(Xm,"margin-left"),Qm=function(e,t,n){var r,o,i,a,s,l,u,c,d,f,h=At(e.getBody()),p=e.inline?h:At(zt(h).dom.documentElement),g=(r=e.inline,i=t,a=n,s=(o=p).dom.getBoundingClientRect(),{x:i-(r?s.left+o.dom.clientLeft+Zm(o):0),y:a-(r?s.top+o.dom.clientTop+Jm(o):0)});return u=g.x,c=g.y,d=Ym(l=p),f=Km(l),0<=u&&0<=c&&u<=d&&c<=f};function ev(e){var t,n=[],r=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},o=function(){return k.from(n[0])},i=function(){0<n.length&&r().reposition(n)},a=function(e){K(n,function(t){return t===e}).each(function(e){n.splice(e,1)})},s=function(t,s){if(void 0===s&&(s=!0),!e.removed&&function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return k.from(t).map(At).map(hn).getOr(!1)}(e))return s&&e.fire("BeforeOpenNotification",{notification:t}),Y(n,function(e){return!((n=r().getArgs(e)).type!==(o=t).type||n.text!==o.text||n.progressBar||n.timeout||o.progressBar||o.timeout);var n,o}).getOrThunk(function(){e.editorManager.setActive(e);var s=r().open(t,function(){a(s),i(),o().fold(function(){return e.focus()},function(e){return At(e.getEl()).dom.focus()})});return n.push(s),i(),e.fire("OpenNotification",_e({},s)),s})};return(t=e).on("SkinLoaded",function(){var e=t.getParam("service_message");e&&s({text:e,type:"warning",timeout:0},!1)}),t.on("ResizeEditor ResizeWindow NodeChange",function(){Br.requestAnimationFrame(i)}),t.on("remove",function(){q(n.slice(),function(e){r().close(e)})}),{open:s,close:function(){o().each(function(e){r().close(e),a(e),i()})},getNotifications:function(){return n}}}var tv,nv,rv=ks.PluginManager,ov=ks.ThemeManager,iv=function(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(n){e.fire("CloseWindow",{dialog:n}),0===(t=V(t,function(e){return e!==n})).length&&e.focus()},i=function(n){e.editorManager.setActive(e),_f(e);var r=n();return function(n){t.push(n),e.fire("OpenWindow",{dialog:n})}(r),r};return e.on("remove",function(){q(t,function(e){n().close(e)})}),{open:function(e,t){return i(function(){return n().open(e,t,o)})},openUrl:function(e){return i(function(){return n().openUrl(e,o)})},alert:function(e,t,o){n().alert(e,r(o||this,t))},confirm:function(e,t,o){n().confirm(e,r(o||this,t))},close:function(){k.from(t[t.length-1]).each(function(e){n().close(e),o(e)})}}},av=function(e,t){e.notificationManager.open({type:"error",text:t})},sv=function(e,t){e._skinLoaded?av(e,t):e.on("SkinLoaded",function(){av(e,t)})},lv=function(e,t,n){e.fire(t,{message:n}),console.error(n)},uv=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},cv=function(e,t,n){lv(e,"PluginLoadError",uv("plugin",t,n))},dv=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,Te([e],t)):r.log.apply(r,Te([e],t)))},fv=0,hv=function(e){return e+fv+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t},pv=kt.each,gv=us.DOM,mv=function(e,t){var n,r,o,i=t&&t.schema||ii({}),a=function(e){var t,n,o=gv.create((r="string"==typeof e?{name:e,classes:[],attrs:{}}:e).name);return t=o,(n=r).classes.length&&gv.addClass(t,n.classes.join(" ")),gv.setAttribs(t,n.attrs),o},s=function(e,t,n){var r,o,l,u,c,d,f,h=0<t.length&&t[0],p=h&&h.name,g=(u=p,c="string"!=typeof(l=e)?l.nodeName.toLowerCase():l,!(!(f=(d=i.getElementRule(c))&&d.parentsRequired)||!f.length)&&(u&&-1!==kt.inArray(f,u)?u:f[0]));if(g)p===g?(o=t[0],t=t.slice(1)):o=g;else if(h)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=a(o)).appendChild(e),n&&(r||(r=gv.create("div")).appendChild(e),kt.each(n,function(t){var n=a(t);r.insertBefore(n,e)})),s(r,t,o&&o.siblings)};return e&&e.length?(n=a(r=e[0]),(o=gv.create("div")).appendChild(s(n,e.slice(1),r.siblings)),o):""},vv=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=kt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==kt.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}var a;return"["!==o||(a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(n.attrs[a[1]]=a[2]),""})),n.name=t||"div",n},yv=function(e,t){var n,r,o,i="",a=(o=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),E(o)?o:"");if(""===a)return"";var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var l=pe(t,"preview");if(l.is(!1))return"";a=l.getOr(a)}n=t.block||t.inline||"span";var u,c=(u=t.selector)&&"string"==typeof u?(u=(u=u.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),kt.map(u.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=kt.map(e.split(/(?:~\+|~|\+)/),vv),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[],d=c.length?(c[0].name||(c[0].name=n),n=t.selector,mv(c,e)):mv([n],e),f=gv.select(n,d)[0]||d.firstChild;return pv(t.styles,function(e,t){var n=s(e);n&&gv.setStyle(f,t,n)}),pv(t.attributes,function(e,t){var n=s(e);n&&gv.setAttrib(f,t,n)}),pv(t.classes,function(e){var t=s(e);gv.hasClass(f,t)||gv.addClass(f,t)}),e.fire("PreviewFormats"),gv.setStyles(d,{position:"absolute",left:-65535}),e.getBody().appendChild(d),r=gv.getStyle(e.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,pv(a.split(" "),function(t){var n=gv.getStyle(f,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=gv.getStyle(e.getBody(),t,!0),"#ffffff"===gv.toHex(n).toLowerCase())||"color"===t&&"#000000"===gv.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===r)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*r+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),gv.remove(d),i},bv=function(e){var t=function(e){var t,n,r={},o=function(e,t){e&&("string"!=typeof e?kt.each(e,function(e,t){o(t,e)}):(D(t)||(t=[t]),kt.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),r[e]=t))};return o((t=e.dom,n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return Sn(e)&&e.hasAttribute("href")},onformat:function(e,n,r){kt.each(r,function(n,r){t.setAttrib(e,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},kt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n[e]={block:e,remove:"all"}}),n)),o(e.getParam("formats")),{get:function(e){return e?r[e]:r},has:function(e){return ge(r,e)},register:o,unregister:function(e){return e&&r[e]&&delete r[e],r}}}(e),n=ms(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),function(e){e.on("mouseup keydown",function(t){var n,r,o,i;r=t.keyCode,o=(n=e).selection,i=n.getBody(),tg(n,null,!1),8!==r&&46!==r||!o.isCollapsed()||o.getStart().innerHTML!==Yp||tg(n,vc(i,o.getStart())),37!==r&&39!==r||tg(n,vc(i,o.getStart()))})}(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){var o,i,a;o=t,i=n,a=r,um(e).formatter.apply(o,i,a)},remove:function(t,n,r,o){var i,a,s,l;i=t,a=n,s=r,l=o,um(e).formatter.remove(i,a,s,l)},toggle:function(t,n,r){var o,i,a;o=t,i=n,a=r,um(e).formatter.toggle(o,i,a)},match:function(t,n,r){return o=t,i=n,a=r,um(e).formatter.match(o,i,a);var o,i,a},closest:function(t){return n=t,um(e).formatter.closest(n);var n},matchAll:function(t,n){return r=t,o=n,um(e).formatter.matchAll(r,o);var r,o},matchNode:function(t,n,r,o){return i=t,a=n,s=r,l=o,um(e).formatter.matchNode(i,a,s,l);var i,a,s,l},canApply:function(t){return n=t,um(e).formatter.canApply(n);var n},formatChanged:function(t,r,o){return i=n,a=t,s=r,void 0===(l=o)&&(l=!1),um(e).formatter.formatChanged(i,a,s,l);var i,a,s,l},getCssText:d(yv,e)}},xv=function(e){var t,n=ms(k.none()),r=ms(0),o=ms(0),i={data:[],typing:!1,beforeChange:function(){var t,o;t=r,o=n,um(e).undoManager.beforeChange(t,o)},add:function(t,a){return s=i,l=o,u=r,c=n,d=t,f=a,um(e).undoManager.addUndoLevel(s,l,u,c,d,f);var s,l,u,c,d,f},undo:function(){return t=i,n=r,a=o,um(e).undoManager.undo(t,n,a);var t,n,a},redo:function(){return t=o,n=i.data,um(e).undoManager.redo(t,n);var t,n},clear:function(){var t,n;t=i,n=o,um(e).undoManager.clear(t,n)},reset:function(){var t;t=i,um(e).undoManager.reset(t)},hasUndo:function(){return t=i,n=o,um(e).undoManager.hasUndo(t,n);var t,n},hasRedo:function(){return t=i,n=o,um(e).undoManager.hasRedo(t,n);var t,n},transact:function(t){return n=i,o=r,a=t,um(e).undoManager.transact(n,o,a);var n,o,a},ignore:function(t){var n,o;n=r,o=t,um(e).undoManager.ignore(n,o)},extra:function(t,n){var r,a,s,l;r=i,a=o,s=t,l=n,um(e).undoManager.extra(r,a,s,l)}};return sm(e)||function(e,t,n){var r=ms(!1),o=function(e){tm(t,!1,n),t.add({},e)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(nm(t,n),t.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&o(e)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",function(n){var i=n.keyCode;n.isDefaultPrevented()||((33<=i&&i<=36||37<=i&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===Qg(Yg(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(e){var i=e.keyCode;e.isDefaultPrevented()||(33<=i&&i<=36||37<=i&&i<=40||45===i?t.typing&&o(e):!(i<16||20<i)||224===i||91===i||t.typing||e.ctrlKey&&!e.altKey||e.metaKey||(t.beforeChange(),tm(t,!0,n),t.add({},e),r.set(!0)))}),e.on("mousedown",function(e){t.typing&&o(e)}),e.on("input",function(e){var t,n;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(n=e).inputType&&null===n.data||"insertFromPaste"===(t=e).inputType||"insertFromDrop"===t.inputType)&&o(e)}),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()})}(e,i,r),(t=e).addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),i},wv=[9,27,Ed.HOME,Ed.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ed.DOWN,Ed.UP,Ed.LEFT,Ed.RIGHT].concat(yt.browser.isFirefox()?[224]:[]),Cv="data-mce-placeholder",kv=function(e){return"keydown"===e.type||"keyup"===e.type},Sv=function(e){var t=e.keyCode;return t===Ed.BACKSPACE||t===Ed.DELETE},_v=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Tv=function(e,t){return Nt(At(t),e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))},Ev=function(e,t,n){var r,o,i=(r=e,o=t,V(us.DOM.getParents(n.container(),"*",o),r));return k.from(i[i.length-1])},Av=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?ao(n)?Ln(n.nextSibling)?kl(n.nextSibling,0):kl.after(n):uo(t)?kl(n,r+1):t:ao(n)?Ln(n.previousSibling)?kl(n.previousSibling,n.previousSibling.data.length):kl.before(n):co(t)?kl(n,r-1):t},Dv=d(Av,!0),Nv=d(Av,!1),Rv=function(e,t){return Pt(e,t)?wr(t,function(e){return Gr(e)||Yr(e)},(n=e,function(e){return Lt(n,At(e.dom.parentNode))})):k.none();var n},Lv=function(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(""),r=(n=(t=e).getBody()).firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))},Pv=function(e,t){return{from:e,to:t}},Iv=function(e,t){var n=At(e),r=At(t.container());return Rv(n,r).map(function(e){return{block:e,position:t}})},Ov=function(e){var t,n=(t=Xt(e),K(t,qr).fold(function(){return t},function(e){return t.slice(0,e)}));return q(n,dn),n},Bv=function(e,t){var n=Oh(t,e);return Y(n.reverse(),function(e){return Lo(e)}).each(dn)},Fv=function(e,t,n,r){if(Lo(n))return Lh(n),hc(n.dom);0===V(Vt(r),function(e){return!Lo(e)}).length&&Lo(t)&&on(r,Tt("br"));var o=fc(n.dom,kl.before(r.dom));return q(Ov(t),function(e){on(r,e)}),Bv(e,t),o},Mv=function(e,t,n){if(Lo(n))return dn(n),Lo(t)&&Lh(t),hc(t.dom);var r=pc(n.dom);return q(Ov(t),function(e){ln(n,e)}),Bv(e,t),r},$v=function(e,t){cc(e,t.dom).map(function(e){return e.getNode()}).map(At).filter(Vr).each(dn)},jv=function(e,t,n){return $v(!0,t),$v(!1,n),function(e,t){return Pt(t,e)?(n=Oh(e,t),k.from(n[n.length-1])):k.none();var n}(t,n).fold(d(Mv,e,t,n),d(Fv,e,t,n))},Hv=function(e,t,n,r){return t?jv(e,r,n):jv(e,n,r)},zv=function(e,t){var n,r,o,i=At(e.getBody()),a=(n=i.dom,r=t,((o=e.selection.getRng()).collapsed?function(e,t,n){var r=Iv(e,kl.fromRangeStart(n)),o=r.bind(function(n){return sc(t,e,n.position).bind(function(n){return Iv(e,n).map(function(n){return r=e,o=t,Bn((i=n).position.getNode())&&!1===Lo(i.block)?cc(!1,i.block.dom).bind(function(e){return e.isEqual(i.position)?sc(o,r,e).bind(function(e){return Iv(r,e)}):k.some(i)}).getOr(i):i;var r,o,i})})});return Ws(r,o,Pv).filter(function(e){return!1===Lt((r=e).from.block,r.to.block)&&Ut((n=e).from.block).bind(function(e){return Ut(n.to.block).filter(function(t){return Lt(e,t)})}).isSome()&&!1===$n((t=e).from.block.dom)&&!1===$n(t.to.block.dom);var t,n,r})}(n,r,o):k.none()).bind(function(e){return Hv(i,t,e.from.block,e.to.block)}));return a.each(function(t){e.selection.setRng(t.toRange())}),a.isSome()},Uv=function(e,t){var n=At(t),r=d(Lt,e);return xr(n,Jr,r).isSome()},qv=function(e,t){return!e.selection.isCollapsed()&&function(e){var t,n,r,o,i=At(e.getBody());return function(e,t){var n,r,o=fc(e.dom,kl.fromRangeStart(t)).isNone(),i=dc(e.dom,kl.fromRangeEnd(t)).isNone();return!(Uv(n=e,(r=t).startContainer)||Uv(n,r.endContainer))&&o&&i}(i,e.selection.getRng())?((o=e).setContent(""),o.selection.setCursorLocation(),!0):(t=i,r=(n=e.selection).getRng(),Ws(Rv(t,At(r.startContainer)),Rv(t,At(r.endContainer)),function(e,o){return!1===Lt(e,o)&&(r.deleteContents(),Hv(t,!0,e,o).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1))}(e)},Wv=Mn,Vv=$n,Gv=function(e,t,n,r,o){return k.from(t._selectionOverrides.showCaret(e,n,r,o))},Xv=function(e,t){var n,r;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?k.none():k.some(((r=(n=t).ownerDocument.createRange()).selectNode(n),r))},Yv=function(e,t,n){var r=$u(1,e.getBody(),t),o=kl.fromRangeStart(r),i=o.getNode();if(wu(i))return Gv(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(wu(a))return Gv(1,e,a,!1,!1);var s=e.dom.getParent(o.getNode(),function(e){return Vv(e)||Wv(e)});return wu(s)?Gv(1,e,s,!1,n):k.none()},Kv=function(e,t,n){return t.collapsed?Yv(e,t,n).getOr(t):t},Jv=function(e){return Nh(e)||Th(e)},Zv=function(e){return Rh(e)||Eh(e)},Qv=function(e,t,n,r,o,i){var a,s;return Gv(r,e,i.getNode(!o),o,!0).each(function(n){var r;t.collapsed?(r=t.cloneRange(),o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()):t.deleteContents(),e.selection.setRng(n)}),a=e.dom,Ln(s=n)&&0===s.data.length&&a.remove(s),!0},ey=function(e,t){var n=e.selection.getRng();if(!Ln(n.commonAncestorContainer))return!1;var r=t?wl.Forwards:wl.Backwards,o=rc(e.getBody()),i=d(Uu,t?o.next:o.prev),a=t?Jv:Zv,s=Hu(r,e.getBody(),n),l=Av(t,i(s));if(!l||!qu(s,l))return!1;if(a(l))return Qv(e,n,s.getNode(),r,t,l);var u=i(l);return!!(u&&a(u)&&qu(l,u))&&Qv(e,n,s.getNode(),r,t,u)},ty=hr([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ny=function(e,t,n){return sc(t,e,n).bind(function(r){return u=r.getNode(),Jr(At(u))||Yr(At(u))?k.none():(o=e,s=r,l=function(e){return Wr(At(e))&&!Pu(a,s,o)},ju(!(i=t),a=n).fold(function(){return ju(i,s).fold(y,l)},l)?k.none():t&&$n(r.getNode())||!1===t&&$n(r.getNode(!0))?function(e,t,n,r){var o=r.getNode(!1===t);return Rv(At(e),At(n.getNode())).map(function(e){return Lo(e)?ty.remove(e.dom):ty.moveToElement(o)}).orThunk(function(){return k.some(ty.moveToElement(o))})}(e,t,n,r):t&&Rh(n)||!1===t&&Nh(n)?k.some(ty.moveToPosition(r)):k.none());var o,i,a,s,l,u})},ry=function(e,t){return k.from(_d(e.getBody(),t))},oy=function(e,t){var n=e.selection.getNode();return ry(e,n).filter($n).fold(function(){return n=e.getBody(),r=t,o=e.selection.getRng(),i=$u(r?1:-1,n,o),a=kl.fromRangeStart(i),s=At(n),(!1===r&&Rh(a)?k.some(ty.remove(a.getNode(!0))):r&&Nh(a)?k.some(ty.remove(a.getNode())):!1===r&&Nh(a)&&Gh(s,a)?Xh(s,a).map(function(e){return ty.remove(e.getNode())}):r&&Rh(a)&&Vh(s,a)?Yh(s,a).map(function(e){return ty.remove(e.getNode())}):function(e,t,n){return a=n.getNode(!1===(i=t)),s=i?"after":"before",Sn(a)&&a.getAttribute("data-mce-caret")===s?(r=t,o=n.getNode(!1===t),(r&&$n(o.nextSibling)?k.some(ty.moveToElement(o.nextSibling)):!1===r&&$n(o.previousSibling)?k.some(ty.moveToElement(o.previousSibling)):k.none()).fold(function(){return ny(e,t,n)},k.some)):ny(e,t,n).bind(function(t){return r=e,o=n,t.fold(function(e){return k.some(ty.remove(e))},function(e){return k.some(ty.moveToElement(e))},function(e){return Pu(o,e,r)?k.none():k.some(ty.moveToPosition(e))});var r,o});var r,o,i,a,s}(n,r,a)).exists(function(n){return n.fold(function(e){return a._selectionOverrides.hideFakeCaret(),xp(a,s,At(e)),!0},(i=s=t,function(e){var t=i?kl.before(e):kl.after(e);return o.selection.setRng(t.toRange()),!0}),(r=o=a=e,function(e){return r.selection.setRng(e.toRange()),!0}));var r,o,i,a,s});var n,r,o,i,a,s},b)},iy=function(e,t){var n=e.selection.getNode();return!!$n(n)&&ry(e,n.parentNode).filter($n).fold(function(){var n;return n=At(e.getBody()),q(Rs(n,".mce-offscreen-selection"),dn),xp(e,t,At(e.selection.getNode())),Lv(e),!0},function(){return!0})},ay=function(e){var t,n=e.dom,r=e.selection,o=_d(e.getBody(),r.getNode());return Mn(o)&&n.isBlock(o)&&n.isEmpty(o)&&(t=n.create("br",{"data-mce-bogus":"1"}),n.setHTML(o,""),o.appendChild(t),r.setRng(kl.before(t).toRange())),!0},sy=function(e,t){return(e.selection.isCollapsed()?oy:iy)(e,t)},ly=function(e,t){return!!e.selection.isCollapsed()&&(r=t,o=kl.fromRangeStart((n=e).selection.getRng()),sc(r,n.getBody(),o).filter(function(e){return(r?Sh:_h)(e)}).bind(function(e){return k.from(Iu(r?0:-1,e))}).exists(function(e){return n.selection.select(e),!0}));var n,r,o},uy=Ln,cy=function(e){return uy(e)&&e.data[0]===eo},dy=function(e){return uy(e)&&e.data[e.data.length-1]===eo},fy=function(e){return e.ownerDocument.createTextNode(eo)},hy=function(e,t){return(e?function(e){if(uy(e.previousSibling))return dy(e.previousSibling)||e.previousSibling.appendData(eo),e.previousSibling;if(uy(e))return cy(e)||e.insertData(0,eo),e;var t=fy(e);return e.parentNode.insertBefore(t,e),t}:function(e){if(uy(e.nextSibling))return cy(e.nextSibling)||e.nextSibling.insertData(0,eo),e.nextSibling;if(uy(e))return dy(e)||e.appendData(eo),e;var t=fy(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t})(t)},py=d(hy,!0),gy=d(hy,!1),my=function(e,t){return Ln(e.container())?hy(t,e.container()):hy(t,e.getNode())},vy=function(e,t){var n=t.get();return n&&e.container()===n&&ao(n)},yy=function(e,t){return t.fold(function(t){pu(e.get());var n=py(t);return e.set(n),k.some(kl(n,n.length-1))},function(t){return hc(t).map(function(t){if(vy(t,e))return kl(e.get(),1);pu(e.get());var n=my(t,!0);return e.set(n),kl(n,1)})},function(t){return pc(t).map(function(t){if(vy(t,e))return kl(e.get(),e.get().length-1);pu(e.get());var n=my(t,!1);return e.set(n),kl(n,n.length-1)})},function(t){pu(e.get());var n=gy(t);return e.set(n),k.some(kl(n,1))})},by=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return k.none()},xy=hr([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),wy=function(e,t){return Lu(t,e)||e},Cy=function(e,t,n){var r=Dv(n),o=wy(t,r.container());return Ev(e,o,r).fold(function(){return dc(o,r).bind(d(Ev,e,o)).map(function(e){return xy.before(e)})},k.none)},ky=function(e,t){return null===vc(e,t)},Sy=function(e,t,n){return Ev(e,t,n).filter(d(ky,t))},_y=function(e,t,n){var r=Nv(n);return Sy(e,t,r).bind(function(e){return fc(e,r).isNone()?k.some(xy.start(e)):k.none()})},Ty=function(e,t,n){var r=Dv(n);return Sy(e,t,r).bind(function(e){return dc(e,r).isNone()?k.some(xy.end(e)):k.none()})},Ey=function(e,t,n){var r=Nv(n),o=wy(t,r.container());return Ev(e,o,r).fold(function(){return fc(o,r).bind(d(Ev,e,o)).map(function(e){return xy.after(e)})},k.none)},Ay=function(e){return!1===function(e){return"rtl"===us.DOM.getStyle(e,"direction",!0)||_v.test(e.textContent)}(Ny(e))},Dy=function(e,t,n){return by([Cy,_y,Ty,Ey],[e,t,n]).filter(Ay)},Ny=function(e){return e.fold(c,c,c,c)},Ry=function(e){return e.fold(u("before"),u("start"),u("end"),u("after"))},Ly=function(e){return e.fold(xy.before,xy.before,xy.after,xy.after)},Py=function(e){return e.fold(xy.start,xy.start,xy.end,xy.end)},Iy=function(e,t,n,r,o,i){return Ws(Ev(t,n,r),Ev(t,n,o),function(t,r){return t!==r&&(a=r,s=Lu(t,o=n),l=Lu(a,o),s&&s===l)?xy.after(e?t:r):i;var o,a,s,l}).getOr(i)},Oy=function(e,t){return e.fold(b,function(e){return r=t,!(Ry(n=e)===Ry(r)&&Ny(n)===Ny(r));var n,r})},By=function(e,t){return e?t.fold(l(k.some,xy.start),k.none,l(k.some,xy.after),k.none):t.fold(k.none,l(k.some,xy.before),k.none,l(k.some,xy.end))},Fy=function(e,t,n,r){var o=Av(e,r),i=Dy(t,n,o);return Dy(t,n,o).bind(d(By,e)).orThunk(function(){return a=t,s=n,l=i,u=Av(o=e,r),sc(o,s,u).map(d(Av,o)).fold(function(){return l.map(Ly)},function(e){return Dy(a,s,e).map(d(Iy,o,a,s,u,e)).filter(d(Oy,l))}).filter(Ay);var o,a,s,l,u})},My=(d(Fy,!1),d(Fy,!0),function(e,t,n){var r=e?1:-1;return t.setRng(kl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0}),$y=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},jy=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Hy=function(e,t,n){return yy(t,n).map(function(t){return $y(e,t),n})},zy=function(e,t,n){return!!ou(e)&&(o=t,i=n,a=(r=e).getBody(),s=kl.fromRangeStart(r.selection.getRng()),l=d(Tv,r),Fy(i,l,a,s).bind(function(e){return Hy(r,o,e)}).isSome());var r,o,i,a,s,l},Uy=function(e,t,n){return!!ou(t)&&function(e,t){var n=t.selection.getRng(),r=e?kl.fromRangeEnd(n):kl.fromRangeStart(n);return!!O(t.selection.getSel().modify)&&(e&&uo(r)?My(!0,t.selection,r):!(e||!co(r))&&My(!1,t.selection,r))}(e,t)},qy=d(Uy,!0),Wy=d(Uy,!1),Vy=function(e,t){return function(n){return yy(t,n).exists(function(t){return $y(e,t),!0})}},Gy=function(e,t,n,r){var o=e.getBody(),i=d(Tv,e);e.undoManager.ignore(function(){var a,s,l;e.selection.setRng((a=n,s=r,(l=document.createRange()).setStart(a.container(),a.offset()),l.setEnd(s.container(),s.offset()),l)),e.execCommand("Delete"),Dy(i,o,kl.fromRangeStart(e.selection.getRng())).map(Py).map(Vy(e,t))}),e.nodeChanged()},Xy=function(e,t,n){if(e.selection.isCollapsed()&&ou(e)){var r=kl.fromRangeStart(e.selection.getRng());return function(e,t,n,r){var o,i,a=(o=e.getBody(),i=r.container(),Lu(i,o)||o),s=d(Tv,e),l=Dy(s,a,r);return l.bind(function(e){return n?e.fold(u(k.some(Py(e))),k.none,u(k.some(Ly(e))),k.none):e.fold(k.none,u(k.some(Ly(e))),k.none,u(k.some(Py(e))))}).map(Vy(e,t)).getOrThunk(function(){var o=lc(n,a,r),i=o.bind(function(e){return Dy(s,a,e)});return Ws(l,i,function(){return Ev(s,a,r).exists(function(t){return!!Ws(hc(r=t),pc(r),function(e,t){var n=Av(!0,e),o=Av(!1,t);return dc(r,n).forall(function(e){return e.isEqual(o)})}).getOr(!0)&&(xp(e,n,At(t)),!0);var r})}).orThunk(function(){return i.bind(function(i){return o.map(function(o){return n?Gy(e,t,r,o):Gy(e,t,o,r),!0})})}).getOr(!1)})}(e,t,n,r)}return!1},Yy=function(e){return 1===Xt(e).length},Ky=function(e,t){return!!e.selection.isCollapsed()&&function(e,t){var n,r=At(e.getBody()),o=At(e.selection.getStart()),i=V((n=Oh(o,r),K(n,qr).fold(u(n),function(e){return n.slice(0,e)})),Yy);return re(i).exists(function(n){var r,o,a,s,l=kl.fromRangeStart(e.selection.getRng());return o=t,a=l,!(!Ws(hc(s=n.dom),pc(s),function(e,t){var n=Av(!0,e),r=Av(!1,t),i=Av(!1,a);return o?dc(s,i).exists(function(e){return e.isEqual(r)&&a.isEqual(n)}):fc(s,i).exists(function(e){return e.isEqual(n)&&a.isEqual(r)})}).getOr(!0)||mc((r=n).dom)&&Jp(r.dom)||(function(e,t,n,r){var o,i,a,s,l,u=d(og,t),c=U(V(r,u),function(e){return e.dom});0===c.length?xp(t,e,n):(i=n.dom,a=c,s=Qp(!1),l=rg(a,s.dom),on(At(i),s),dn(At(i)),o=kl(l,0),t.selection.setRng(o.toRange()))}(t,e,n,i),0))})}(e,t)},Jy=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),xp(e,t,At(n)),!0},Zy=function(e,t){return e.selection.isCollapsed()?(s=(a=t)?Th:Eh,l=Hu(a?wl.Forwards:wl.Backwards,(i=e).getBody(),i.selection.getRng()),s(l)?Jy(i,a,l.getNode(!a)):k.from(Av(a,l)).filter(function(e){return s(e)&&qu(l,e)}).exists(function(e){return Jy(i,a,e.getNode(!a))})):(r=t,o=(n=e).selection.getNode(),!!Hn(o)&&Jy(n,r,o));var n,r,o,i,a,s,l},Qy=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},eb=function(e,t){return(e||"table"===It(t)?"margin":"padding")+("rtl"===Yn(t,"direction")?"-right":"-left")},tb=function(e){var t,n=rb(e);return!e.mode.isReadOnly()&&(1<n.length||(t=e,Z(n,function(e){var n=eb(eu(t),e),r=Jn(e,n).map(Qy).getOr(0);return"false"!==t.dom.getContentEditable(e.dom)&&0<r})))},nb=function(e){return Xr(e)||Yr(e)},rb=function(e){return V(U(e.selection.getSelectedBlocks(),At),function(e){return!nb(e)&&!Ut(e).map(nb).getOr(!1)&&wr(e,function(e){return Mn(e.dom)||$n(e.dom)}).exists(function(e){return Mn(e.dom)})})},ob=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=e.getParam("indentation","40px","string"),a=/[a-z%]+$/i.exec(i)[0],s=parseInt(i,10),l=eu(e),u=Xl(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==u||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),q(rb(e),function(e){var r,o,i,u,c,d,f;r=n,o=t,i=s,u=a,f=eb(l,At(c=e.dom)),"outdent"===o?(d=Math.max(0,Qy(c.style[f])-i),r.setStyle(c,f,d?d+u:"")):(d=Qy(c.style[f])+i+u,r.setStyle(c,f,d))})},ib=function(e,t){if(e.selection.isCollapsed()&&tb(e)){var n=e.dom,r=e.selection.getRng(),o=kl.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&jh(At(i),o))return ob(e,"outdent"),!0}return!1},ab=function(e,t){e.getDoc().execCommand(t,!1,null)},sb=function(e){return void 0===e.touches||1!==e.touches.length?k.none():k.some(e.touches[0])},lb=function(e,t){return e.hasOwnProperty(t.nodeName)},ub=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,s=a.getBlockElements(),l=i.getStart(),u=e.getBody(),c=Xl(e);if(l&&Sn(l)&&c){var d=u.nodeName.toLowerCase();if(a.isValidChild(d,c.toLowerCase())&&(f=s,h=u,!z(Ih(At(l),At(h)),function(e){return lb(f,e.dom)}))){var f,h,p,g,m=i.getRng(),v=m.startContainer,y=m.startOffset,b=m.endContainer,x=m.endOffset,w=If(e);for(l=u.firstChild;l;)if(p=s,Ln(g=l)||Sn(g)&&!lb(p,g)&&!_c(g)){if(function(e,t){if(Ln(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||lb(e,t.nextSibling)))return!0}return!1}(s,l)){l=(n=l).nextSibling,o.remove(n);continue}t||(t=o.create(c,Yl(e)),l.parentNode.insertBefore(t,l),r=!0),l=(n=l).nextSibling,t.appendChild(n)}else t=null,l=l.nextSibling;r&&w&&(m.setStart(v,y),m.setEnd(b,x),i.setRng(m),e.nodeChanged())}}},cb=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(po(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},db=function(e,t){var n=kr(At(e.getBody()),"*[data-mce-caret]").fold(u(null),function(e){return e.dom});if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void cb(e,n)):void(lo(n)&&(cb(e,n),e.undoManager.add()))};(nv=tv=tv||{})[nv.Br=0]="Br",nv[nv.Block=1]="Block",nv[nv.Wrap=2]="Wrap",nv[nv.Eol=3]="Eol";var fb,hb,pb=function(e,t){return e===wl.Backwards?Q(t):t},gb=function(e,t,n,r){for(var o,i,a,s,l,u=rc(n),c=r,d=[];c&&(s=u,l=c,o=t===wl.Forwards?s.next(l):s.prev(l));){if(Bn(o.getNode(!1)))return t===wl.Forwards?{positions:pb(t,d).concat([o]),breakType:tv.Br,breakAt:k.some(o)}:{positions:pb(t,d),breakType:tv.Br,breakAt:k.some(o)};if(o.isVisible()){if(e(c,o)){var f=(i=c,Bn((a=o).getNode(t===wl.Forwards))?tv.Br:!1===Pu(i,a)?tv.Block:tv.Wrap);return{positions:pb(t,d),breakType:f,breakAt:k.some(o)}}d.push(o),c=o}else c=o}return{positions:pb(t,d),breakType:tv.Eol,breakAt:k.none()}},mb=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===wl.Backwards?o.concat(r):[r].concat(o)}).getOr([])},vb=function(e,t){return X(e,function(e,n){return e.fold(function(){return k.some(n)},function(r){return Ws(ne(r.getClientRects()),ne(n.getClientRects()),function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r}).or(e)})},k.none())},yb=function(e,t){return ne(t.getClientRects()).bind(function(t){return vb(e,t.left)})},bb=d(gb,xl.isAbove,-1),xb=d(gb,xl.isBelow,1),wb=d(mb,-1,bb),Cb=d(mb,1,xb),kb=function(e){var t=function(t){return U(t,function(t){return(t=Gs(t)).node=e,t})};if(Sn(e))return t(e.getClientRects());if(Ln(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},Sb=function(e){return J(e,kb)};(hb=fb=fb||{})[hb.Up=-1]="Up",hb[hb.Down=1]="Down";var _b=function(e,t,n,r,o,i){var a=0,s=[],l=function(r){var i,l,c=Sb([r]);for(-1===e&&(c=c.reverse()),i=0;i<c.length;i++)if(!n(l=c[i],u)){if(0<s.length&&t(l,Se(s))&&a++,l.line=a,o(l))return!0;s.push(l)}},u=Se(i.getClientRects());if(!u)return s;var c=i.getNode();return l(c),function(e,t,n,r){for(;r=Ru(r,e,_o,t);)if(n(r))return}(e,r,l,c),s},Tb=d(_b,fb.Up,Ks,Js),Eb=d(_b,fb.Down,Js,Ks),Ab=function(e){return function(t){return t.line>e}},Db=function(e){return function(t){return t.line===e}},Nb=$n,Rb=Ru,Lb=function(e,t){return Math.abs(e.left-t)},Pb=function(e,t){return Math.abs(e.right-t)},Ib=function(e,t){return e>=t.left&&e<=t.right},Ob=function(e,t){return e>=t.top&&e<=t.bottom},Bb=function(e,t){return Ce(e,function(e,n){var r=Math.min(Lb(e,t),Pb(e,t)),o=Math.min(Lb(n,t),Pb(n,t));return Ib(t,n)||!Ib(t,e)&&(o===r&&Nb(n.node)||o<r)?n:e})},Fb=function(e,t,n,r,o){var i=Rb(r,e,_o,t,!o);do{if(!i||n(i))return}while(i=Rb(i,e,_o,t))},Mb=function(e,t){e.selection.setRng(t),hf(e,e.selection.getRng())},$b=function(e,t,n){return k.some(Kv(e,t,n))},jb=function(e,t,n,r,o,i){var a=t===wl.Forwards,s=rc(e.getBody()),l=d(Uu,a?s.next:s.prev),u=a?r:o;if(!n.collapsed){var c=Qs(n);if(i(c))return Gv(t,e,c,t===wl.Backwards,!1)}var f=Hu(t,e.getBody(),n);if(u(f))return Xv(e,f.getNode(!a));var h=Av(a,l(f)),p=io(n.startContainer);if(!h)return p?k.some(n):k.none();if(u(h))return Gv(t,e,h.getNode(!a),a,!1);var g=l(h);return g&&u(g)&&qu(h,g)?Gv(t,e,g.getNode(!a),a,!1):p?$b(e,h.toRange(),!1):k.none()},Hb=function(e,t,n,r,o,i){var a=Hu(t,e.getBody(),n),s=Se(a.getClientRects()),l=t===fb.Down;if(!s)return k.none();var u,c=(l?Eb:Tb)(e.getBody(),Ab(1),a),d=V(c,Db(1)),f=s.left,h=Bb(d,f);if(h&&i(h.node)){var p=Math.abs(f-h.left),g=Math.abs(f-h.right);return Gv(t,e,h.node,p<g,!1)}if(u=r(a)?a.getNode():o(a)?a.getNode(!0):Qs(n)){var m=function(e,t,n,r){var o,i,a,s,l=rc(t),u=[],c=0,d=function(e){return Se(e.getClientRects())},f=1===e?(o=l.next,i=Js,a=Ks,kl.after(r)):(o=l.prev,i=Ks,a=Js,kl.before(r)),h=d(f);do{if(f.isVisible()&&!a(s=d(f),h)){if(0<u.length&&i(s,Se(u))&&c++,(s=Gs(s)).position=f,s.line=c,n(s))return u;u.push(s)}}while(f=o(f));return u}(t,e.getBody(),Ab(1),u),v=Bb(V(m,Db(1)),f);if(v)return $b(e,v.position.toRange(),!1);if(v=Se(V(m,Db(0))))return $b(e,v.position.toRange(),!1)}return 0===d.length?zb(e,l).filter(l?o:r).map(function(t){return Kv(e,t.toRange(),!1)}):k.none()},zb=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var o=kl.fromRangeEnd(n),i=xb(r,o);return re(i.positions)}return o=kl.fromRangeStart(n),i=bb(r,o),ne(i.positions)},Ub=function(e,t,n){return zb(e,t).filter(n).exists(function(t){return e.selection.setRng(t.toRange()),!0})},qb=$n,Wb=function(e,t,n){var r,o,i=rc(e.getBody()),a=d(Uu,1===t?i.next:i.prev);if(n.collapsed&&""!==Xl(e)){var s,l=e.dom.getParent(n.startContainer,"PRE");if(!l)return;a(kl.fromRangeStart(n))||(o=(r=e).dom.create(Xl(r)),(!yt.ie||11<=yt.ie)&&(o.innerHTML='<br data-mce-bogus="1">'),s=o,1===t?e.$(l).after(s):e.$(l).before(s),e.selection.select(s,!0),e.selection.collapse())}},Vb=function(e,t){return function(e,t){var n=t?wl.Forwards:wl.Backwards,r=e.selection.getRng();return jb(e,n,r,Nh,Rh,qb).orThunk(function(){return Wb(e,n,r),k.none()})}(e,t).exists(function(t){return Mb(e,t),!0})},Gb=function(e,t){return function(e,t){var n=t?1:-1,r=e.selection.getRng();return Hb(e,n,r,function(e){return Nh(e)||Ah(e)},function(e){return Rh(e)||Dh(e)},qb).orThunk(function(){return Wb(e,n,r),k.none()})}(e,t).exists(function(t){return Mb(e,t),!0})},Xb=function(e,t){return Ub(e,t,t?Rh:Nh)},Yb=function(e){return H(["figcaption"],It(e))},Kb=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},Jb=function(e,t,n){(n?ln:sn)(e,t)},Zb=function(e,t){return!!e.selection.isCollapsed()&&function(e,t){var n,r,o=At(e.getBody()),i=kl.fromRangeStart(e.selection.getRng()),a=Xl(e),s=Yl(e);return n=i,r=d(Lt,o),wr(At(n.container()),qr,r).filter(Yb).exists(function(){if(function(e,t,n){return t?xb(e.dom,n).breakAt.isNone():bb(e.dom,n).breakAt.isNone()}(o,t,i)){var n=function(e,t,n,r){return""===t?(u=e,c=r,d=Tt("br"),Jb(u,d,c),Kb(d)):(o=e,i=r,a=n,s=Tt(t),l=Tt("br"),Wn(s,a),ln(s,l),Jb(o,s,i),Kb(l));var o,i,a,s,l,u,c,d}(o,a,s,t);return e.selection.setRng(n),!0}return!1})}(e,t)},Qb=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},ex=function(e,t){return Y(function(e,t){return J(U(e,function(e){return _e({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:s},e)}),function(e){return(r=t).keyCode===(n=e).keyCode&&r.shiftKey===n.shiftKey&&r.altKey===n.altKey&&r.ctrlKey===n.ctrlKey&&r.metaKey===n.metaKey?[e]:[];var n,r})}(e,t),function(e){return e.action()})},tx=function(e,t){var n=t?wl.Forwards:wl.Backwards,r=e.selection.getRng();return jb(e,n,r,Th,Eh,Hn).exists(function(t){return Mb(e,t),!0})},nx=function(e,t){var n=t?1:-1,r=e.selection.getRng();return Hb(e,n,r,Th,Eh,Hn).exists(function(t){return Mb(e,t),!0})},rx=function(e,t){return Ub(e,t,t?Eh:Th)},ox=function(e,t,n,r,o){var i,a,s=Rs(At(n),"td,th,caption").map(function(e){return e.dom}),l=V(function(e,t){return J(t,function(t){var n,r={left:(n=Gs(t.getBoundingClientRect())).left- -1,top:n.top- -1,right:n.right+-2,bottom:n.bottom+-2,width:n.width+-1,height:n.height+-1};return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]})}(e,s),function(e){return t(e,o)});return i=r,a=o,X(l,function(e,t){return e.fold(function(){return k.some(t)},function(e){var n=Math.sqrt(Math.abs(e.x-i)+Math.abs(e.y-a)),r=Math.sqrt(Math.abs(t.x-i)+Math.abs(t.y-a));return k.some(r<n?t:e)})},k.none()).map(function(e){return e.cell})},ix=d(ox,function(e){return e.bottom},function(e,t){return e.y<t}),ax=d(ox,function(e){return e.top},function(e,t){return e.y>t}),sx=function(e,t,n){var r,o,i,a,s=e(t,n);return(a=s).breakType===tv.Wrap&&0===a.positions.length||!Bn(n.getNode())&&(i=s).breakType===tv.Br&&1===i.positions.length?(r=e,o=t,!s.breakAt.exists(function(e){return r(o,e).breakAt.isSome()})):s.breakAt.isNone()},lx=d(sx,bb),ux=d(sx,xb),cx=function(e,t,n,r){var o,i,a,s,l=e.selection.getRng(),u=t?1:-1;return!(!xu()||(o=t,i=l,a=n,s=kl.fromRangeStart(i),!cc(!o,a).exists(function(e){return e.isEqual(s)}))||(Gv(u,e,n,!t,!1).each(function(t){Mb(e,t)}),0))},dx=function(e,t,n){var r=function(e,t){var n=t.getNode(e);return Sn(n)&&"TABLE"===n.nodeName?k.some(n):k.none()}(!!t,n),o=!1===t;r.fold(function(){return Mb(e,n.toRange())},function(r){return cc(o,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return Mb(e,n.toRange())},function(o){return i=t,s=r,l=n,void((u=Xl(a=e))?a.undoManager.transact(function(){var e=Tt(u);Wn(e,Yl(a)),ln(e,Tt("br")),(i?an:on)(At(s),e);var t=a.dom.createRng();t.setStart(e.dom,0),t.setEnd(e.dom,0),Mb(a,t)}):Mb(a,l.toRange()));var i,a,s,l,u})})},fx=function(e,t,n,r){var o,i,a,s,l,u,c=e.selection.getRng(),d=kl.fromRangeStart(c),f=e.getBody();if(!t&&lx(r,d)){var h=(s=f,function(e,t){return ne(t.getClientRects()).bind(function(t){return ix(e,t.left,t.top)}).bind(function(e){return yb(pc(n=e).map(function(e){return bb(n,e).positions.concat(e)}).getOr([]),t);var n})}(l=n,u=d).orThunk(function(){return ne(u.getClientRects()).bind(function(e){return vb(wb(s,kl.before(l)),e.left)})}).getOr(kl.before(l)));return dx(e,t,h),!0}return!(!t||!ux(r,d)||(o=f,h=function(e,t){return re(t.getClientRects()).bind(function(t){return ax(e,t.left,t.top)}).bind(function(e){return yb(hc(n=e).map(function(e){return[e].concat(xb(n,e).positions)}).getOr([]),t);var n})}(i=n,a=d).orThunk(function(){return ne(a.getClientRects()).bind(function(e){return vb(Cb(o,kl.after(i)),e.left)})}).getOr(kl.after(i)),dx(e,t,h),0))},hx=function(e,t,n){return k.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(r){return k.from(e.dom.getParent(r,"table")).map(function(o){return n(e,t,o,r)})}).getOr(!1)},px=function(e,t){return hx(e,t,cx)},gx=function(e,t){return hx(e,t,fx)},mx=function(e,t){var n,r,o=t,i=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){!/^(LI|DT|DD)$/.test(t.nodeName)||(r=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(i.doc.createTextNode(Qr),t.firstChild);var s=i.createRng();if(t.normalize(),t.hasChildNodes()){for(var l=new jr(t,t);n=l.current();){if(Ln(n)){s.setStart(n,0),s.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}o=n,n=l.next()}n||(s.setStart(o,0),s.setEnd(o,0))}else Bn(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),hf(e,s)}},vx=function(e){return k.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},yx=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},bx=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},xx=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},wx=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Sn(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},Cx=function(e){e.innerHTML='<br data-mce-bogus="1">'},kx=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Sx=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},_x=function(e,t,n){return!1===Ln(t)?n:e?1===n&&t.data.charAt(n-1)===eo?0:n:n===t.data.length-1&&t.data.charAt(n)===eo?t.data.length:n},Tx=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},Ex=function(e,t){var n=Xl(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,t,n){var r=e.dom;k.from(n.style).map(r.parseStyle).each(function(e){var n=Zn(At(t)),o=_e(_e({},n),e);r.setStyles(t,o)});var o=k.from(n.class).map(function(e){return e.split(/\s+/)}),i=k.from(t.className).map(function(e){return V(e.split(/\s+/),function(e){return""!==e})});Ws(o,i,function(e,n){var o=V(n,function(t){return!H(e,t)}),i=Te(e,o);r.setAttrib(t,"class",i.join(" "))});var a=["style","class"],s=he(n,function(e,t){return!H(a,t)});r.setAttribs(t,s)}(e,t,Yl(e))},Ax=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},Dx=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},Nx=function(e,t){var n=Tt("br");on(At(t),n),e.undoManager.add()},Rx=function(e,t){Lx(e.getBody(),t)||an(At(t),Tt("br"));var n=Tt("br");an(At(t),n),Ax(e.dom,e.selection,n.dom),Dx(e.dom,e.selection,n.dom,!1),e.undoManager.add()},Lx=function(e,t){return n=kl.after(t),!!Bn(n.getNode())||dc(e,kl.after(t)).map(function(e){return Bn(e.getNode())}).getOr(!1);var n},Px=function(e){return e&&"A"===e.nodeName&&"href"in e},Ix=function(e){return e.fold(y,Px,Px,y)},Ox=function(e,t){t.fold(s,d(Nx,e),d(Rx,e),s)},Bx=function(e,t){var n,r,o,i=(r=d(Tv,n=e),o=kl.fromRangeStart(n.selection.getRng()),Dy(r,n.getBody(),o).filter(Ix));i.isSome()?i.each(d(Ox,e)):function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Md(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s,l=a.startOffset,u=a.startContainer;1===u.nodeType&&u.hasChildNodes()&&(s=l>u.childNodes.length-1,u=u.childNodes[Math.min(l,u.childNodes.length-1)]||u,l=s&&3===u.nodeType?u.nodeValue.length:0);var c=i.getParent(u,i.isBlock),d=c?i.getParent(c.parentNode,i.isBlock):null;"LI"!==(d?d.nodeName.toUpperCase():"")||!(!t||!t.ctrlKey)||(c=d),u&&3===u.nodeType&&l>=u.nodeValue.length&&!function(e,t,n){for(var r,o=new jr(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,u,c)&&(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0),n=i.create("br"),_l(i,a,n),Ax(i,o,n),Dx(i,o,n,r),e.undoManager.add()}(e,t)},Fx=function(e,t){return vx(e).filter(function(e){return 0<t.length&&Nt(At(e),t)}).isSome()},Mx=hr([{br:[]},{block:[]},{none:[]}]),$x=function(e,t){return Fx(n=e,n.getParam("no_newline_selector",""));var n},jx=function(e){return function(t,n){return""===Xl(t)===e}},Hx=function(e){return function(t,n){return vx(t).filter(function(e){return Yr(At(e))}).isSome()===e}},zx=function(e,t){return function(n,r){return vx(n).fold(u(""),function(e){return e.nodeName.toUpperCase()})===e.toUpperCase()===t}},Ux=function(e){return zx("pre",e)},qx=function(e){return function(t,n){return t.getParam("br_in_pre",!0)===e}},Wx=function(e,t){return Fx(n=e,n.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"));var n},Vx=function(e,t){return t},Gx=function(e){var t=Xl(e),n=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Xx=function(e,t){return function(n,r){return X(e,function(e,t){return e&&t(n,r)},!0)?k.some(t):k.none()}},Yx=function(e,t){(function(e,t){return by([Xx([$x],Mx.none()),Xx([zx("summary",!0)],Mx.br()),Xx([Ux(!0),qx(!1),Vx],Mx.br()),Xx([Ux(!0),qx(!1)],Mx.block()),Xx([Ux(!0),qx(!0),Vx],Mx.block()),Xx([Ux(!0),qx(!0)],Mx.br()),Xx([Hx(!0),Vx],Mx.br()),Xx([Hx(!0)],Mx.block()),Xx([jx(!0),Vx,Gx],Mx.block()),Xx([jx(!0)],Mx.br()),Xx([Wx],Mx.br()),Xx([jx(!1),Vx],Mx.br()),Xx([Gx],Mx.block())],[e,!(!t||!t.shiftKey)]).getOr(Mx.none())})(e,t).fold(function(){Bx(e,t)},function(){!function(e,t){var n,r,o,i,a,s,l,u,c,d=e.dom,f=e.schema,h=f.getNonEmptyElements(),p=e.selection.getRng(),g=function(t){var n,o=r,a=f.getTextInlineElements(),s=t||"TABLE"===u||"HR"===u?d.create(t||k):i.cloneNode(!1),l=s;if(!1===e.getParam("keep_styles",!0))d.setAttrib(s,"style",null),d.setAttrib(s,"class",null);else do{if(a[o.nodeName]){if(mc(o)||_c(o))continue;n=o.cloneNode(!1),d.setAttrib(n,"id",""),s.hasChildNodes()?n.appendChild(s.firstChild):l=n,s.appendChild(n)}}while((o=o.parentNode)&&o!==S);return Ex(e,s),Cx(l),s},m=function(e){var t,n,a=_x(e,r,o);if(Ln(r)&&(e?0<a:a<r.nodeValue.length))return!1;if(r.parentNode===i&&c&&!e)return!0;if(e&&Sn(r)&&r===i.firstChild)return!0;if(kx(r,"TABLE")||kx(r,"HR"))return c&&!e||!c&&e;var s=new jr(r,i);for(Ln(r)&&(e&&0===a?s.prev():e||a!==r.nodeValue.length||s.next());t=s.current();){if(Sn(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),h[n]&&"br"!==n))return!1}else if(Ln(t)&&!Eo(t.nodeValue))return!1;e?s.prev():s.next()}return!0},v=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(u)&&"HGROUP"!==x?g(k):g(),e.getParam("end_container_on_empty_block",!1)&&Sx(d,l)&&d.isEmpty(i)?a=d.split(l,i):d.insertAfter(a,i),mx(e,a)};Md(d,p).each(function(e){p.setStart(e.startContainer,e.startOffset),p.setEnd(e.endContainer,e.endOffset)}),r=p.startContainer,o=p.startOffset,k=Xl(e);var y=!(!t||!t.shiftKey),b=!(!t||!t.ctrlKey);Sn(r)&&r.hasChildNodes()&&(c=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=c&&Ln(r)?r.nodeValue.length:0);var x,w,C,k,S=Tx(d,r);S&&((k&&!y||!k&&y)&&(r=function(e,t,n,r,o){var i,a,s,l,u,c,d=t||"P",f=e.dom,h=Tx(f,r),p=f.getParent(r,f.isBlock);if(!p||!Sx(f,p)){if(u=(p=p||h)===e.getBody()||(c=p)&&/^(TD|TH|CAPTION)$/.test(c.nodeName)?p.nodeName.toLowerCase():p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return i=f.create(d),Ex(e,i),p.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==p;)s=s.parentNode;for(;s&&!f.isBlock(s);)s=(a=s).previousSibling;if(a&&e.schema.isValidChild(u,d.toLowerCase())){for(i=f.create(d),Ex(e,i),a.parentNode.insertBefore(i,a),s=a;s&&!f.isBlock(s);)l=s.nextSibling,i.appendChild(s),s=l;n.setStart(r,o),n.setEnd(r,o)}}return r}(e,k,p,r,o)),i=d.getParent(r,d.isBlock),l=i?d.getParent(i.parentNode,d.isBlock):null,u=i?i.nodeName.toUpperCase():"","LI"!==(x=l?l.nodeName.toUpperCase():"")||b||(l=(i=l).parentNode,u=x),/^(LI|DT|DD)$/.test(u)&&d.isEmpty(i)?function(e,t,n,r,o){var i,a,s,l,u,c=e.dom,d=e.selection.getRng();n!==e.getBody()&&(bx(i=n)&&bx(i.parentNode)&&(o="LI"),a=o?t(o):c.create("BR"),wx(n,r,!0)&&wx(n,r,!1)?yx(n,"LI")?c.insertAfter(a,xx(n)):c.replace(a,n):wx(n,r,!0)?yx(n,"LI")?(c.insertAfter(a,xx(n)),a.appendChild(c.doc.createTextNode(" ")),a.appendChild(n)):n.parentNode.insertBefore(a,n):wx(n,r,!1)?c.insertAfter(a,xx(n)):(n=xx(n),(s=d.cloneRange()).setStartAfter(r),s.setEndAfter(n),l=s.extractContents(),"LI"===o&&(u=l).firstChild&&"LI"===u.firstChild.nodeName?(a=l.firstChild,c.insertAfter(l,n)):(c.insertAfter(l,n),c.insertAfter(a,n))),c.remove(r),mx(e,a))}(e,g,l,i,k):k&&i===e.getBody()||(k=k||"P",io(i)?(a=po(i),d.isEmpty(i)&&Cx(i),Ex(e,a),mx(e,a)):m()?v():m(!0)?(a=i.parentNode.insertBefore(g(),i),mx(e,kx(i,"HR")?a:i)):((C=(w=p).cloneRange()).setStart(w.startContainer,_x(!0,w.startContainer,w.startOffset)),C.setEnd(w.endContainer,_x(!1,w.endContainer,w.endOffset)),(n=C.cloneRange()).setEndAfter(i),s=n.extractContents(),q(Ns(At(s),Mt),function(e){var t=e.dom;t.nodeValue=no(t.nodeValue)}),function(e){for(;Ln(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(s),a=s.firstChild,d.insertAfter(s,i),function(e,t,n){var r,o,i=n,a=[];if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Sn(i)&&!t[i.nodeName.toLowerCase()]&&a.push(i)}for(r=a.length;r--;)(!(i=a[r]).hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue||(o=i)&&"A"===o.nodeName&&e.isEmpty(o))&&e.remove(i)}}(d,h,a),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(d,i),d.isEmpty(i)&&Cx(i),a.normalize(),d.isEmpty(a)?(d.remove(a),v()):(Ex(e,a),mx(e,a))),d.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a})))}(e,t)},s)},Kx=ut().browser,Jx=function(e,t){var n=t.container(),r=t.offset();return Ln(n)?(n.insertData(r,e),k.some(xl(n,r+e.length))):zu(t).map(function(n){var r=Et(e);return(t.isAtEnd()?an:on)(n,r),xl(r.dom,e.length)})},Zx=d(Jx,Qr),Qx=d(Jx," "),ew=function(e){var t,n,r=kl.fromRangeStart(e.selection.getRng()),o=At(e.getBody());if(e.selection.isCollapsed()){var i=d(Tv,e),a=kl.fromRangeStart(e.selection.getRng());return Dy(i,e.getBody(),a).bind((n=o,function(e){return e.fold(function(e){return fc(n.dom,kl.before(e))},function(e){return hc(e)},function(e){return pc(e)},function(e){return dc(n.dom,kl.after(e))})})).bind(function(e,t){return function(n){return r=e,(!ep(o=n)&&(function(e,t){return fc(e.dom,t).isNone()||dc(e.dom,t).isNone()||jh(e,t)||Hh(e,t)||Gh(e,t)||Vh(e,t)}(r,o)||Zh(r,o)||Qh(r,o))?Zx:Qx)(t);var r,o}}(o,r)).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}))}return!1},tw=(nw.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(t=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){return e===r||void n.push(e)}),(e=e||{}).element=t,e.parents=n,this.editor.fire("NodeChange",e))},nw.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},nw);function nw(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Ld(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!yt.range&&e.selection.isCollapsed()||gd(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(t){!t.isDefaultPrevented()&&gd(e)&&("IMG"===e.selection.getNode().nodeName?Br.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}var rw=function(e){return Sn(e)&&Gr(At(e))},ow=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},iw=function(e,t){return n=(s=e).inline?ow(s.getBody()):{left:0,top:0},a=(i=e).getBody(),r=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(o=function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n,r,o,i=ow(e.getContentAreaContainer()),a=(r=(n=e).getBody(),o=n.getDoc().documentElement,n.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:r.scrollLeft||o.scrollLeft,top:r.scrollTop||o.scrollTop});return{left:t.pageX-i.left+a.left,top:t.pageY-i.top+a.top}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o,i,a,s},aw=$n,sw=Mn,lw=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},uw=function(e){e.on(function(e){lw(e.ghost)}),e.clear()},cw=Mn,dw=$n,fw=function(e,t){return _d(e.getBody(),t)},hw=us.DOM,pw=function(e){return he(e,function(e){return!1===L(e)})},gw=function(e){var t,n=e.settings,r=e.editorUpload.blobCache;return pw({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:(t=e).inline?t.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:r,images_dataimg_filter:n.images_dataimg_filter})},mw=function(e,t){var n=e.settings,r=e.getDoc(),o=e.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,hw.setAttrib(o,"spellcheck","false")),e.quirks=function(e){var t,n,r,o=kt.each,i=Ed.BACKSPACE,a=Ed.DELETE,s=e.dom,l=e.selection,u=e.parser,c=yt.gecko,d=yt.webkit,f="data:text/mce-internal,",h=yt.ie?"Text":"URL",p=function(t,r){try{e.getDoc().execCommand(t,!1,r)}catch(n){}},g=function(e){return e.isDefaultPrevented()},m=function(){e.shortcuts.add("meta+a",null,"SelectAll")},v=function(){e.on("keydown",function(e){if(!g(e)&&e.keyCode===i&&l.isCollapsed()&&0===l.getRng().startOffset){var t=l.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},y=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(11<yt.ie)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))};return e.on("keydown",function(t){var n;if(!g(t)&&t.keyCode===Ed.BACKSPACE){var r=(n=l.getRng()).startContainer,o=n.startOffset,i=s.getRoot(),a=r;if(n.collapsed&&0===o){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==i;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),(n=s.createRng()).setStart(r,0),n.setEnd(r,0),l.setRng(n))}}}),t=function(e){var t=s.create("body"),n=e.cloneContents();return t.appendChild(n),l.serializer.serialize(t,{format:"html"})},e.on("keydown",function(n){var r,o,l,u,c,d=n.keyCode;if(!g(n)&&(d===a||d===i)){if(r=e.selection.isCollapsed(),o=e.getBody(),r&&!s.isEmpty(o))return;if(!r&&(l=e.selection.getRng(),u=t(l),(c=s.createRng()).selectNode(e.getBody()),u!==t(c)))return;n.preventDefault(),e.setContent(""),o.firstChild&&s.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}}),yt.windowsPhone||e.on("keyup focusin mouseup",function(e){Ed.modifierPressed(e)||l.normalize()},!0),d&&(e.inline||s.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=l.getRng(),e.getBody().focus(),"mousedown"===t.type){if(so(n.startContainer))return;l.placeCaretAt(t.clientX,t.clientY)}else l.setRng(n)}),e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==s.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&s.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),l.select(n))}),Xl(e)&&e.on("init",function(){p("DefaultParagraphSeparator",Xl(e))}),e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})}),v(),u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),yt.iOS?(e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()}),y(),e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):m()),11<=yt.ie&&(y(),v()),yt.ie&&(m(),p("AutoUrlDetect",!1),e.on("dragstart",function(t){var n,r,o;(n=t).dataTransfer&&(e.selection.isCollapsed()&&"IMG"===n.target.tagName&&l.select(n.target),0<(r=e.selection.getContent()).length&&(o=f+escape(e.id)+","+escape(r),n.dataTransfer.setData(h,o)))}),e.on("drop",function(t){var n,r,o,i,a;g(t)||(n=(i=t).dataTransfer&&(a=i.dataTransfer.getData(h))&&0<=a.indexOf(f)?(a=a.substr(f.length).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null)&&n.id!==e.id&&(t.preventDefault(),r=Rd(t.x,t.y,e.getDoc()),l.setRng(r),o=n.html,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:o,internal:!0}):e.execCommand("mceInsertContent",!1,o))})),c&&(e.on("keydown",function(t){if(!g(t)&&t.keyCode===i){if(!e.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){var n=l.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return s.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(s.remove(r),t.preventDefault())}}}),Range.prototype.getClientRects||e.on("mousedown",function(t){var n;g(t)||"HTML"!==t.target.nodeName||((n=e.getBody()).blur(),Br.setEditorTimeout(e,function(){n.focus()}))}),n=function(){var t=s.getAttribs(l.getStart().cloneNode(!1));return function(){var n=l.getStart();n!==e.getBody()&&(s.setAttrib(n,"style",null),o(t,function(e){n.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!l.isCollapsed()&&s.getParent(l.getStart(),s.isBlock)!==s.getParent(l.getEnd(),s.isBlock)},e.on("keypress",function(t){var o;if(!g(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),s.bind(e.getDoc(),"cut",function(t){var o;!g(t)&&r()&&(o=n(),Br.setEditorTimeout(e,function(){o()}))}),e.getParam("readonly")||e.on("BeforeExecCommand mousedown",function(){p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),tu(e)||p("enableObjectResizing",!1)}),e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(s.select("a"),function(e){var t=e.parentNode,n=s.getRoot();if(t.lastChild===e){for(;t&&!s.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}s.add(t,"br",{"data-mce-bogus":1})}})}),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),yt.mac&&e.on("keydown",function(t){!Ed.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}),v()),{refreshContentEditable:function(){},isHidden:function(){if(!c||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}}(e),e.fire("PostRender");var i,a,s,l,u,c,d,f,h,p,g,m=e.getParam("directionality",xs.isRtl()?"rtl":void 0);void 0!==m&&(o.dir=m),n.protect&&e.on("BeforeSetContent",function(e){kt.each(n.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),0<e.contentStyles.length&&(i="",kt.each(e.contentStyles,function(e){i+=e+"\r\n"}),e.dom.addStyle(i)),s=(a=e).contentCSS,c=function(){a.on("remove",function(){return u.unloadAll(s)}),function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("Init"),e.focus(!0),function(e){var t=e.dom.getRoot();e.inline||gd(e)&&e.selection.getStart(!0)!==t||hc(t).each(function(t){var n,r,o,i,a=t.getNode(),s=Dn(a)?hc(a).getOr(t):t;yt.browser.isIE()?(n=e,r=s.toRange(),o=At(n.getBody()),i=(Cf(n)?k.from(r):k.none()).map(kf).filter(wf(o)),n.bookmark=i.isSome()?i:n.bookmark):e.selection.setRng(s.toRange())})}(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&Br.setEditorTimeout(t,function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()},100)}(a)},(u=(l=a).inline?l.ui.styleSheetLoader:l.dom.styleSheetLoader).loadAll(s,c,c),n.content_style&&(f=n.content_style,h=At((d=e).getBody()),p=nn(tn(h)),g=Tt("style"),qn(g,"type","text/css"),ln(g,Et(f)),ln(p,g),d.on("remove",function(){dn(g)}))},vw=function(e,t){var n=e.settings,r=e.getElement(),o=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(o.open(),o.write(e.iframeHTML),o.close()),e.inline&&(hw.addClass(r,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i,a,s,l,c=e.getBody();c.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&"static"===hw.getStyle(c,"position",!0)&&(c.style.position="relative"),c.contentEditable=e.getParam("content_editable_state",!0)),c.disabled=!1,e.editorUpload=function(e){var t,n,r,o,i,a,s,l,c,d=(t=[],n=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var t=e.id||hv("blobid"),n=e.name||t,r=e.blob;return{id:u(t),name:u(n),filename:u(e.filename||n+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[r.type.toLowerCase()]||"dat")),blob:u(r),base64:u(e.base64),blobUri:u(e.blobUri||URL.createObjectURL(r)),uri:u(e.uri)}},{create:function(e,t,r,o,i){if(E(e))return n({id:e,name:o,filename:i,blob:t,base64:r});if(A(e))return n(e);throw new Error("Unknown input type")},add:function(e){o(e.id())||t.push(e)},get:o=function(e){return r(function(t){return t.id()===e})},getByUri:function(e){return r(function(t){return t.blobUri()===e})},getByData:function(e,t){return r(function(n){return n.base64()===e&&n.blob().type===t})},findFirst:r=function(e){return Y(t,e).getOrUndefined()},removeByUri:function(e){t=V(t,function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){q(t,function(e){URL.revokeObjectURL(e.blobUri())}),t=[]}}),f=(s={},l=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:c=function(e){return e in s},getResultUri:function(e){var t=s[e];return t?t.resultUri:null},isPending:function(e){return!!c(e)&&1===s[e].status},isUploaded:function(e){return!!c(e)&&2===s[e].status},markPending:function(e){s[e]=l(1,null)},markUploaded:function(e,t){s[e]=l(2,t)},removeFailed:function(e){delete s[e]},destroy:function(){s={}}}),h=[],p=function(e){var t=ms(null);return e.on("change AddUndo",function(e){t.set(_e({},e.level))}),{fireIfChanged:function(){var n=e.undoManager.data;re(n).filter(function(e){return!Qg(t.get(),e)}).each(function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:te(n,n.length-2).getOrNull()})})}}}(e),g=function(t){return function(n){return e.selection?t(n):[]}},m=function(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e},v=function(e,t,n){return e=m(e,'src="'+t+'"','src="'+n+'"'+(n===yt.transparentSrc?' data-mce-placeholder="1"':"")),m(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},y=function(t,n){q(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=U(e.fragments,function(e){return v(e,t,n)}):e.content=v(e.content,t,n)})},x=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},w=function(t){return i=i||function(e,t){var n={},r=function(e,n,r,o){var i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e,o,a;i.status<200||300<=i.status?r("HTTP Error: "+i.status):(e=JSON.parse(i.responseText))&&"string"==typeof e.location?n((a=e.location,(o=t.basePath)?o.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a)):r("Invalid JSON: "+i.responseText)};var a=new FormData;a.append("file",e.blob(),e.filename()),i.send(a)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},i=function(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}},a=function(e,t){kt.each(n[e],function(e){e(t)}),delete n[e]};return!1===O(t.handler)&&(t.handler=r),{upload:function(s,l){return t.url||t.handler!==r?function(r,s){return r=kt.grep(r,function(t){return!e.isUploaded(t.blobUri())}),_r.all(kt.map(r,function(r){return e.isPending(r.blobUri())?(d=r.blobUri(),new _r(function(e){n[d]=n[d]||[],n[d].push(e)})):(u=t.handler,c=s,e.markPending((l=r).blobUri()),new _r(function(t){var n;try{var s=function(){n&&n.close()};u(l,function(n){s(),e.markUploaded(l.blobUri(),n),a(l.blobUri(),o(l,n)),t(o(l,n))},function(n,r){var o=r||{};s(),e.removeFailed(l.blobUri()),a(l.blobUri(),i(l,n,o)),t(i(l,n,o))},function(e){e<0||100<e||(n=n||c()).progressBar.value(e)})}catch(r){t(i(l,r.message,{}))}}));var l,u,c,d}))}(s,l):new _r(function(e){e([])})}}}(f,{url:e.getParam("images_upload_url","","string"),basePath:e.getParam("images_upload_base_path","","string"),credentials:e.getParam("images_upload_credentials",!1,"boolean"),handler:e.getParam("images_upload_handler",null,"function")}),S().then(g(function(n){var r=U(n,function(e){return e.blobInfo});return i.upload(r,x).then(g(function(r){var o=[],i=U(r,function(t,r){var i=n[r].blobInfo,a=n[r].image;return t.status&&e.getParam("images_replace_blob_uris",!0,"boolean")?(d.removeByUri(a.src),function(t,n){var r,o=e.convertURL(n,"src");y(t.src,n),e.$(t).attr({src:e.getParam("images_reuse_filename",!1,"boolean")?(r=n)+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime():n,"data-mce-src":o})}(a,t.url)):t.error&&(t.error.options.remove&&(y(a.getAttribute("src"),yt.transparentSrc),o.push(a)),sv(e,xs.translate(["Failed to upload image: {0}",t.error.message]))),{element:a,status:t.status,uploadUri:t.url,blobInfo:i}});return 0<i.length&&p.fireIfChanged(),0<o.length&&(sm(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){q(o,function(t){e.dom.remove(t),d.removeByUri(t.src)})})),t&&t(i),i}))}))},C=function(t){if(Kl(e))return w(t)},k=function(t){return!1!==Z(h,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||e.getParam("images_dataimg_filter",b,"function")(t))},S=function(){return(a=a||function(e,t){var n={};return{findAll:function(r,o){o=o||b;var i,a=V((i=r)?oe(i.getElementsByTagName("img")):[],function(t){var n=t.src;return!!yt.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===yt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t))}),s=U(a,function(e){if(void 0!==n[e.src])return new _r(function(t){n[e.src].then(function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})})});var r=new _r(function(n,r){!function(e,t,n,r){var o,i,a,s;0!==t.src.indexOf("blob:")?(i=(o=mm(t.src)).data,(s=e.getByData(a=i,o.type))?n({image:t,blobInfo:s}):ym(t.src).then(function(r){s=e.create(xm(),r,a),e.add(s),n({image:t,blobInfo:s})},function(e){r(e)})):(s=e.getByUri(t.src))?n({image:t,blobInfo:s}):ym(t.src).then(function(r){var o;o=r,new _r(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(o)}).then(function(o){a=mm(o).data,s=e.create(xm(),r,a),e.add(s),n({image:t,blobInfo:s})})},function(e){r(e)})}(t,e,n,r)}).then(function(e){return delete n[e.image.src],e}).catch(function(t){return delete n[e.src],t});return n[e.src]=r});return _r.all(s)}}}(f,d)).findAll(e.getBody(),k).then(g(function(t){return t=V(t,function(t){return"string"!=typeof t||(sv(e,t),!1)}),q(t,function(e){y(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},_=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=f.getResultUri(n);if(r)return'src="'+r+'"';var o=d.getByUri(n);return(o=o||X(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':t})};return e.on("SetContent",function(){(Kl(e)?C:S)()}),e.on("RawSaveContent",function(e){e.content=_(e.content)}),e.on("GetContent",function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=_(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){q(e,function(e){var t,n=e.attr("src");d.getByUri(n)||(t=f.getResultUri(n))&&e.attr("src",t)})})}),{blobCache:d,addFilter:function(e){h.push(e)},uploadImages:w,uploadImagesAuto:C,scanForImages:S,destroy:function(){d.destroy(),f.destroy(),a=i=null}}}(e),e.schema=ii(n),e.dom=us(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:e.getParam("content_css_cors",!1,"boolean"),referrerPolicy:Zl(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=((a=Am(gw(i=e),i.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,o=e.length,a=i.dom,s="data-mce-"+t;o--;)if((r=(n=e[o]).attr(t))&&!n.attr(s)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(s,r),n.attr(t,r)):"tabindex"===t?(n.attr(s,r),n.attr(t,null)):n.attr(s,i.convertURL(r,t,n.name))}}),a.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),i.settings.preserve_cdata&&a.addNodeFilter("#cdata",function(e){for(var t=e.length;t--;){var n=e[t];n.type=8,n.name="#comment",n.value="[CDATA["+i.dom.encode(n.value)+"]]"}}),a.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t=e.length,n=i.schema.getNonEmptyElements();t--;){var r=e[t];r.isEmpty(n)&&0===r.getAll("br").length&&(r.append(new th("br",1)).shortEnded=!0)}}),a),e.serializer=Nm((l=(s=e).settings,_e(_e({},gw(s)),pw({url_converter:l.url_converter,url_converter_scope:l.url_converter_scope,element_format:l.element_format,entities:l.entities,entity_encoding:l.entity_encoding,indent:l.indent,indent_after:l.indent_after,indent_before:l.indent_before,block_elements:l.block_elements,boolean_attributes:l.boolean_attributes,custom_elements:l.custom_elements,extended_valid_elements:l.extended_valid_elements,invalid_elements:l.invalid_elements,invalid_styles:l.invalid_styles,move_caret_before_on_enter_elements:l.move_caret_before_on_enter_elements,non_empty_elements:l.non_empty_elements,schema:l.schema,self_closing_elements:l.self_closing_elements,short_ended_elements:l.short_ended_elements,special:l.special,text_block_elements:l.text_block_elements,text_inline_elements:l.text_inline_elements,valid_children:l.valid_children,valid_classes:l.valid_classes,valid_elements:l.valid_elements,valid_styles:l.valid_styles,verify_html:l.verify_html,whitespace_elements:l.whitespace_elements}))),e),e.selection=gm(e.dom,e.getWin(),e.serializer,e),e.annotator=wd(e),e.formatter=bv(e),e.undoManager=xv(e),e._nodeChangeDispatcher=new tw(e),e._selectionOverrides=function(e){var t,n=e.selection,r=e.dom,o=r.isBlock,i=e.getBody(),a=function(e,t,n,r){var o,i,a=ms(k.none()),s=Xl(e),l=0<s.length?s:"p",u=function(){!function(e){for(var t=Rs(At(e),"*[contentEditable=false],video,audio,embed,object"),n=0;n<t.length;n++){var r,o=t[n].dom,i=o.previousSibling;ho(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),fo(i=o.nextSibling)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}}(t),i&&(pu(i),i=null),a.get().each(function(e){ts(e.caret).remove(),a.set(k.none())}),o&&(Br.clearInterval(o),o=null)},c=function(){o=Br.setInterval(function(){r()?ts("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):ts("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)};return{show:function(e,r){var o,s;if(u(),yu(r))return null;if(!n(r))return i=function(e,t){var n,r=e.ownerDocument.createTextNode(eo),o=e.parentNode;if(t){if(oo(n=e.previousSibling)){if(so(n))return n;if(ho(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(oo(n=e.nextSibling)){if(so(n))return n;if(fo(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(r,e),s=r.ownerDocument.createRange(),wu(i.nextSibling)?(s.setStart(i,0),s.setEnd(i,0)):(s.setStart(i,1),s.setEnd(i,1)),s;i=function(e,t,n){var r,o=t.ownerDocument.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r));var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o}(l,r,e),o=bu(t,r,e),ts(i).css("top",o.top);var d=ts('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0];return a.set(k.some({caret:d,element:r,before:e})),a.get().each(function(t){e&&ts(t.caret).addClass("mce-visual-caret-before")}),c(),(s=r.ownerDocument.createRange()).setStart(i,0),s.setEnd(i,0),s},hide:u,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each(function(e){var n=bu(t,e.element,e.before);ts(e.caret).css(_e({},n))})},destroy:function(){return Br.clearInterval(o)}}}(e,i,o,function(){return If(e)}),s="sel-"+r.uniqueId(),l="data-mce-selected",u=function(e){return e!==i&&(dw(e)||Hn(e))&&r.isChildOf(e,i)},c=function(e){e&&n.setRng(e)},f=n.getRng,h=function(t,r,o,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:r,direction:t,before:o}).isDefaultPrevented()?null:(i&&n.scrollIntoView(r,-1===t),a.show(o,r))},p=function(e){return so(e)||fo(e)||ho(e)},g=function(e){return p(e.startContainer)||p(e.endContainer)},m=function(o){var i=o.cloneNode(!0),a=e.fire("ObjectSelected",{target:o,targetClone:i});if(a.isDefaultPrevented())return null;var u=function(t,o,i){var a=e.$,l=kr(At(e.getBody()),"#"+s).fold(function(){return a([])},function(e){return a([e.dom])});0===l.length&&(l=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s)).appendTo(e.getBody());var u=r.createRng();o===i&&yt.ie?(l.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(o),u.setStartAfter(l[0].firstChild.firstChild),u.setEndAfter(o)):(l.empty().append(Qr).append(o).append(Qr),u.setStart(l[0].firstChild,1),u.setEnd(l[0].lastChild,0)),l.css({top:r.getPos(t,e.getBody()).y}),l[0].focus();var c=n.getSel();return c.removeAllRanges(),c.addRange(u),u}(o,a.targetClone,i),c=At(o);return q(Rs(At(e.getBody()),"*[data-mce-selected]"),function(e){Lt(c,e)||Xn(e,l)}),r.getAttrib(o,l)||o.setAttribute(l,"1"),t=o,b(),u},v=function(e,t){if(!e)return null;if(e.collapsed){if(!g(e)){var n=t?1:-1,o=Hu(n,i,e),a=o.getNode(!t);if(Cu(a))return h(n,a,!!t&&!o.isAtEnd(),!1);var s=o.getNode(t);if(Cu(s))return h(n,s,!t&&!o.isAtEnd(),!1)}return null}var l=e.startContainer,c=e.startOffset,d=e.endOffset;if(3===l.nodeType&&0===c&&dw(l.parentNode)&&(c=r.nodeIndex(l=l.parentNode),l=l.parentNode),1!==l.nodeType)return null;if(d===c+1&&l===e.endContainer){var f=l.childNodes[c];if(u(f))return m(f)}return null},y=function(){t&&t.removeAttribute(l),kr(At(e.getBody()),"#"+s).each(dn),t=null},b=function(){a.hide()};return yt.ceFalse&&function(){var l,p,m;e.on("mouseup",function(t){var n=f();n.collapsed&&Qm(e,t.clientX,t.clientY)&&Yv(e,n,!1).each(c)}),e.on("click",function(t){var o=fw(e,t.target);o&&(dw(o)&&(t.preventDefault(),e.focus()),cw(o)&&r.isChildOf(o,n.getNode())&&y())}),e.on("blur NewBlock",y),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",function(t){var n=t.target,r=fw(e,n);dw(r)?(t.preventDefault(),Xv(e,r).each(v)):u(n)&&Xv(e,n).each(v)},!0),e.on("mousedown",function(t){var a,s,l,f=t.target;f!==i&&"HTML"!==f.nodeName&&!r.isChildOf(f,i)||!1===Qm(e,t.clientX,t.clientY)||((a=fw(e,f))?dw(a)?(t.preventDefault(),Xv(e,a).each(v)):(y(),cw(a)&&t.shiftKey||Td(t.clientX,t.clientY,n.getRng())||(b(),n.placeCaretAt(t.clientX,t.clientY))):u(f)?Xv(e,f).each(v):!1===Cu(f)&&(y(),b(),(s=function(e,t,n){var r,o,i=Sb(V(oe(e.getElementsByTagName("*")),Cu)),a=V(i,d(Ob,n));if(s=Bb(a,t)){var s,l=!Dn(s.node)&&!Hn(s.node);if((s=Bb(function(e,t,n){void 0===n&&(n=!0);var r=[],o=function(e,n){var o=V(Sb([n]),function(n){return!e(n,t)});return r=r.concat(o),0===o.length};return r.push(t),Fb(fb.Up,e,d(o,Ks),t.node,n),Fb(fb.Down,e,d(o,Js),t.node,n),r}(e,s,l),t))&&Cu(s.node))return{node:(r=s).node,before:Lb(r,o=t)<Pb(r,o)}}return null}(i,t.clientX,t.clientY))&&(function(t,n){var i,a=r.getParent(t,o),s=r.getParent(n,o);return!(!a||t===s||!r.isChildOf(a,s)||!1!==dw(fw(e,a)))||a&&(i=s,!(r.getParent(a,o)===r.getParent(i,o)))&&function(e){var t=rc(e);if(!e.firstChild)return!1;var n,r=kl.before(e.firstChild),o=t.next(r);return o&&!(Nh(n=o)||Rh(n)||Th(n)||Eh(n))}(a)}(f,s.node)||(t.preventDefault(),l=h(1,s.node,s.before,!1),e.getBody().focus(),c(l)))))}),e.on("keypress",function(e){Ed.modifierPressed(e)||dw(n.getNode())&&e.preventDefault()}),e.on("GetSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}}),e.on("SetSelectionRange",function(t){t.range=function(t){var n=e.schema.getShortEndedElements(),o=r.createRng(),i=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset;return ge(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),ge(n,s.nodeName.toLowerCase())?0===l?o.setEndBefore(s):o.setEndAfter(s):o.setEnd(s,l),o}(t.range);var n=v(t.range,t.forward);n&&(t.range=n)}),e.on("AfterSetSelectionRange",function(e){var t=e.range,n=t.startContainer.parentNode;g(t)||"mcepastebin"===n.id||b(),r.hasClass(n,"mce-offscreen-selection")||y()}),e.on("copy",function(e){var t,n,o=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||yt.ie||(t=(n=r.get(s))?n.getElementsByTagName("*")[0]:n)&&(e.preventDefault(),o.clearData(),o.setData("text/html",t.outerHTML),o.setData("text/plain",t.outerText||t.innerText))}),function(e){var t,n,r,o,i;(function(e){var t,n,r,o=(t=ms(k.none()),{clear:function(){return t.set(k.none())},set:function(e){return t.set(k.some(e))},isSet:function(){return t.get().isSome()},on:function(e){return t.get().each(e)}}),i=us.DOM,a=document,s=function(e,t){return function(n){var r,o,i,a,s,l;0===n.button&&(r=Y(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(aw,sw)).getOr(null),s=t.getBody(),aw(l=r)&&l!==s&&(o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement,e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:function(e,t,n,r){var o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a}(t,r,r.offsetWidth,r.offsetHeight)})))}}(o,e),l=function(e,t){var n=Br.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return t.on("remove",n.stop),function(r){return e.on(function(e){var o,i,a,s,l,u,c,d,f,h,p,g,m,v=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&10<v){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}e.dragging&&(g=e,o={pageX:(m=iw(t,r)).pageX-g.relX,pageY:m.pageY+5},h=e.ghost,p=t.getBody(),h.parentNode!==p&&p.appendChild(h),s=e.width,l=e.height,u=e.maxX,c=e.maxY,f=d=0,(i=e.ghost).style.left=(a=o).pageX+"px",i.style.top=a.pageY+"px",a.pageX+s>u&&(d=a.pageX+s-u),a.pageY+l>c&&(f=a.pageY+l-c),i.style.width=s-d+"px",i.style.height=l-f+"px",n(r.clientX,r.clientY))})}}(o,e),u=function(e,t){return function(n){e.on(function(e){var r,o,i,a,s,l;e.dragging&&((a=3===(l=(i=t).selection.getSel().getRangeAt(0).startContainer).nodeType?l.parentNode:l)===(s=e.element)||i.dom.isChildOf(a,s)||aw(a)||((o=e.element.cloneNode(!0)).removeAttribute("data-mce-selected"),r=o,t.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact(function(){lw(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})))}),uw(e)}}(o,e),c=(n=o,function(){n.on(function(e){e.dragging&&r.fire("dragend")}),uw(n)});(r=e).on("mousedown",s),e.on("mousemove",l),e.on("mouseup",u),i.bind(a,"mousemove",l),i.bind(a,"mouseup",c),e.on("remove",function(){i.unbind(a,"mousemove",l),i.unbind(a,"mouseup",c)})})(e),(t=e).on("drop",function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;!aw(n)&&"false"!==t.dom.getContentEditableParent(n)||e.preventDefault()}),e.getParam("block_unsupported_drop",!0,"boolean")&&(r=function(e){var t;e.defaultPrevented||(t=e.dataTransfer)&&(H(t.types,"Files")||0<t.files.length)&&(e.preventDefault(),"drop"===e.type&&sv(n,"Dropped file type is not supported"))},o=function(e){Df(n,e.target)&&r(e)},i=function(){var e=us.DOM,t=n.dom,i=document,a=n.inline?n.getBody():n.getDoc(),s=["drop","dragover"];q(s,function(n){e.bind(i,n,o),t.bind(a,n,r)}),n.on("remove",function(){q(s,function(n){e.unbind(i,n,o),t.unbind(a,n,r)})})},(n=e).on("init",function(){Br.setEditorTimeout(n,i,0)}))}(e),p=Ss(function(){var e,t;l.removed||!l.getBody().contains(document.activeElement)||(e=l.selection.getRng()).collapsed&&(t=Kv(l,e,!1),l.selection.setRng(t))},0),(l=e).on("focus",function(){p.throttle()}),l.on("blur",function(){p.cancel()}),(m=e).on("init",function(){m.on("focusin",function(e){var t,n,r=e.target;Hn(r)&&(t=_d(m.getBody(),r),n=$n(t)?t:r,m.selection.getNode()!==n&&Xv(m,n).each(function(e){return m.selection.setRng(e)}))})})}(),{showCaret:h,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(po(e),c(f()),n.scrollIntoView(e))},hideFakeCaret:b,destroy:function(){a.destroy(),t=null}}}(e),function(e){var t=ms(k.none()),n=ms(!1),r=_s(function(t){e.fire("longpress",_e(_e({},t),{type:"longpress"})),n.set(!0)},400);e.on("touchstart",function(e){sb(e).each(function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(k.some(i))})},!0),e.on("touchmove",function(o){r.cancel(),sb(o).each(function(r){t.get().each(function(o){var i,a,s,l;i=r,a=o,s=Math.abs(i.clientX-a.x),l=Math.abs(i.clientY-a.y),(5<s||5<l)&&(t.set(k.none()),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter(function(e){return e.target.isEqualNode(o.target)}).each(function(){n.get()?o.preventDefault():e.fire("tap",_e(_e({},o),{type:"tap"}))})},!0)}(e),function(e){var t,n;(t=e).on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}),(n=e).parser.addNodeFilter("details",function(e){q(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),n.serializer.addNodeFilter("details",function(e){q(e,function(e){var t=e.attr("data-mce-open");e.attr("open",E(t)?t:null),e.attr("data-mce-open",null)})})}(e),sm(e)||function(e){e.on("click",function(t){var n,r,o,i,a;3<=t.detail&&(o=(n=e).selection.getRng(),i=xl.fromRangeStart(o),a=xl.fromRangeEnd(o),xl.isElementPosition(i)&&(r=i.container(),rw(r)&&hc(r).each(function(e){return o.setStart(e.container(),e.offset())})),xl.isElementPosition(a)&&(r=i.container(),rw(r)&&pc(r).each(function(e){return o.setEnd(e.container(),e.offset())})),n.selection.setRng(jp(o)))})}(e);var f,h,p,g,m=sm(f=e)?ms(null):function(e){var t,n=function(e){var t=ms(null),n=d(Tv,e);return e.on("NodeChange",function(r){var o,i,a,s,l,u,c,f,h,p;!ou(e)||yt.browser.isIE()&&r.initial||(u=n,c=r.parents,f=U(Rs(At(e.dom.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom}),h=V(f,u),p=V(c,u),q(ee(h,p),d(jy,!1)),q(ee(p,h),d(jy,!0)),function(e,t){var n,r;e.selection.isCollapsed()&&!0!==e.composing&&t.get()&&(n=kl.fromRangeStart(e.selection.getRng()),kl.isTextPosition(n)&&!1===(uo(r=n)||co(r))&&($y(e,hu(t.get(),n)),t.set(null)))}(e,t),o=n,a=t,s=r.parents,(i=e).selection.isCollapsed()&&(l=V(s,o),q(l,function(e){var t=kl.fromRangeStart(i.selection.getRng());Dy(o,i.getBody(),t).bind(function(e){return Hy(i,a,e)})})))}),t}(e);return(t=e).on("keyup compositionstart",d(db,t)),function(e,t){e.on("keydown",function(n){var r,o,i,a;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,a=ut().os,ex([{keyCode:Ed.RIGHT,action:Qb(Vb,r,!0)},{keyCode:Ed.LEFT,action:Qb(Vb,r,!1)},{keyCode:Ed.UP,action:Qb(Gb,r,!1)},{keyCode:Ed.DOWN,action:Qb(Gb,r,!0)},{keyCode:Ed.RIGHT,action:Qb(px,r,!0)},{keyCode:Ed.LEFT,action:Qb(px,r,!1)},{keyCode:Ed.UP,action:Qb(gx,r,!1)},{keyCode:Ed.DOWN,action:Qb(gx,r,!0)},{keyCode:Ed.RIGHT,action:Qb(tx,r,!0)},{keyCode:Ed.LEFT,action:Qb(tx,r,!1)},{keyCode:Ed.UP,action:Qb(nx,r,!1)},{keyCode:Ed.DOWN,action:Qb(nx,r,!0)},{keyCode:Ed.RIGHT,action:Qb(zy,r,o,!0)},{keyCode:Ed.LEFT,action:Qb(zy,r,o,!1)},{keyCode:Ed.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:Qb(qy,r,o)},{keyCode:Ed.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:Qb(Wy,r,o)},{keyCode:Ed.UP,action:Qb(Zb,r,!1)},{keyCode:Ed.DOWN,action:Qb(Zb,r,!0)}],i).each(function(e){i.preventDefault()}))})}(e,n),function(e,t){e.on("keydown",function(n){var r,o,i;!1===n.isDefaultPrevented()&&(o=t,i=n,ex([{keyCode:Ed.BACKSPACE,action:Qb(ib,r=e,!1)},{keyCode:Ed.BACKSPACE,action:Qb(sy,r,!1)},{keyCode:Ed.DELETE,action:Qb(sy,r,!0)},{keyCode:Ed.BACKSPACE,action:Qb(ey,r,!1)},{keyCode:Ed.DELETE,action:Qb(ey,r,!0)},{keyCode:Ed.BACKSPACE,action:Qb(Xy,r,o,!1)},{keyCode:Ed.DELETE,action:Qb(Xy,r,o,!0)},{keyCode:Ed.BACKSPACE,action:Qb($p,r,!1)},{keyCode:Ed.DELETE,action:Qb($p,r,!0)},{keyCode:Ed.BACKSPACE,action:Qb(ly,r,!1)},{keyCode:Ed.DELETE,action:Qb(ly,r,!0)},{keyCode:Ed.BACKSPACE,action:Qb(Zy,r,!1)},{keyCode:Ed.DELETE,action:Qb(Zy,r,!0)},{keyCode:Ed.BACKSPACE,action:Qb(qv,r,!1)},{keyCode:Ed.DELETE,action:Qb(qv,r,!0)},{keyCode:Ed.BACKSPACE,action:Qb(zv,r,!1)},{keyCode:Ed.DELETE,action:Qb(zv,r,!0)},{keyCode:Ed.BACKSPACE,action:Qb(Ky,r,!1)},{keyCode:Ed.DELETE,action:Qb(Ky,r,!0)}],i).each(function(e){i.preventDefault()}))}),e.on("keyup",function(t){var n,r;!1===t.isDefaultPrevented()&&(r=t,ex([{keyCode:Ed.BACKSPACE,action:Qb(ay,n=e)},{keyCode:Ed.DELETE,action:Qb(ay,n)}],r))})}(e,n),function(e){e.on("keydown",function(t){var n,r,o;t.keyCode===Ed.ENTER&&(n=e,(r=t).isDefaultPrevented()||(r.preventDefault(),(o=n.undoManager).typing&&(o.typing=!1,o.add()),n.undoManager.transact(function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),Yx(n,r)})))})}(e),function(e){e.on("keydown",function(t){var n;!1===t.isDefaultPrevented()&&(n=t,ex([{keyCode:Ed.SPACEBAR,action:Qb(ew,e)}],n).each(function(e){n.preventDefault()}))})}(e),function(e){var t,n;t=e,n=Ss(function(){t.composing||ap(t)},0),Kx.isIE()&&(t.on("keypress",function(e){n.throttle()}),t.on("remove",function(e){n.cancel()})),e.on("input",function(t){!1===t.isComposing&&ap(e)})}(e),function(e){e.on("keydown",function(t){var n,r;!1===t.isDefaultPrevented()&&(r=t,ex([{keyCode:Ed.END,action:Qb(Xb,n=e,!0)},{keyCode:Ed.HOME,action:Qb(Xb,n,!1)},{keyCode:Ed.END,action:Qb(rx,n,!0)},{keyCode:Ed.HOME,action:Qb(rx,n,!1)}],r).each(function(e){r.preventDefault()}))})}(e),n}(f);(function(e,t){e.addCommand("delete",function(){var n,r;r=t,ib(n=e)||sy(n,!1)||ey(n,!1)||Xy(n,r,!1)||zv(n,!1)||$p(n)||ly(n,!1)||Zy(n,!1)||qv(n)||Ky(n,!1)||(ab(n,"Delete"),Lv(n))}),e.addCommand("forwardDelete",function(){var n,r;r=t,sy(n=e,!0)||ey(n,!0)||Xy(n,r,!0)||zv(n,!0)||$p(n)||ly(n,!0)||Zy(n,!0)||qv(n)||Ky(n,!0)||ab(n,"ForwardDelete")})})(e,m),Xl(h=e)&&h.on("NodeChange",d(ub,h)),function(e){var t,n=e.dom,r=Xl(e),o=(t=e).getParam("placeholder",Wl.getAttrib(t.getElement(),"placeholder"),"string"),i=function(t,a){var s,l,u;!function(e){if(kv(e)){var t=e.keyCode;return!Sv(e)&&(Ed.metaKeyPressed(e)||e.altKey||112<=t&&t<=123||H(wv,t))}return!1}(t)&&(s=e.getBody(),l=!(kv(u=t)&&!(Sv(u)||"keyup"===u.type&&229===u.keyCode))&&function(e,t,n){if(Lo(At(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(n,s,r),""!==n.getAttrib(s,Cv)===l&&!a||(n.setAttrib(s,Cv,l?o:null),n.setAttrib(s,"aria-placeholder",l?o:null),e.fire("PlaceholderToggle",{state:l}),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i)))};o&&e.on("init",function(t){i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",function(t){return Br.setEditorTimeout(e,function(){return i(t)})})})}(e),e.fire("PreInit"),pe((g=p=e).plugins,"rtc").fold(function(){return g.rtcInstance=im(p),k.none()},function(e){return k.some(e.setup().then(function(e){return g.rtcInstance=am(p,e),e.isRemote}))}).fold(function(){mw(e,!1)},function(t){e.setProgressState(!0),t.then(function(t){e.setProgressState(!1),mw(e,t)})})},yw=us.DOM,bw=us.DOM,xw=function(e,t,n){var r=rv.get(n),o=rv.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=kt.trim(n),r&&-1===kt.inArray(t,n)){if(kt.each(rv.dependencies(n),function(n){xw(e,t,n)}),e.plugins[n])return;try{var i=new r(e,o,e.$);(e.plugins[n]=i).init&&(i.init(e,o),t.push(n))}catch(ck){!function(e,t,n){var r=xs.translate(["Failed to initialize plugin: {0}",t]);dv(r,n),sv(e,r)}(e,n,ck)}}},ww=function(e){return e.replace(/^\-/,"")},Cw=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},kw=function(e){var t,n,r,o,i,a,l,u,c;e.fire("ScriptsLoaded"),n=kt.trim(Jl(t=e)),r=t.ui.registry.getAll().icons,o=_e(_e({},Vm.get("default").icons),Vm.get(n).icons),se(o,function(e,n){ge(r,n)||t.ui.registry.addIcon(n,e)}),l=ru(i=e),E(l)?(i.settings.theme=ww(l),a=ov.get(l),i.theme=new a(i,ov.urls[l]),i.theme.init&&i.theme.init(i,ov.urls[l]||i.documentBaseUrl.replace(/\/$/,""),i.$)):i.theme={},c=[],kt.each(iu(u=e).split(/[ ,]/),function(e){xw(u,c,ww(e))});var d,f,h,p=function(e){var t,n,r,o=e.getElement();return e.orgDisplay=o.style.display,E(ru(e))?e.theme.renderUI():O(ru(e))?(n=(t=e).getElement(),(r=ru(t)(t,n)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||t.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||t.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r):function(e){var t,n,r=e.getElement();return e.inline?Cw(null):(t=r,n=bw.create("div"),bw.insertAfter(n,t),Cw(n))}(e)}(e);d=e,f=k.from(p.api).getOr({}),h={show:k.from(f.show).getOr(s),hide:k.from(f.hide).getOr(s),disable:k.from(f.disable).getOr(s),isDisabled:k.from(f.isDisabled).getOr(y),enable:function(){d.mode.isReadOnly()||k.from(f.enable).map(v)}},d.ui=_e(_e({},d.ui),h);var g,m,b,x,w={editorContainer:p.editorContainer,iframeContainer:p.iframeContainer};return e.editorContainer=w.editorContainer?w.editorContainer:null,(g=e).contentCSS=g.contentCSS.concat(function(e){var t,n,r=(n=(t=e).getParam("content_css"),E(n)?U(n.split(","),je):D(n)?n:!1===n||t.inline?[]:["default"]),o=e.editorManager.baseURL+"/skins/content",i="content"+e.editorManager.suffix+".css",a=!0===e.inline;return U(r,function(t){return/^[a-z0-9\-]+$/i.test(t)&&!a?o+"/"+t+"/"+i:e.documentBaseURI.toAbsolute(t)})}(g)),e.inline?vw(e):(x=function(e,t){var n,r,o,i,a=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),s=(n=e.id,r=a,o=e.getParam("iframe_attrs",{}),i=Tt("iframe"),Wn(i,o),Wn(i,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),As(i,"tox-edit-area__iframe"),i.dom);s.onload=function(){s.onload=null,e.fire("load")};var l=function(e,t){if(document.domain!==window.location.hostname&&yt.browser.isIE()){var n=hv("mce");e[n]=function(){vw(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return yw.setAttrib(t,"src",r),!0}return!1}(e,s);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=s,e.iframeHTML=function(e){var t=e.getParam("doctype","<!DOCTYPE html>")+"<html><head>";e.getParam("document_base_url","")!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Vl(e,"body_id","tinymce"),r=Vl(e,"body_class","");return Gl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Gl(e)+'" />'),t+'</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'}(e),yw.add(t.iframeContainer,s),l}(m=e,b=w),b.editorContainer&&(yw.get(b.editorContainer).style.display=m.orgDisplay,m.hidden=yw.isHidden(b.editorContainer)),m.getElement().style.display="none",yw.setAttrib(m.id,"aria-hidden","true"),void(x||vw(m)))},Sw=us.DOM,_w=function(e){return"-"===e.charAt(0)},Tw=function(e,t,n){return k.from(t).filter(function(e){return 0<e.length&&!Vm.has(e)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:k.some(t)}})},Ew={"font-size":"size","font-family":"face"},Aw=function(e){return function(t,n){return k.from(n).map(At).filter(Ft).bind(function(n){return function(e,t,n){return Uf(At(n),function(t){return Jn(n=t,e).orThunk(function(){return"font"===It(n)?pe(Ew,e).bind(function(e){return Gn(n,e)}):k.none()});var n},function(e){return Lt(At(t),e)})}(e,t,n.dom).or(k.from(us.DOM.getStyle(n.dom,e,!0)))}).getOr("")}},Dw=Aw("font-size"),Nw=l(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Aw("font-family")),Rw=function(e){return hc(e.getBody()).map(function(e){var t=e.container();return Ln(t)?t.parentNode:t})},Lw=function(e,t){return k.from((n=e).selection.getRng()).bind(function(e){var t=n.getBody();return e.startContainer===t&&0===e.startOffset?k.none():k.from(n.selection.getStart(!0))}).orThunk(d(Rw,e)).map(At).filter(Ft).map(t);var n},Pw=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var r=kt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),o=kt.explode(e.getParam("font_size_classes",""));return o?o[n-1]||t:r[n-1]||t}return t}return t},Iw=kt.each,Ow=kt.map,Bw=kt.inArray,Fw=(Mw.prototype.execCommand=function(e,t,n,r){var i,a,s=!1,l=this;if(!l.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Tf(a=l.editor).each(function(e){return a.selection.setRng(e)}):l.editor.focus(),(r=l.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;var u=e.toLowerCase();if(i=l.commands.exec[u])return i(u,t,n),l.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(Iw(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return l.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!(s=!0)}),s)return s;if(l.editor.theme&&l.editor.theme.execCommand&&l.editor.theme.execCommand(e,t,n))return l.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{s=l.editor.getDoc().execCommand(e,t,n)}catch(o){}return!!s&&(l.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},Mw.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(h){}return!1}},Mw.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(h){}}},Mw.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;Iw(e,function(e,r){Iw(r.toLowerCase().split(","),function(r){n.commands[t][r]=e})})},Mw.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},Mw.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},Mw.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},Mw.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},Mw.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},Mw.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},Mw.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},Mw.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},Mw.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},Mw.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},Mw.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o,i=e.getDoc();try{t.execNativeCommand(n)}catch(c){r=!0}"paste"!==n||i.queryCommandEnabled(n)||(r=!0),!r&&i.queryCommandSupported(n)||(o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),yt.mac&&(o=o.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:o,type:"error"}))},unlink:function(){var t;e.selection.isCollapsed()?(t=e.dom.getParent(e.selection.getStart(),"a"))&&e.dom.remove(t,!0):e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),Iw("left,center,right,justify".split(","),function(t){r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((r=o.parentNode).nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){!function(e,t){var n,r=Pw(e,t);e.formatter.toggle("fontname",{value:(n=r.split(/\s*,\s*/),U(n,function(e){return-1===e.indexOf(" ")||Me(e,'"')||Me(e,"'")?e:"'"+e+"'"}).join(","))}),e.nodeChanged()}(e,r)},FontSize:function(t,n,r){var o;(o=e).formatter.toggle("fontsize",{value:Pw(o,r)}),o.nodeChanged()},LineHeight:function(t,n,r){var o,i;i=r,(o=e).undoManager.transact(function(){o.formatter.toggle("lineheight",{value:String(i)}),o.nodeChanged()})},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1},e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){!function(e,t){var n,r,o,i,a="string"!=typeof(n=t)?(r=kt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};o=a.content,i=a.details,lm(e).editor.insertContent(o,i)}(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(t,n,r){Yx(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){ob(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t,n=e.dom.getParent(e.selection.getStart(),Mn);n&&((t=e.dom.createRng()).selectNodeContents(n),e.selection.setRng(t))},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return Bx(e,r),!0}});var n=function(t){return function(){var n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),o=Ow(r,function(n){return!!e.formatter.matchNode(n,t)});return-1!==Bw(o,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return tb(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",function(){return Lw(t=e,function(e){return Nw(t.getBody(),e.dom)}).getOr("");var t},this),t.addQueryValueHandler("FontSize",function(){return Lw(t=e,function(e){return Dw(t.getBody(),e.dom)}).getOr("");var t},this),t.addQueryValueHandler("LineHeight",function(){return Lw(t=e,function(e){var n=At(t.getBody());return Uf(e,function(e){return Jn(e,"line-height")},d(Lt,n)).getOrThunk(function(){var t=parseFloat(Yn(e,"line-height")),n=parseFloat(Yn(e,"font-size"));return String(t/n)})}).getOr("");var t},this)},Mw);function Mw(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}var $w="data-mce-contenteditable",jw=function(t,n,r){try{t.getDoc().execCommand(n,!1,String(r))}catch(e){}},Hw=function(e,t){e.dom.contentEditable=t?"true":"false"},zw=function(e){return e.readonly},Uw=function(e){e.parser.addAttributeFilter("contenteditable",function(t){zw(e)&&q(t,function(e){e.attr($w,e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter($w,function(t){zw(e)&&q(t,function(e){e.attr("contenteditable",e.attr($w))})}),e.serializer.addTempAttr($w)},qw=kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Ww=(Vw.isNative=function(e){return!!qw[e.toLowerCase()]},Vw.prototype.fire=function(e,t){var n=e.toLowerCase(),r=t||{};r.type=n,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=b},r.stopPropagation=function(){r.isPropagationStopped=b},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=b},r.isDefaultPrevented=y,r.isPropagationStopped=y,r.isImmediatePropagationStopped=y),this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var s=o[i];if(s.once&&this.off(n,s.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===s.func.call(this.scope,r))return r.preventDefault(),r}return r},Vw.prototype.on=function(e,t,n,r){if(!1===t&&(t=y),t){var o={func:t};r&&kt.extend(o,r);for(var i=e.toLowerCase().split(" "),a=i.length;a--;){var s=i[a],l=this.bindings[s];l||(l=this.bindings[s]=[],this.toggleEvent(s,!0)),n?l.unshift(o):l.push(o)}}return this},Vw.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return se(this.bindings,function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]}),this;if(a){if(t)for(var s=a.length;s--;)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),this.bindings[i]=a);else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}else se(this.bindings,function(e,t){n.toggleEvent(t,!1)}),this.bindings={};return this},Vw.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},Vw.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},Vw);function Vw(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||y}var Gw,Xw=function(e){return e._eventDispatcher||(e._eventDispatcher=new Ww({scope:e,toggleEvent:function(t,n){Ww.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},Yw={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var r=Xw(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return Xw(this).on(e,t,n)},off:function(e,t){return Xw(this).off(e,t)},once:function(e,t){return Xw(this).once(e,t)},hasEventListeners:function(e){return Xw(this).has(e)}},Kw=us.DOM,Jw=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=nu(e);return n?(e.eventRoot||(e.eventRoot=Kw.select(n)[0]),e.eventRoot):e.getBody()},Zw=function(e,t,n){var r;(r=e).hidden||zw(r)?zw(e)&&function(e,t){var n,r;"click"!==t.type||Ed.metaKeyPressed(t)||(n=At(t.target),r=e,Sr(n,"a",function(e){return Lt(e,At(r.getBody()))}).bind(function(e){return Gn(e,"href")}).each(function(n){var r,o,i,a;t.preventDefault(),/^#/.test(n)?(r=e.dom.select(n+',[name="'+(Me(o=n,"#")?(i=o,a="#".length,i.substring(a)):o)+'"]')).length&&e.selection.scrollIntoView(r[0],!0):window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}(e,n):e.fire(t,n)},Qw=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=Jw(e,t);if(nu(e)){if(Gw||(Gw={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Gw&&(se(Gw,function(t,n){e.dom.unbind(Jw(e,n))}),Gw=null)})),Gw[t])return;Gw[t]=n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();a!==r&&!Kw.isChildOf(r,a)||Zw(o[i],t,n)}},Kw.bind(r,t,n)}else Kw.bind(r,t,n=function(n){Zw(e,t,n)}),e.delegates[t]=n}},eC=_e(_e({},Yw),{bindPendingEventDelegates:function(){var e=this;kt.each(e._pendingNativeEvents,function(t){Qw(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?Qw(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Jw(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(se(e.delegates,function(t,n){e.dom.unbind(Jw(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),tC=["design","readonly"],nC=function(e,t,n,r){var o=n[t.get()],i=n[r];try{i.activate()}catch(ck){return void console.error("problem while activating editor mode "+r+":",ck)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&function(e,t){var n,r,o=At(e.getBody());(function(e,t,n){var r,o;Ds(e,t)&&!1===n?(o=t,Es(r=e)?r.dom.classList.remove(o):function(e,t){return 0<(o=V(Ts(n=e,r="class"),function(e){return"mce-content-readonly"!==e})).length?qn(n,r,o.join(" ")):Xn(n,r),!1;var n,r,o}(r),function(e){0===(Es(e)?e.dom.classList:Ts(e,"class")).length&&Xn(e,"class")}(r)):n&&As(e,t)})(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),k.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")}),e.readonly=!0,Hw(o,!1),q(Rs(o,'*[contenteditable="true"]'),function(e){qn(e,$w,"true"),Hw(e,!1)})):(e.readonly=!1,Hw(o,!0),q(Rs(o,"*["+$w+'="true"]'),function(e){Xn(e,$w),Hw(e,!0)}),jw(e,"StyleWithCSS",!1),jw(e,"enableInlineTableEditing",!1),jw(e,"enableObjectResizing",!1),(If(r=e)||function(e){return gf().filter(function(t){return!(void 0!==(n=t.dom.classList)&&(n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body")))&&Df(e,t.dom);var n}).isSome()}(r))&&e.focus(),(n=e).selection.setRng(n.selection.getRng()),e.nodeChanged())}(e,i.editorReadOnly),t.set(r),e.fire("SwitchMode",{mode:r})},rC=kt.each,oC=kt.explode,iC={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},aC=kt.makeMap("alt,ctrl,shift,meta,access"),sC=(lC.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return rC(oC(kt.trim(e)),function(e){var n=o.createShortcut(e,t,i,r);o.shortcuts[n.id]=n}),!0},lC.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},lC.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:kt.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},lC.prototype.parseShortcut=function(e){var t,n={};rC(oC(e.toLowerCase(),"+"),function(e){e in aC?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=iC[e]||e.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in aC)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,yt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(yt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},lC.prototype.createShortcut=function(e,t,n,r){var o=kt.map(oC(e,">"),this.parseShortcut);return o[o.length-1]=kt.extend(o[o.length-1],{func:n,scope:r||this.editor}),kt.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},lC.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},lC.prototype.isFunctionKey=function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123},lC.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},lC.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},lC);function lC(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(rC(t.shortcuts,function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}var uC=function(){var e,t,n,r,o,i,a,s,l=(t={},n={},r={},o={},i={},a={},{addButton:(s=function(e,t){return function(n,r){return e[n.toLowerCase()]=_e(_e({},r),{type:t})}})(e={},"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(i,"contexttoolbar"),addContextForm:s(i,"contextform"),addSidebar:s(a,"sidebar"),addIcon:function(e,t){return r[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}});return{addAutocompleter:l.addAutocompleter,addButton:l.addButton,addContextForm:l.addContextForm,addContextMenu:l.addContextMenu,addContextToolbar:l.addContextToolbar,addIcon:l.addIcon,addMenuButton:l.addMenuButton,addMenuItem:l.addMenuItem,addNestedMenuItem:l.addNestedMenuItem,addSidebar:l.addSidebar,addSplitButton:l.addSplitButton,addToggleButton:l.addToggleButton,addGroupToolbarButton:l.addGroupToolbarButton,addToggleMenuItem:l.addToggleMenuItem,getAll:l.getAll}},cC=kt.each,dC=kt.trim,fC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),hC={ftp:21,http:80,https:443,mailto:25},pC=(gC.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},gC.getDocumentBaseUrl=function(e){var t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},gC.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},gC.prototype.toRelative=function(e){var t;if("./"===e)return e;var n=new gC(e,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var r=this.getURI(),o=n.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(t=this.toRelPath(this.path,n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),t)},gC.prototype.toAbsolute=function(e,t){var n=new gC(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))},gC.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=hC[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},gC.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||a[n]!==s[n]){o=n+1;break}if(a.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||a[n]!==s[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=s.length;n<r;n++)i+=n!==o-1?"/"+s[n]:s[n];return i},gC.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),l=t.split("/");for(cC(s,function(e){e&&i.push(e)}),s=i,n=l.length-1,i=[];0<=n;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?0<o?o--:i.push(l[n]):o++);return 0!==(r=(n=s.length-o)<=0?Q(i).join("/"):s.slice(0,n).join("/")+"/"+Q(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},gC.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(t+=this.protocol?this.protocol+"://":"//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},gC);function gC(e,t){e=dC(e),this.settings=t||{};var n,r,o,i,a=this.settings.base_uri,s=this;/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)?s.source=e:(n=0===e.indexOf("//"),0!==e.indexOf("/")||n||(e=(a&&a.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=this.settings.base_uri?this.settings.base_uri.path:new gC(document.location.href).directory,e=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+s.toAbsPath(r,e):(o=/([^#?]*)([#?]?.*)/.exec(e),(a&&a.protocol||"http")+"://mce_host"+s.toAbsPath(r,o[1])+o[2])),e=e.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),cC(fC,function(e,t){var n=(n=i[t])&&n.replace(/\(mce_at\)/g,"@@");s[e]=n}),a&&(s.protocol||(s.protocol=a.protocol),s.userInfo||(s.userInfo=a.userInfo),s.port||"mce_host"!==s.host||(s.port=a.port),s.host&&"mce_host"!==s.host||(s.host=a.host),s.source=""),n&&(s.protocol=""))}var mC=us.DOM,vC=kt.extend,yC=kt.each,bC=kt.resolve,xC=yt.ie,wC=(CC.prototype.render=function(){!function(e){var t=e.id;xs.setCode(Ql(e));var n,r,o,i,a=function(){Sw.unbind(window,"ready",a),e.render()};gi.Event.domLoaded?e.getElement()&&yt.contentEditable&&(n=At(e.getElement()),r=X(n.dom.attributes,function(e,t){return e[t.name]=t.value,e},{}),e.on("remove",function(){W(n.dom.attributes,function(e){return Xn(n,e.name),0}),Wn(n,r)}),e.ui.styleSheetLoader=$r.forElement(n,{contentCssCors:(o=e).getParam("content_css_cors"),referrerPolicy:Zl(o)}),e.getParam("inline")?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden"),(i=e.getElement().form||Sw.getParent(t,"form"))&&(e.formElement=i,e.getParam("hidden_input")&&!Rn(e.getElement())&&(Sw.insertAfter(Sw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},Sw.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),!e.getParam("submit_patch")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=iv(e),e.notificationManager=ev(e),"xml"===e.getParam("encoding")&&e.on("GetContent",function(e){e.save&&(e.content=Sw.encode(e.content))}),e.getParam("add_form_submit_trigger")&&e.on("submit",function(){e.initialized&&e.save()}),e.getParam("add_unload_trigger")&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),function(e,t){var n,r,o,i,a,l,u=hs.ScriptLoader;n=u,o=t,i=function(){var n,r;(function(e,t){var n,r=Ql(t),o=t.getParam("language_url","","string");!1===xs.hasCode(r)&&"en"!==r&&e.add(n=""!==o?o:t.editorManager.baseURL+"/langs/"+r+".js",s,void 0,function(){lv(t,"LanguageLoadError",uv("language",n,r))})})(u,e),function(e,t,n){var r=Tw(t,"default",n),o=k.from(t.getParam("icons_url","","string")).filter(function(e){return 0<e.length}).map(function(e){return{url:e,name:k.none()}}).orThunk(function(){return Tw(t,Jl(t),"")});q(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([r,o]),function(n){e.add(n.url,s,void 0,function(){var e,r,o;e=t,r=n.url,o=n.name.getOrUndefined(),lv(e,"IconsLoadError",uv("icons",r,o))})})}(u,e,t),r=t,kt.each((n=e).getParam("external_plugins"),function(e,t){rv.load(t,e,s,void 0,function(){cv(n,e,t)}),n.settings.plugins+=" "+t}),kt.each(iu(n).split(/[ ,]/),function(e){var t,o;(e=kt.trim(e))&&!rv.urls[e]&&(_w(e)?(e=e.substr(1,e.length),t=rv.dependencies(e),kt.each(t,function(e){var t=rv.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},e);rv.load(t.resource,t,s,void 0,function(){cv(n,t.prefix+t.resource+t.suffix,t.resource)})})):rv.load(e,o={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},s,void 0,function(){cv(n,o.prefix+o.resource+o.suffix,e)}))}),u.loadQueue(function(){e.removed||kw(e)},e,function(){e.removed||kw(e)})},l=ru(r=e),E(l)?(_w(l)||ov.urls.hasOwnProperty(l)||((a=r.getParam("theme_url"))?ov.load(l,r.documentBaseURI.toAbsolute(a)):ov.load(l,"themes/"+l+"/theme"+o+".js")),n.loadQueue(function(){ov.waitFor(l,i)})):i()}(e,e.suffix)):Sw.bind(window,"ready",a)}(this)},CC.prototype.focus=function(e){this.removed||(e?Bf:Of)(this)},CC.prototype.hasFocus=function(){return If(this)},CC.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?bC(r):0,o=bC(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,t)},CC.prototype.translate=function(e){return xs.translate(e)},CC.prototype.getParam=function(e,t,n){return function(e,t,n,r){var o,i,a,s=t in e.settings?e.settings[t]:n;return"hash"===r?(a={},"string"==typeof(i=s)?q(0<i.indexOf("=")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){var t=e.split("=");a[kt.trim(t[0])]=kt.trim(1<t.length?t[1]:t[0])}):a=i,a):"string"===r?Wm(E,e,t).getOr(n):"number"===r?Wm(B,e,t).getOr(n):"boolean"===r?Wm(R,e,t).getOr(n):"object"===r?Wm(A,e,t).getOr(n):"array"===r?Wm(D,e,t).getOr(n):"string[]"===r?Wm((o=E,function(e){return D(e)&&Z(e,o)}),e,t).getOr(n):"function"===r?Wm(O,e,t).getOr(n):s}(this,e,t,n)},CC.prototype.hasPlugin=function(e,t){return!(!H(iu(this).split(/[ ,]/),e)||t&&void 0===rv.get(e))},CC.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},CC.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},CC.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},CC.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},CC.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},CC.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},CC.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},CC.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},CC.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},CC.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(mC.show(this.getContainer()),mC.hide(this.id)),this.load(),this.fire("show"))},CC.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(xC&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(mC.hide(e.getContainer()),mC.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},CC.prototype.isHidden=function(){return!!this.hidden},CC.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},CC.prototype.load=function(e){var t=this.getElement();if(this.removed)return"";if(t){(e=e||{}).load=!0;var n=Rn(t)?t.value:t.innerHTML,r=this.setContent(n,e);return e.element=t,e.no_events||this.fire("LoadContent",e),e.element=t=null,r}},CC.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,Rn(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=mC.getParent(r.id,"form"))&&yC(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},CC.prototype.setContent=function(e,t){return Rm(this,e,t)},CC.prototype.getContent=function(e){return function(e,t){var n,r;return void 0===t&&(t={}),n=t,r=t.format?t.format:"html",lm(e).editor.getContent(n,r)}(this,e)},CC.prototype.insertContent=function(e,t){t&&(e=vC({content:e},t)),this.execCommand("mceInsertContent",!1,e)},CC.prototype.resetContent=function(e){void 0===e?Rm(this,this.startContent,{format:"raw"}):Rm(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},CC.prototype.isDirty=function(){return!this.isNotDirty},CC.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},CC.prototype.getContainer=function(){return this.container||(this.container=mC.get(this.editorContainer||this.id+"_parent")),this.container},CC.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},CC.prototype.getElement=function(){return this.targetElm||(this.targetElm=mC.get(this.id)),this.targetElm},CC.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},CC.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},CC.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},CC.prototype.convertURL=function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},CC.prototype.addVisual=function(e){!function(e,t){return n=t,um(e).editor.addVisual(n);var n}(this,e)},CC.prototype.remove=function(){!function(e){var t,n,r,o,i;e.removed||(t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Lm.remove(o.nextSibling),e.fire("remove"),e.editorManager.remove(e),!e.inline&&r&&Lm.setStyle((i=e).id,"display",i.orgDisplay),e.fire("detach"),Lm.remove(e.getContainer()),Pm(t),Pm(n),e.destroy())}(this)},CC.prototype.destroy=function(e){!function(e,t){var n,r,o,i=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Pm(i),Pm(a)),(r=(n=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),Lm.unbind(r,"submit reset",n.formEventDelegate)),(o=e).contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null),e.destroyed=!0):e.remove())}(this,e)},CC.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},CC.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},CC.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},CC.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},CC.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},CC.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},CC);function CC(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,vC(this,eC),this.settings=function(e,t,n,r,o){var i,a,s,l,c=(i=n,a=Fm,s=e,l={id:t,theme:"silver",toolbar_mode:qm(o,"floating"),plugins:"",document_base_url:i,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s},_e(_e({},l),a?Hm:{}));return function(e,t,n,r,o){var i,a,s,l,c,f,h=e?{mobile:(i=o.mobile||{},a=t,s={resize:!1,toolbar_mode:qm(i,"scrolling"),toolbar_sticky:!1},_e(_e(_e({},Hm),s),a?{menubar:!1}:{}))}:{},p=function(e,t){var n,r=fe(t,function(t,n){return H(e,n)});return n=r.f,{sections:u(r.t),settings:u(n)}}(["mobile"],Om(h,o)),g=kt.extend(n,r,p.settings(),e&&Um(p,"mobile")?function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return kt.extend({},n,o)}(p,"mobile"):{},{validate:!0,external_plugins:(l=r,c=p.settings(),f=c.external_plugins?c.external_plugins:{},l&&l.external_plugins?kt.extend({},l.external_plugins,f):f)});return function(e,t,n,r){var o,i,a=zm(n.forced_plugins),s=zm(r.plugins),l=Um(o=t,"mobile")?o.sections().mobile:{},u=function(e,t,n,r){return e&&(a=i="mobile",s=(o=t).sections(),Um(o,i)&&s[i].theme===a)?V(r,d(H,jm)):e&&Um(t,"mobile")?r:n;var o,i,a,s}(e,t,s,l.plugins?zm(l.plugins):s),c=(i=u,[].concat(zm(a)).concat(zm(i)));if(yt.browser.isIE()&&H(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return kt.extend(r,{plugins:c.join(" ")})}(e,p,r,g)}(Mm||$m,Mm,c,r,o)}(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(hs.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),us.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ks.languageLoad=this.settings.language_load,ks.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new pC(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new sC(this),this.editorCommands=new Fw(this),this.settings.cache_suffix&&(yt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:uC(),styleSheetLoader:void 0,show:s,hide:s,enable:s,disable:s,isDisabled:y};var o=function(e){var t,n,r=ms("design"),o=ms({design:{activate:s,deactivate:s,editorReadOnly:!1},readonly:{activate:s,deactivate:s,editorReadOnly:!0}});return(t=e).serializer?Uw(t):t.on("PreInit",function(){Uw(t)}),(n=e).on("ShowCaret",function(e){zw(n)&&e.preventDefault()}),n.on("ObjectSelected",function(e){zw(n)&&e.preventDefault()}),{isReadOnly:function(){return zw(e)},set:function(t){return function(e,t,n,r){if(r!==n.get()){if(!ge(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?nC(e,n,t,r):e.on("init",function(){return nC(e,n,t,r)})}}(e,o.get(),r,t)},get:function(){return r.get()},register:function(e,t){o.set(function(e,t,n){var r;if(H(tC,t))throw new Error("Cannot override default mode "+t);return _e(_e({},e),((r={})[t]=_e(_e({},n),{deactivate:function(){try{n.deactivate()}catch(ck){console.error("problem while deactivating editor mode "+t+":",ck)}}}),r))}(o.get(),e,t))}}}(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ts.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}var kC,SC=us.DOM,_C=kt.explode,TC=kt.each,EC=kt.extend,AC=0,DC=!1,NC=[],RC=[],LC=function(e){var t=e.type;TC(BC.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},PC=function(e){e!==DC&&(e?ts(window).on("resize scroll",LC):ts(window).off("resize scroll",LC),DC=e)},IC=function(e){var t=RC;delete NC[e.id];for(var n=0;n<NC.length;n++)if(NC[n]===e){NC.splice(n,1);break}return RC=V(RC,function(t){return e!==t}),BC.activeEditor===e&&(BC.activeEditor=0<RC.length?RC[0]:null),BC.focusedEditor===e&&(BC.focusedEditor=null),t.length!==RC.length},OC="CSS1Compat"!==document.compatMode,BC=_e(_e({},Yw),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ts,majorVersion:"5",minorVersion:"6.2",releaseDate:"2020-12-08",editors:NC,i18n:xs,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t="",n=pC.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r,o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,t=o.suffix;else{for(var i,a=document.getElementsByTagName("script"),s=0;s<a.length;s++)if(""!==(i=a[s].src||"")){var l=i.substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==l.indexOf(".min")&&(t=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(".min")&&(t=".min"),e=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new pC(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new pC(this.baseURL),this.suffix=t,(r=this).on("AddEditor",d(Nf,r)),r.on("RemoveEditor",d(Rf,r))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t),e.suffix&&(this.suffix=e.suffix);var n=(this.defaultSettings=e).plugin_base_urls;void 0!==n&&se(n,function(e,t){ks.PluginManager.urls[t]=e})},init:function(e){var t,n=this,r=kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e){var t=e.id;return t||(t=pe(e,"name").filter(function(e){return!SC.get(e)}).getOrThunk(SC.uniqueId),e.setAttribute("id",t)),t},i=function(e,t){return t.constructor===RegExp?t.test(e.className):SC.hasClass(e,t)},a=function(e){t=e},s=function(){var t,l=0,u=[],c=function(e,r,o){var i=new wC(e,r,n);u.push(i),i.on("init",function(){++l===t.length&&a(u)}),i.targetElm=i.targetElm||o,i.render()};SC.unbind(window,"ready",s),function(t){var r=e[t];r&&r.apply(n,Array.prototype.slice.call(arguments,2))}("onpageload"),t=ts.unique(function(e){var t=[];if(yt.browser.isIE()&&yt.browser.version.major<11)return dv("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(OC)return dv("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return TC(e.types,function(e){t=t.concat(SC.select(e.selector))}),t;if(e.selector)return SC.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var n=e.elements||"";0<n.length&&TC(_C(n),function(e){var n=SC.get(e);n?t.push(n):TC(document.forms,function(n){TC(n.elements,function(n){n.name===e&&(e="mce_editor_"+AC++,SC.setAttrib(n,"id",e),t.push(n))})})});break;case"textareas":case"specific_textareas":TC(SC.select("textarea"),function(n){e.editor_deselector&&i(n,e.editor_deselector)||e.editor_selector&&!i(n,e.editor_selector)||t.push(n)})}return t}(e)),e.types?TC(e.types,function(n){kt.each(t,function(t){return!SC.is(t,n.selector)||(c(o(t),EC({},e,n),t),!1)})}):(kt.each(t,function(e){var t;(t=n.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(IC(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(t=kt.grep(t,function(e){return!n.get(e.id)})).length?a([]):TC(t,function(t){e.inline&&t.tagName.toLowerCase()in r?dv("Could not initialize inline editor on invalid inline target element",t):c(o(t),e,t)}))};return n.settings=e,SC.bind(window,"ready",s),new _r(function(e){t?e(t):a=function(t){e(t)}})},get:function(e){return 0===arguments.length?RC.slice(0):E(e)?Y(RC,function(t){return t.id===e}).getOr(null):B(e)&&RC[e]?RC[e]:null},add:function(e){var t=this;return NC[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(NC[e.id]=e),NC.push(e),RC.push(e)),PC(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),kC||(kC=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",kC))),e},createEditor:function(e,t){return this.add(new wC(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!E(e))return N(r.get((n=e).id))?null:(IC(n)&&r.fire("RemoveEditor",{editor:n}),0===RC.length&&window.removeEventListener("beforeunload",kC),n.remove(),PC(0<RC.length),n);TC(SC.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})}else for(t=RC.length-1;0<=t;t--)r.remove(RC[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new wC(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){TC(RC,function(e){e.save()})},addI18n:function(e,t){xs.add(e,t)},translate:function(e){return xs.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new pC(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new pC(this.baseURL)}});BC.setup();var FC,MC,$C,jC,HC=Math.min,zC=Math.max,UC=Math.round,qC=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,l=t.h,u=(n||"").split("");return"b"===u[0]&&(o+=l),"r"===u[1]&&(r+=s),"c"===u[0]&&(o+=UC(l/2)),"c"===u[1]&&(r+=UC(s/2)),"b"===u[3]&&(o-=a),"r"===u[4]&&(r-=i),"c"===u[3]&&(o-=UC(a/2)),"c"===u[4]&&(r-=UC(i/2)),WC(r,o,i,a)},WC=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},VC={inflate:function(e,t,n){return WC(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:qC,findBestRelativePosition:function(e,t,n,r){for(var o,i=0;i<r.length;i++)if((o=qC(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=zC(e.x,t.x),r=zC(e.y,t.y),o=HC(e.x+e.w,t.x+t.w),i=HC(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:WC(n,r,o-n,i-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,s=t.x+t.w,l=t.y+t.h,u=zC(0,t.x-r),c=zC(0,t.y-o),d=zC(0,i-s),f=zC(0,a-l);return r+=u,o+=c,n&&(i+=u,a+=c,r-=d,o-=f),WC(r,o,(i-=d)-r,(a-=f)-o)},create:WC,fromClientRect:function(e){return WC(e.left,e.top,e.width,e.height)}},GC=(FC={},MC={},{load:function(e,t){var n='Script at URL "'+t+'" failed to load',r='Script at URL "'+t+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==FC[e])return FC[e];var o=new _r(function(o,i){var a=function(e,t,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||(r=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))}},a=i(e),s=i(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==o||(o=setTimeout(function(){return s.apply(null,e)},n))},resolve:a,reject:s}}(o,i);MC[e]=a.resolve,hs.ScriptLoader.loadScript(t,function(){return a.start(r)},function(){return a.reject(n)})});return FC[e]=o},add:function(e,t){void 0!==MC[e]&&(MC[e](t),delete MC[e]),FC[e]=_r.resolve(t)}}),XC=kt.each,YC=kt.extend,KC=function(){};KC.extend=$C=function(e){var t=this.prototype,n=function(){var e,t,n;if(!jC&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},r=function(){return this};jC=!0;var o=new this;return jC=!1,e.Mixins&&(XC(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),t.Mixins&&(e.Mixins=t.Mixins.concat(e.Mixins))),e.Methods&&XC(e.Methods.split(","),function(t){e[t]=r}),e.Properties&&XC(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}}),e.Statics&&XC(e.Statics,function(e,t){n[t]=e}),e.Defaults&&t.Defaults&&(e.Defaults=YC({},t.Defaults,e.Defaults)),se(e,function(e,n){var r,i;o[n]="function"==typeof e&&t[n]?(r=n,i=e,function(){var e=this._super;this._super=t[r];var n=i.apply(this,arguments);return this._super=e,n}):e}),n.prototype=o,(n.constructor=n).extend=$C,n};var JC=Math.min,ZC=Math.max,QC=Math.round,ek={serialize:function(e){var t=JSON.stringify(e);return E(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},parse:function(e){try{return JSON.parse(e)}catch(t){}}},tk={callbacks:{},count:0,send:function(e){var t=this,n=us.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},nk=_e(_e({},Yw),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):Br.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",nk.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&kt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=nk.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();Br.setTimeout(r,10)}}),rk=kt.extend,ok=(ik.sendRPC=function(e){return(new ik).send(e)},ik.prototype.send=function(e){var t=e.error,n=e.success,r=rk(this.settings,e);r.success=function(e,o){void 0===(e=ek.parse(e))&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=ek.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",nk.send(r)},ik);function ik(e){this.settings=rk({},e),this.count=0}try{var ak,sk="__storage_test__";(ak=window.localStorage).setItem(sk,sk),ak.removeItem(sk)}catch(ck){ak=function(){return e={},t=[],n={getItem:function(t){return e[t]||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0},Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n;var e,t,n}()}var lk,uk=kt.extend(BC,{geom:{Rect:VC},util:{Promise:_r,Delay:Br,Tools:kt,VK:Ed,URI:pC,Class:KC,EventDispatcher:Ww,Observable:Yw,I18n:xs,XHR:nk,JSON:ek,JSONRequest:ok,JSONP:tk,LocalStorage:ak,Color:function(e){var t={},n=0,r=0,o=0,i=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=ZC(0,JC(t,1)),i=ZC(0,JC(i,1)),0!==t){var a=e/60,s=i*t,l=s*(1-Math.abs(a%2-1)),u=i-s;switch(Math.floor(a)){case 0:n=s,r=l,o=0;break;case 1:n=l,r=s,o=0;break;case 2:n=0,r=s,o=l;break;case 3:n=0,r=l,o=s;break;case 4:n=l,r=0,o=s;break;case 5:n=s,r=0,o=l;break;default:n=r=o=0}n=QC(255*(n+u)),r=QC(255*(r+u)),o=QC(255*(o+u))}else n=r=o=QC(255*i)}(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:255<n?255:n,r=r<0?0:255<r?255:r,o=o<0?0:255<o?255:o,t};return e&&i(e),t.toRgb=function(){return{r:n,g:r,b:o}},t.toHsv=function(){return e=n,t=r,i=o,s=0,(l=JC(e/=255,JC(t/=255,i/=255)))===(u=ZC(e,ZC(t,i)))?{h:0,s:0,v:100*(s=l)}:(a=(u-l)/u,{h:QC(60*((e===l?3:i===l?1:5)-(e===l?t-i:i===l?e-t:i-e)/((s=u)-l))),s:QC(100*a),v:QC(100*s)});var e,t,i,a,s,l,u},t.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(n)+e(r)+e(o)},t.parse=i,t}},dom:{EventUtils:gi,Sizzle:ga,DomQuery:ts,TreeWalker:jr,TextSeeker:qs,DOMUtils:us,ScriptLoader:hs,RangeUtils:Gd,Serializer:Nm,StyleSheetLoader:Fr,ControlSelection:Dd,BookmarkManager:Sd,Selection:gm,Event:gi.Event},html:{Styles:si,Entities:Yo,Node:th,Schema:ii,SaxParser:fh,DomParser:Am,Writer:oh,Serializer:ih},Env:yt,AddOnManager:ks,Annotator:wd,Formatter:bv,UndoManager:xv,EditorCommands:Fw,WindowManager:iv,NotificationManager:ev,EditorObservable:eC,Shortcuts:sC,Editor:wC,FocusManager:Ef,EditorManager:BC,DOM:us.DOM,ScriptLoader:hs.ScriptLoader,PluginManager:rv,ThemeManager:ov,IconManager:Vm,Resource:GC,trim:kt.trim,isArray:kt.isArray,is:kt.is,toArray:kt.toArray,makeMap:kt.makeMap,each:kt.each,map:kt.map,grep:kt.grep,inArray:kt.inArray,extend:kt.extend,create:kt.create,walk:kt.walk,createNS:kt.createNS,resolve:kt.resolve,explode:kt.explode,_addCacheSuffix:kt._addCacheSuffix,isOpera:yt.opera,isWebKit:yt.webkit,isIE:yt.ie,isGecko:yt.gecko,isMac:yt.mac});lk=uk,window.tinymce=lk,window.tinyMCE=lk,function(e){if("object"==typeof module)try{module.exports=e}catch(t){}}(uk)}(),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,r){"use strict";var o,i,a,s,l=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new i(e?at(this[o.iApiIndex]):this)},this.fnAddData=function(t,n){var o=this.api(!0),i=Array.isArray(t)&&(Array.isArray(t[0])||e.isPlainObject(t[0]))?o.rows.add(t):o.row.add(t);return(n===r||n)&&o.draw(),i.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],o=n.oScroll;e===r||e?t.draw(!1):""===o.sX&&""===o.sY||ze(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===r||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var o=this.api(!0),i=o.rows(e),a=i.settings()[0],s=a.aoData[i[0][0]];return i.remove(),t&&t.call(this,a,s),(n===r||n)&&o.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,o,i,a){var s=this.api(!0);null===t||t===r?s.search(e,n,o,a):s.column(t).search(e,n,o,a),s.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==r){var o=e.nodeName?e.nodeName.toLowerCase():"";return t!==r||"td"==o||"th"==o?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==r?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===r||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var o=this.api(!0).column(e).visible(t);(n===r||n)&&o.columns.adjust().draw()},this.fnSettings=function(){return at(this[o.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,o,i){var a=this.api(!0);return n===r||null===n?a.row(t).data(e):a.cell(t,n).data(e),(i===r||i)&&a.columns.adjust(),(o===r||o)&&a.draw(),0},this.fnVersionCheck=o.fnVersionCheck;var n=this,a=t===r,s=this.length;for(var u in a&&(t={}),this.oApi=this.internal=o.internal,l.ext.internal)u&&(this[u]=Ot(u));return this.each(function(){var o,i=s>1?ut({},t,!0):t,u=0,c=this.getAttribute("id"),d=!1,f=l.defaults,h=e(this);if("table"==this.nodeName.toLowerCase()){R(f),L(f.column),A(f,f,!0),A(f.column,f.column,!0),A(f,e.extend(i,h.data()),!0);var p=l.settings;for(u=0,o=p.length;u<o;u++){var g=p[u];if(g.nTable==this||g.nTHead&&g.nTHead.parentNode==this||g.nTFoot&&g.nTFoot.parentNode==this){if(a||(i.bRetrieve!==r?i.bRetrieve:f.bRetrieve))return g.oInstance;if(i.bDestroy!==r?i.bDestroy:f.bDestroy){g.oInstance.fnDestroy();break}return void st(g,0,"Cannot reinitialise DataTable",3)}if(g.sTableId==this.id){p.splice(u,1);break}}null!==c&&""!==c||(c="DataTables_Table_"+l.ext._unique++,this.id=c);var m=e.extend(!0,{},l.models.oSettings,{sDestroyWidth:h[0].style.width,sInstance:c,sTableId:c});m.nTable=this,m.oApi=n.internal,m.oInit=i,p.push(m),m.oInstance=1===n.length?n:h.dataTable(),R(i),D(i.oLanguage),i.aLengthMenu&&!i.iDisplayLength&&(i.iDisplayLength=Array.isArray(i.aLengthMenu[0])?i.aLengthMenu[0][0]:i.aLengthMenu[0]),i=ut(e.extend(!0,{},f),i),lt(m.oFeatures,i,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),lt(m,i,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),lt(m.oScroll,i,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),lt(m.oLanguage,i,"fnInfoCallback"),dt(m,"aoDrawCallback",i.fnDrawCallback,"user"),dt(m,"aoServerParams",i.fnServerParams,"user"),dt(m,"aoStateSaveParams",i.fnStateSaveParams,"user"),dt(m,"aoStateLoadParams",i.fnStateLoadParams,"user"),dt(m,"aoStateLoaded",i.fnStateLoaded,"user"),dt(m,"aoRowCallback",i.fnRowCallback,"user"),dt(m,"aoRowCreatedCallback",i.fnCreatedRow,"user"),dt(m,"aoHeaderCallback",i.fnHeaderCallback,"user"),dt(m,"aoFooterCallback",i.fnFooterCallback,"user"),dt(m,"aoInitComplete",i.fnInitComplete,"user"),dt(m,"aoPreDrawCallback",i.fnPreDrawCallback,"user"),m.rowIdFn=J(i.rowId),P(m);var v=m.oClasses;if(e.extend(v,l.ext.classes,i.oClasses),h.addClass(v.sTable),m.iInitDisplayStart===r&&(m.iInitDisplayStart=i.iDisplayStart,m._iDisplayStart=i.iDisplayStart),null!==i.iDeferLoading){m.bDeferLoading=!0;var y=Array.isArray(i.iDeferLoading);m._iRecordsDisplay=y?i.iDeferLoading[0]:i.iDeferLoading,m._iRecordsTotal=y?i.iDeferLoading[1]:i.iDeferLoading}var b=m.oLanguage;e.extend(!0,b,i.oLanguage),b.sUrl&&(e.ajax({dataType:"json",url:b.sUrl,success:function(t){D(t),A(f.oLanguage,t),e.extend(!0,b,t),Pe(m)},error:function(){Pe(m)}}),d=!0),null===i.asStripeClasses&&(m.asStripeClasses=[v.sStripeOdd,v.sStripeEven]);var x=m.asStripeClasses,w=h.children("tbody").find("tr").eq(0);-1!==e.inArray(!0,e.map(x,function(e,t){return w.hasClass(e)}))&&(e("tbody tr",this).removeClass(x.join(" ")),m.asDestroyStripes=x.slice());var C,k=[],S=this.getElementsByTagName("thead");if(0!==S.length&&(de(m.aoHeader,S[0]),k=fe(m)),null===i.aoColumns)for(C=[],u=0,o=k.length;u<o;u++)C.push(null);else C=i.aoColumns;for(u=0,o=C.length;u<o;u++)O(m,k?k[u]:null);if(U(m,i.aoColumnDefs,C,function(e,t){B(m,e,t)}),w.length){var _=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(w[0]).children("th, td").each(function(e,t){var n=m.aoColumns[e];if(n.mData===e){var o=_(t,"sort")||_(t,"order"),i=_(t,"filter")||_(t,"search");null===o&&null===i||(n.mData={_:e+".display",sort:null!==o?e+".@data-"+o:r,type:null!==o?e+".@data-"+o:r,filter:null!==i?e+".@data-"+i:r},B(m,e))}})}var T=m.oFeatures,E=function(){if(i.aaSorting===r){var t=m.aaSorting;for(u=0,o=t.length;u<o;u++)t[u][1]=m.aoColumns[u].asSorting[0]}nt(m),T.bSort&&dt(m,"aoDrawCallback",function(){if(m.bSorted){var t=Je(m),n={};e.each(t,function(e,t){n[t.src]=t.dir}),ft(m,null,"order",[m,t,n]),Qe(m)}}),dt(m,"aoDrawCallback",function(){(m.bSorted||"ssp"===gt(m)||T.bDeferRender)&&nt(m)},"sc");var n=h.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),a=h.children("thead");0===a.length&&(a=e("<thead/>").appendTo(h)),m.nTHead=a[0];var s=h.children("tbody");0===s.length&&(s=e("<tbody/>").appendTo(h)),m.nTBody=s[0];var l=h.children("tfoot");if(0===l.length&&n.length>0&&(""!==m.oScroll.sX||""!==m.oScroll.sY)&&(l=e("<tfoot/>").appendTo(h)),0===l.length||0===l.children().length?h.addClass(v.sNoFooter):l.length>0&&(m.nTFoot=l[0],de(m.aoFooter,m.nTFoot)),i.aaData)for(u=0;u<i.aaData.length;u++)q(m,i.aaData[u]);else(m.bDeferLoading||"dom"==gt(m))&&W(m,e(m.nTBody).children("tr"));m.aiDisplay=m.aiDisplayMaster.slice(),m.bInitialised=!0,!1===d&&Pe(m)};i.bStateSave?(T.bStateSave=!0,dt(m,"aoDrawCallback",ot,"state_save"),it(m,0,E)):E()}else st(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),n=null,this},u={},c=/[\r\n\u2028]/g,d=/<.*?>/g,f=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,h=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),p=/['\u00A0,$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,g=function(e){return!e||!0===e||"-"===e},m=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},v=function(e,t){return u[t]||(u[t]=new RegExp(Se(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(u[t],"."):e},y=function(e,t,n){var r="string"==typeof e;return!!g(e)||(t&&r&&(e=v(e,t)),n&&r&&(e=e.replace(p,"")),!isNaN(parseFloat(e))&&isFinite(e))},b=function(e,t,n){return!!g(e)||function(e){return g(e)||"string"==typeof e}(e)&&!!y(S(e),t,n)||null},x=function(e,t,n){var o=[],i=0,a=e.length;if(n!==r)for(;i<a;i++)e[i]&&e[i][t]&&o.push(e[i][t][n]);else for(;i<a;i++)e[i]&&o.push(e[i][t]);return o},w=function(e,t,n,o){var i=[],a=0,s=t.length;if(o!==r)for(;a<s;a++)e[t[a]][n]&&i.push(e[t[a]][n][o]);else for(;a<s;a++)i.push(e[t[a]][n]);return i},C=function(e,t){var n,o=[];t===r?(t=0,n=e):(n=t,t=e);for(var i=t;i<n;i++)o.push(i);return o},k=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},S=function(e){return e.replace(d,"")},_=function(e){if(function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],r=1,o=t.length;r<o;r++){if(t[r]===n)return!1;n=t[r]}return!0}(e))return e.slice();var t,n,r,o=[],i=e.length,a=0;e:for(n=0;n<i;n++){for(t=e[n],r=0;r<a;r++)if(o[r]===t)continue e;o.push(t),a++}return o},T=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)T(e,t[n]);else e.push(t);return e};function E(t){var n,r,o={};e.each(t,function(e,i){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(r=e.replace(n[0],n[2].toLowerCase()),o[r]=e,"o"===n[1]&&E(t[e]))}),t._hungarianMap=o}function A(t,n,o){var i;t._hungarianMap||E(t),e.each(n,function(a,s){(i=t._hungarianMap[a])===r||!o&&n[i]!==r||("o"===i.charAt(0)?(n[i]||(n[i]={}),e.extend(!0,n[i],n[a]),A(t[i],n[i],o)):n[i]=n[a])})}function D(e){var t=l.defaults.oLanguage,n=t.sDecimal;if(n&&Pt(n),e){var r=e.sZeroRecords;!e.sEmptyTable&&r&&"No data available in table"===t.sEmptyTable&&lt(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&r&&"Loading..."===t.sLoadingRecords&&lt(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var o=e.sDecimal;o&&n!==o&&Pt(o)}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),l.util={throttle:function(e,t){var n,o,i=t!==r?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+i?(clearTimeout(o),o=setTimeout(function(){n=r,e.apply(t,s)},i)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(h,"\\$1")}};var N=function(e,t,n){e[t]!==r&&(e[n]=e[t])};function R(e){N(e,"ordering","bSort"),N(e,"orderMulti","bSortMulti"),N(e,"orderClasses","bSortClasses"),N(e,"orderCellsTop","bSortCellsTop"),N(e,"order","aaSorting"),N(e,"orderFixed","aaSortingFixed"),N(e,"paging","bPaginate"),N(e,"pagingType","sPaginationType"),N(e,"pageLength","iDisplayLength"),N(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&A(l.models.oSearch,t[n])}function L(e){N(e,"orderable","bSortable"),N(e,"orderData","aDataSort"),N(e,"orderSequence","asSorting"),N(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"!=typeof t||Array.isArray(t)||(e.aDataSort=[t])}function P(n){if(!l.__browser){var r={};l.__browser=r;var o=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=o.children(),a=i.children();r.barWidth=i[0].offsetWidth-i[0].clientWidth,r.bScrollOversize=100===a[0].offsetWidth&&100!==i[0].clientWidth,r.bScrollbarLeft=1!==Math.round(a.offset().left),r.bBounding=!!o[0].getBoundingClientRect().width,o.remove()}e.extend(n.oBrowser,l.__browser),n.oScroll.iBarWidth=l.__browser.barWidth}function I(e,t,n,o,i,a){var s,l=o,u=!1;for(n!==r&&(s=n,u=!0);l!==i;)e.hasOwnProperty(l)&&(s=u?t(s,e[l],l,e):e[l],u=!0,l+=a);return s}function O(t,r){var o=l.defaults.column,i=t.aoColumns.length,a=e.extend({},l.models.oColumn,o,{nTh:r||n.createElement("th"),sTitle:o.sTitle?o.sTitle:r?r.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[i],mData:o.mData?o.mData:i,idx:i});t.aoColumns.push(a);var s=t.aoPreSearchCols;s[i]=e.extend({},l.models.oSearch,s[i]),B(t,i,e(r).data())}function B(t,n,o){var i=t.aoColumns[n],a=t.oClasses,s=e(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=s.attr("width")||null;var u=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(i.sWidthOrig=u[1])}o!==r&&null!==o&&(L(o),A(l.defaults.column,o,!0),o.mDataProp===r||o.mData||(o.mData=o.mDataProp),o.sType&&(i._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),o.sClass&&s.addClass(o.sClass),e.extend(i,o),lt(i,o,"sWidth","sWidthOrig"),o.iDataSort!==r&&(i.aDataSort=[o.iDataSort]),lt(i,o,"aDataSort"));var c=i.mData,d=J(c),f=i.mRender?J(i.mRender):null,h=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};i._bAttrSrc=e.isPlainObject(c)&&(h(c.sort)||h(c.type)||h(c.filter)),i._setter=null,i.fnGetData=function(e,t,n){var o=d(e,t,r,n);return f&&t?f(o,t,e,n):o},i.fnSetData=function(e,t,n){return Z(c)(e,t,n)},"number"!=typeof c&&(t._rowReadObject=!0),t.oFeatures.bSort||(i.bSortable=!1,s.addClass(a.sSortableNone));var p=-1!==e.inArray("asc",i.asSorting),g=-1!==e.inArray("desc",i.asSorting);i.bSortable&&(p||g)?p&&!g?(i.sSortingClass=a.sSortableAsc,i.sSortingClassJUI=a.sSortJUIAscAllowed):!p&&g?(i.sSortingClass=a.sSortableDesc,i.sSortingClassJUI=a.sSortJUIDescAllowed):(i.sSortingClass=a.sSortable,i.sSortingClassJUI=a.sSortJUI):(i.sSortingClass=a.sSortableNone,i.sSortingClassJUI="")}function F(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;We(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}var o=e.oScroll;""===o.sY&&""===o.sX||ze(e),ft(e,null,"column-sizing",[e])}function M(e,t){var n=H(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function $(t,n){var r=H(t,"bVisible"),o=e.inArray(n,r);return-1!==o?o:null}function j(t){var n=0;return e.each(t.aoColumns,function(t,r){r.bVisible&&"none"!==e(r.nTh).css("display")&&n++}),n}function H(t,n){var r=[];return e.map(t.aoColumns,function(e,t){e[n]&&r.push(t)}),r}function z(e){var t,n,o,i,a,s,u,c,d,f=e.aoColumns,h=e.aoData,p=l.ext.type.detect;for(t=0,n=f.length;t<n;t++)if(d=[],!(u=f[t]).sType&&u._sManualType)u.sType=u._sManualType;else if(!u.sType){for(o=0,i=p.length;o<i;o++){for(a=0,s=h.length;a<s&&(d[a]===r&&(d[a]=V(e,a,t,"type")),(c=p[o](d[a],e))||o===p.length-1)&&"html"!==c;a++);if(c){u.sType=c;break}}u.sType||(u.sType="string")}}function U(t,n,o,i){var a,s,l,u,c,d,f,h=t.aoColumns;if(n)for(a=n.length-1;a>=0;a--){var p=(f=n[a]).targets!==r?f.targets:f.aTargets;for(Array.isArray(p)||(p=[p]),l=0,u=p.length;l<u;l++)if("number"==typeof p[l]&&p[l]>=0){for(;h.length<=p[l];)O(t);i(p[l],f)}else if("number"==typeof p[l]&&p[l]<0)i(h.length+p[l],f);else if("string"==typeof p[l])for(c=0,d=h.length;c<d;c++)("_all"==p[l]||e(h[c].nTh).hasClass(p[l]))&&i(c,f)}if(o)for(a=0,s=o.length;a<s;a++)i(a,o[a])}function q(t,n,o,i){var a=t.aoData.length,s=e.extend(!0,{},l.models.oRow,{src:o?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var u=t.aoColumns,c=0,d=u.length;c<d;c++)u[c].sType=null;t.aiDisplayMaster.push(a);var f=t.rowIdFn(n);return f!==r&&(t.aIds[f]=s),!o&&t.oFeatures.bDeferRender||oe(t,a,o,i),a}function W(t,n){var r;return n instanceof e||(n=e(n)),n.map(function(e,n){return r=re(t,n),q(t,r.data,n,r.cells)})}function V(e,t,n,o){var i=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,u=a.fnGetData(s,o,{settings:e,row:t,col:n});if(u===r)return e.iDrawError!=i&&null===l&&(st(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=i),l;if(u!==s&&null!==u||null===l||o===r){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==o?"":u}function G(e,t,n,r){e.aoColumns[n].fnSetData(e.aoData[t]._aData,r,{settings:e,row:t,col:n})}var X=/\[.*?\]$/,Y=/\(\)$/;function K(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function J(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=J(t))}),function(e,t,o,i){var a=n[t]||n._;return a!==r?a(e,t,o,i):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,r,o){return t(e,n,r,o)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var o=function(e,t,n){var i,a,s,l;if(""!==n)for(var u=K(n),c=0,d=u.length;c<d;c++){if(i=u[c].match(X),a=u[c].match(Y),i){if(u[c]=u[c].replace(X,""),""!==u[c]&&(e=e[u[c]]),s=[],u.splice(0,c+1),l=u.join("."),Array.isArray(e))for(var f=0,h=e.length;f<h;f++)s.push(o(e[f],t,l));var p=i[0].substring(1,i[0].length-1);e=""===p?s:s.join(p);break}if(a)u[c]=u[c].replace(Y,""),e=e[u[c]]();else{if(null===e||e[u[c]]===r)return r;e=e[u[c]]}}return e};return function(e,n){return o(e,n,t)}}function Z(t){if(e.isPlainObject(t))return Z(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,r){t(e,"set",n,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var n=function(e,t,o){for(var i,a,s,l,u,c=K(o),d=c[c.length-1],f=0,h=c.length-1;f<h;f++){if("__proto__"===c[f]||"constructor"===c[f])throw new Error("Cannot set prototype values");if(a=c[f].match(X),s=c[f].match(Y),a){if(c[f]=c[f].replace(X,""),e[c[f]]=[],(i=c.slice()).splice(0,f+1),u=i.join("."),Array.isArray(t))for(var p=0,g=t.length;p<g;p++)n(l={},t[p],u),e[c[f]].push(l);else e[c[f]]=t;return}s&&(c[f]=c[f].replace(Y,""),e=e[c[f]](t)),null!==e[c[f]]&&e[c[f]]!==r||(e[c[f]]={}),e=e[c[f]]}d.match(Y)?e=e[d.replace(Y,"")](t):e[d.replace(X,"")]=t};return function(e,r){return n(e,r,t)}}function Q(e){return x(e.aoData,"_aData")}function ee(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function te(e,t,n){for(var o=-1,i=0,a=e.length;i<a;i++)e[i]==t?o=i:e[i]>t&&e[i]--;-1!=o&&n===r&&e.splice(o,1)}function ne(e,t,n,o){var i,a,s=e.aoData[t],l=function(n,r){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=V(e,t,r,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var u=s.anCells;if(u)if(o!==r)l(u[o],o);else for(i=0,a=u.length;i<a;i++)l(u[i],i)}else s._aData=re(e,s,o,o===r?r:s._aData).data;s._aSortData=null,s._aFilterData=null;var c=e.aoColumns;if(o!==r)c[o].sType=null;else{for(i=0,a=c.length;i<a;i++)c[i].sType=null;ie(e,s)}}function re(e,t,n,o){var i,a,s,l=[],u=t.firstChild,c=0,d=e.aoColumns,f=e._rowReadObject;o=o!==r?o:f?{}:[];var h=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var r=e.substring(n+1);Z(e)(o,t.getAttribute(r))}}},p=function(e){n!==r&&n!==c||(a=d[c],s=e.innerHTML.trim(),a&&a._bAttrSrc?(Z(a.mData._)(o,s),h(a.mData.sort,e),h(a.mData.type,e),h(a.mData.filter,e)):f?(a._setter||(a._setter=Z(a.mData)),a._setter(o,s)):o[c]=s),c++};if(u)for(;u;)"TD"!=(i=u.nodeName.toUpperCase())&&"TH"!=i||(p(u),l.push(u)),u=u.nextSibling;else for(var g=0,m=(l=t.anCells).length;g<m;g++)p(l[g]);var v=t.firstChild?t:t.nTr;if(v){var y=v.getAttribute("id");y&&Z(e.rowId)(o,y)}return{data:o,cells:l}}function oe(t,r,o,i){var a,s,l,u,c,d,f=t.aoData[r],h=f._aData,p=[];if(null===f.nTr){for(a=o||n.createElement("tr"),f.nTr=a,f.anCells=p,a._DT_RowIndex=r,ie(t,f),u=0,c=t.aoColumns.length;u<c;u++)l=t.aoColumns[u],(s=(d=!o)?n.createElement(l.sCellType):i[u])._DT_CellIndex={row:r,column:u},p.push(s),!d&&(!l.mRender&&l.mData===u||e.isPlainObject(l.mData)&&l.mData._===u+".display")||(s.innerHTML=V(t,r,u,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!o?a.appendChild(s):!l.bVisible&&o&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,V(t,r,u),h,r,u);ft(t,"aoRowCreatedCallback",null,[a,h,r,p])}}function ie(t,n){var r=n.nTr,o=n._aData;if(r){var i=t.rowIdFn(o);if(i&&(r.id=i),o.DT_RowClass){var a=o.DT_RowClass.split(" ");n.__rowc=n.__rowc?_(n.__rowc.concat(a)):a,e(r).removeClass(n.__rowc.join(" ")).addClass(o.DT_RowClass)}o.DT_RowAttr&&e(r).attr(o.DT_RowAttr),o.DT_RowData&&e(r).data(o.DT_RowData)}}function ae(t){var n,r,o,i,a,s=t.nTHead,l=t.nTFoot,u=0===e("th, td",s).length,c=t.oClasses,d=t.aoColumns;for(u&&(i=e("<tr/>").appendTo(s)),n=0,r=d.length;n<r;n++)o=e((a=d[n]).nTh).addClass(a.sClass),u&&o.appendTo(i),t.oFeatures.bSort&&(o.addClass(a.sSortingClass),!1!==a.bSortable&&(o.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),tt(t,a.nTh,n))),a.sTitle!=o[0].innerHTML&&o.html(a.sTitle),pt(t,"header")(t,o,a,c);if(u&&de(t.aoHeader,s),e(s).children("tr").attr("role","row"),e(s).children("tr").children("th, td").addClass(c.sHeaderTH),e(l).children("tr").children("th, td").addClass(c.sFooterTH),null!==l){var f=t.aoFooter[0];for(n=0,r=f.length;n<r;n++)(a=d[n]).nTf=f[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}}function se(t,n,o){var i,a,s,l,u,c,d,f,h,p=[],g=[],m=t.aoColumns.length;if(n){for(o===r&&(o=!1),i=0,a=n.length;i<a;i++){for(p[i]=n[i].slice(),p[i].nTr=n[i].nTr,s=m-1;s>=0;s--)t.aoColumns[s].bVisible||o||p[i].splice(s,1);g.push([])}for(i=0,a=p.length;i<a;i++){if(d=p[i].nTr)for(;c=d.firstChild;)d.removeChild(c);for(s=0,l=p[i].length;s<l;s++)if(f=1,h=1,g[i][s]===r){for(d.appendChild(p[i][s].cell),g[i][s]=1;p[i+f]!==r&&p[i][s].cell==p[i+f][s].cell;)g[i+f][s]=1,f++;for(;p[i][s+h]!==r&&p[i][s].cell==p[i][s+h].cell;){for(u=0;u<f;u++)g[i+u][s+h]=1;h++}e(p[i][s].cell).attr("rowspan",f).attr("colspan",h)}}}}function le(t){var n=ft(t,"aoPreDrawCallback","preDraw",[t]);if(-1===e.inArray(!1,n)){var o=[],i=0,a=t.asStripeClasses,s=a.length,l=t.oLanguage,u=t.iInitDisplayStart,c="ssp"==gt(t),d=t.aiDisplay;t.bDrawing=!0,u!==r&&-1!==u&&(t._iDisplayStart=c?u:u>=t.fnRecordsDisplay()?0:u,t.iInitDisplayStart=-1);var f=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,je(t,!1);else if(c){if(!t.bDestroying&&!pe(t))return}else t.iDraw++;if(0!==d.length)for(var p=c?t.aoData.length:h,g=c?0:f;g<p;g++){var m=d[g],v=t.aoData[m];null===v.nTr&&oe(t,m);var y=v.nTr;if(0!==s){var b=a[i%s];v._sRowStripe!=b&&(e(y).removeClass(v._sRowStripe).addClass(b),v._sRowStripe=b)}ft(t,"aoRowCallback",null,[y,v._aData,i,g,m]),o.push(y),i++}else{var x=l.sZeroRecords;1==t.iDraw&&"ajax"==gt(t)?x=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(x=l.sEmptyTable),o[0]=e("<tr/>",{class:s?a[0]:""}).append(e("<td />",{valign:"top",colSpan:j(t),class:t.oClasses.sRowEmpty}).html(x))[0]}ft(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],Q(t),f,h,d]),ft(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],Q(t),f,h,d]);var w=e(t.nTBody);w.children().detach(),w.append(e(o)),ft(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else je(t,!1)}function ue(e,t){var n=e.oFeatures,r=n.bFilter;n.bSort&&Ze(e),r?be(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,le(e),e._drawHold=!1}function ce(t){var n=t.oClasses,r=e(t.nTable),o=e("<div/>").insertBefore(r),i=t.oFeatures,a=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=o[0],t.nTableWrapper=a[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,u,c,d,f,h,p=t.sDom.split(""),g=0;g<p.length;g++){if(s=null,"<"==(u=p[g])){if(c=e("<div/>")[0],"'"==(d=p[g+1])||'"'==d){for(f="",h=2;p[g+h]!=d;)f+=p[g+h],h++;if("H"==f?f=n.sJUIHeader:"F"==f&&(f=n.sJUIFooter),-1!=f.indexOf(".")){var m=f.split(".");c.id=m[0].substr(1,m[0].length-1),c.className=m[1]}else"#"==f.charAt(0)?c.id=f.substr(1,f.length-1):c.className=f;g+=h}a.append(c),a=e(c)}else if(">"==u)a=a.parent();else if("l"==u&&i.bPaginate&&i.bLengthChange)s=Be(t);else if("f"==u&&i.bFilter)s=ye(t);else if("r"==u&&i.bProcessing)s=$e(t);else if("t"==u)s=He(t);else if("i"==u&&i.bInfo)s=Ne(t);else if("p"==u&&i.bPaginate)s=Fe(t);else if(0!==l.ext.feature.length)for(var v=l.ext.feature,y=0,b=v.length;y<b;y++)if(u==v[y].cFeature){s=v[y].fnInit(t);break}if(s){var x=t.aanFeatures;x[u]||(x[u]=[]),x[u].push(s),a.append(s)}}o.replaceWith(a),t.nHolding=null}function de(t,n){var r,o,i,a,s,l,u,c,d,f,h=e(n).children("tr"),p=function(e,t,n){for(var r=e[t];r[n];)n++;return n};for(t.splice(0,t.length),i=0,l=h.length;i<l;i++)t.push([]);for(i=0,l=h.length;i<l;i++)for(o=(r=h[i]).firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase())for(c=(c=1*o.getAttribute("colspan"))&&0!==c&&1!==c?c:1,d=(d=1*o.getAttribute("rowspan"))&&0!==d&&1!==d?d:1,u=p(t,i,0),f=1===c,s=0;s<c;s++)for(a=0;a<d;a++)t[i+a][u+s]={cell:o,unique:f},t[i+a].nTr=r;o=o.nextSibling}}function fe(e,t,n){var r=[];n||(n=e.aoHeader,t&&de(n=[],t));for(var o=0,i=n.length;o<i;o++)for(var a=0,s=n[o].length;a<s;a++)!n[o][a].unique||r[a]&&e.bSortCellsTop||(r[a]=n[o][a].cell);return r}function he(t,n,r){if(ft(t,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var o={},i=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(i);if(n){var r=n[0];o[r]||(o[r]=[]),o[r].push(t.value)}else o[t.name]=t.value}),n=o}var a,s=t.ajax,l=t.oInstance,u=function(e){ft(t,null,"xhr",[t,e,t.jqXHR]),r(e)};if(e.isPlainObject(s)&&s.data){var c="function"==typeof(a=s.data)?a(n,t):a;n="function"==typeof a&&c?c:e.extend(!0,n,c),delete s.data}var d={data:n,success:function(e){var n=e.error||e.sError;n&&st(t,0,n),t.json=e,u(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,r,o){var i=ft(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,i)&&("parsererror"==r?st(t,0,"Invalid JSON response",1):4===n.readyState&&st(t,0,"Ajax error",7)),je(t,!1)}};t.oAjaxData=n,ft(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),u,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(d,{url:s||t.sAjaxSource})):"function"==typeof s?t.jqXHR=s.call(l,n,u,t):(t.jqXHR=e.ajax(e.extend(d,s)),s.data=a)}function pe(e){return!e.bAjaxDataGet||(e.iDraw++,je(e,!0),he(e,ge(e),function(t){me(e,t)}),!1)}function ge(t){var n,r,o,i,a=t.aoColumns,s=a.length,u=t.oFeatures,c=t.oPreviousSearch,d=t.aoPreSearchCols,f=[],h=Je(t),p=t._iDisplayStart,g=!1!==u.bPaginate?t._iDisplayLength:-1,m=function(e,t){f.push({name:e,value:t})};m("sEcho",t.iDraw),m("iColumns",s),m("sColumns",x(a,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",g);var v={draw:t.iDraw,columns:[],order:[],start:p,length:g,search:{value:c.sSearch,regex:c.bRegex}};for(n=0;n<s;n++)v.columns.push({data:r="function"==typeof(o=a[n]).mData?"function":o.mData,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:(i=d[n]).sSearch,regex:i.bRegex}}),m("mDataProp_"+n,r),u.bFilter&&(m("sSearch_"+n,i.sSearch),m("bRegex_"+n,i.bRegex),m("bSearchable_"+n,o.bSearchable)),u.bSort&&m("bSortable_"+n,o.bSortable);u.bFilter&&(m("sSearch",c.sSearch),m("bRegex",c.bRegex)),u.bSort&&(e.each(h,function(e,t){v.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",h.length));var y=l.ext.legacy.ajax;return null===y?t.sAjaxSource?f:v:y?f:v}function me(e,t){var n=function(e,n){return t[e]!==r?t[e]:t[n]},o=ve(e,t),i=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(i!==r){if(1*i<e.iDraw)return;e.iDraw=1*i}ee(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var l=0,u=o.length;l<u;l++)q(e,o[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,le(e),e._bInitComplete||Ie(e,t),e.bAjaxDataGet=!0,je(e,!1)}function ve(t,n){var o=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===o?n.aaData||n[o]:""!==o?J(o)(n):n}function ye(t){var r=t.oClasses,o=t.sTableId,i=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+r.sFilterInput+'"/>',u=i.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l;var c=e("<div/>",{id:s.f?null:o+"_filter",class:r.sFilter}).append(e("<label/>").append(u)),d=function(){var e=this.value?this.value:"";e!=a.sSearch&&(be(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,le(t))},f=null!==t.searchDelay?t.searchDelay:"ssp"===gt(t)?400:0,h=e("input",c).val(a.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",f?Ve(d,f):d).on("mouseup",function(e){setTimeout(function(){d.call(h[0])},10)}).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",o);return e(t.nTable).on("search.dt.DT",function(e,r){if(t===r)try{h[0]!==n.activeElement&&h.val(a.sSearch)}catch(o){}}),c[0]}function be(e,t,n){var o=e.oPreviousSearch,i=e.aoPreSearchCols,a=function(e){o.sSearch=e.sSearch,o.bRegex=e.bRegex,o.bSmart=e.bSmart,o.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==r?!e.bEscapeRegex:e.bRegex};if(z(e),"ssp"!=gt(e)){Ce(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var l=0;l<i.length;l++)we(e,i[l].sSearch,l,s(i[l]),i[l].bSmart,i[l].bCaseInsensitive);xe(e)}else a(t);e.bFiltered=!0,ft(e,null,"search",[e])}function xe(t){for(var n,r,o=l.ext.search,i=t.aiDisplay,a=0,s=o.length;a<s;a++){for(var u=[],c=0,d=i.length;c<d;c++)o[a](t,(n=t.aoData[r=i[c]])._aFilterData,r,n._aData,c)&&u.push(r);i.length=0,e.merge(i,u)}}function we(e,t,n,r,o,i){if(""!==t){for(var a=[],s=e.aiDisplay,l=ke(t,r,o,i),u=0;u<s.length;u++)l.test(e.aoData[s[u]]._aFilterData[n])&&a.push(s[u]);e.aiDisplay=a}}function Ce(e,t,n,r,o,i){var a,s,u,c=ke(t,r,o,i),d=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster,h=[];if(0!==l.ext.search.length&&(n=!0),s=Ee(e),t.length<=0)e.aiDisplay=f.slice();else{for((s||n||r||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=f.slice()),a=e.aiDisplay,u=0;u<a.length;u++)c.test(e.aoData[a[u]]._sFilterRow)&&h.push(a[u]);e.aiDisplay=h}}function ke(t,n,r,o){if(t=n?t:Se(t),r){var i=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});t="^(?=.*?"+i.join(")(?=.*?")+").*$"}return new RegExp(t,o?"i":"")}var Se=l.util.escapeRegex,_e=e("<div>")[0],Te=_e.textContent!==r;function Ee(e){var t,n,r,o,i,a,s,u,c=e.aoColumns,d=l.ext.type.search,f=!1;for(n=0,o=e.aoData.length;n<o;n++)if(!(u=e.aoData[n])._aFilterData){for(a=[],r=0,i=c.length;r<i;r++)(t=c[r]).bSearchable?(s=V(e,n,r,"filter"),d[t.sType]&&(s=d[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(_e.innerHTML=s,s=Te?_e.textContent:_e.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),a.push(s);u._aFilterData=a,u._sFilterRow=a.join("  "),f=!0}return f}function Ae(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function De(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Ne(t){var n=t.sTableId,r=t.aanFeatures.i,o=e("<div/>",{class:t.oClasses.sInfo,id:r?null:n+"_info"});return r||(t.aoDrawCallback.push({fn:Re,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),o[0]}function Re(t){var n=t.aanFeatures.i;if(0!==n.length){var r=t.oLanguage,o=t._iDisplayStart+1,i=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?r.sInfo:r.sInfoEmpty;s!==a&&(l+=" "+r.sInfoFiltered),l=Le(t,l+=r.sInfoPostFix);var u=r.fnInfoCallback;null!==u&&(l=u.call(t.oInstance,t,o,i,a,s,l)),e(n).html(l)}}function Le(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,o=e._iDisplayLength,i=e.fnRecordsDisplay(),a=-1===o;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,i)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(r/o))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(i/o)))}function Pe(e){var t,n,r,o=e.iInitDisplayStart,i=e.aoColumns,a=e.oFeatures,s=e.bDeferLoading;if(e.bInitialised){for(ce(e),ae(e),se(e,e.aoHeader),se(e,e.aoFooter),je(e,!0),a.bAutoWidth&&We(e),t=0,n=i.length;t<n;t++)(r=i[t]).sWidth&&(r.nTh.style.width=Ke(r.sWidth));ft(e,null,"preInit",[e]),ue(e);var l=gt(e);("ssp"!=l||s)&&("ajax"==l?he(e,[],function(n){var r=ve(e,n);for(t=0;t<r.length;t++)q(e,r[t]);e.iInitDisplayStart=o,ue(e),je(e,!1),Ie(e,n)}):(je(e,!1),Ie(e)))}else setTimeout(function(){Pe(e)},200)}function Ie(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&F(e),ft(e,null,"plugin-init",[e,t]),ft(e,"aoInitComplete","init",[e,t])}function Oe(e,t){var n=parseInt(t,10);e._iDisplayLength=n,ht(e),ft(e,null,"length",[e,n])}function Be(t){for(var n=t.oClasses,r=t.sTableId,o=t.aLengthMenu,i=Array.isArray(o[0]),a=i?o[0]:o,s=i?o[1]:o,l=e("<select/>",{name:r+"_length","aria-controls":r,class:n.sLengthSelect}),u=0,c=a.length;u<c;u++)l[0][u]=new Option("number"==typeof s[u]?t.fnFormatNumber(s[u]):s[u],a[u]);var d=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(d[0].id=r+"_length"),d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",d).val(t._iDisplayLength).on("change.DT",function(n){Oe(t,e(this).val()),le(t)}),e(t.nTable).on("length.dt.DT",function(n,r,o){t===r&&e("select",d).val(o)}),d[0]}function Fe(t){var n=t.sPaginationType,r=l.ext.pager[n],o="function"==typeof r,i=function(e){le(e)},a=e("<div/>").addClass(t.oClasses.sPaging+n)[0],s=t.aanFeatures;return o||r.fnInit(t,a,i),s.p||(a.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(o){var t,n,a=e._iDisplayStart,l=e._iDisplayLength,u=e.fnRecordsDisplay(),c=-1===l,d=c?0:Math.ceil(a/l),f=c?1:Math.ceil(u/l),h=r(d,f);for(t=0,n=s.p.length;t<n;t++)pt(e,"pageButton")(e,s.p[t],t,h,d,f)}else r.fnUpdate(e,i)},sName:"pagination"})),a}function Me(e,t,n){var r=e._iDisplayStart,o=e._iDisplayLength,i=e.fnRecordsDisplay();0===i||-1===o?r=0:"number"==typeof t?(r=t*o)>i&&(r=0):"first"==t?r=0:"previous"==t?(r=o>=0?r-o:0)<0&&(r=0):"next"==t?r+o<i&&(r+=o):"last"==t?r=Math.floor((i-1)/o)*o:st(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==r;return e._iDisplayStart=r,a&&(ft(e,null,"page",[e]),n&&le(e)),a}function $e(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function je(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),ft(t,null,"processing",[t,n])}function He(t){var n=e(t.nTable);n.attr("role","grid");var r=t.oScroll;if(""===r.sX&&""===r.sY)return t.nTable;var o=r.sX,i=r.sY,a=t.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=e(n[0].cloneNode(!1)),c=e(n[0].cloneNode(!1)),d=n.children("tfoot"),f="<div/>",h=function(e){return e?Ke(e):null};d.length||(d=null);var p=e(f,{class:a.sScrollWrapper}).append(e(f,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?h(o):"100%"}).append(e(f,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(e(f,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:h(o)}).append(n));d&&p.append(e(f,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:o?h(o):"100%"}).append(e(f,{class:a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var g=p.children(),m=g[0],v=g[1],y=d?g[2]:null;return o&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;m.scrollLeft=t,d&&(y.scrollLeft=t)}),e(v).css("max-height",i),r.bCollapse||e(v).css("height",i),t.nScrollHead=m,t.nScrollBody=v,t.nScrollFoot=y,t.aoDrawCallback.push({fn:ze,sName:"scrolling"}),p[0]}function ze(t){var n,o,i,a,s,l,u,c,d,f=t.oScroll,h=f.sX,p=f.sXInner,g=f.sY,m=f.iBarWidth,v=e(t.nScrollHead),y=v[0].style,b=v.children("div"),w=b[0].style,C=b.children("table"),k=t.nScrollBody,S=e(k),_=k.style,T=e(t.nScrollFoot).children("div"),E=T.children("table"),A=e(t.nTHead),D=e(t.nTable),N=D[0],R=N.style,L=t.nTFoot?e(t.nTFoot):null,P=t.oBrowser,I=P.bScrollOversize,O=x(t.aoColumns,"nTh"),B=[],$=[],j=[],H=[],z=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},U=k.scrollHeight>k.clientHeight;if(t.scrollBarVis!==U&&t.scrollBarVis!==r)return t.scrollBarVis=U,void F(t);t.scrollBarVis=U,D.children("thead, tfoot").remove(),L&&(l=L.clone().prependTo(D),o=L.find("tr"),a=l.find("tr")),s=A.clone().prependTo(D),n=A.find("tr"),i=s.find("tr"),s.find("th, td").removeAttr("tabindex"),h||(_.width="100%",v[0].style.width="100%"),e.each(fe(t,s),function(e,n){u=M(t,e),n.style.width=t.aoColumns[u].sWidth}),L&&Ue(function(e){e.style.width=""},a),d=D.outerWidth(),""===h?(R.width="100%",I&&(D.find("tbody").height()>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(R.width=Ke(D.outerWidth()-m)),d=D.outerWidth()):""!==p&&(R.width=Ke(p),d=D.outerWidth()),Ue(z,i),Ue(function(t){j.push(t.innerHTML),B.push(Ke(e(t).css("width")))},i),Ue(function(t,n){-1!==e.inArray(t,O)&&(t.style.width=B[n])},n),e(i).height(0),L&&(Ue(z,a),Ue(function(t){H.push(t.innerHTML),$.push(Ke(e(t).css("width")))},a),Ue(function(e,t){e.style.width=$[t]},o),e(a).height(0)),Ue(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+j[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=B[t]},i),L&&Ue(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+H[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=$[t]},a),D.outerWidth()<d?(c=k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y")?d+m:d,I&&(k.scrollHeight>k.offsetHeight||"scroll"==S.css("overflow-y"))&&(R.width=Ke(c-m)),""!==h&&""===p||st(t,1,"Possible column misalignment",6)):c="100%",_.width=Ke(c),y.width=Ke(c),L&&(t.nScrollFoot.style.width=Ke(c)),g||I&&(_.height=Ke(N.offsetHeight+m));var q=D.outerWidth();C[0].style.width=Ke(q),w.width=Ke(q);var W=D.height()>k.clientHeight||"scroll"==S.css("overflow-y"),V="padding"+(P.bScrollbarLeft?"Left":"Right");w[V]=W?m+"px":"0px",L&&(E[0].style.width=Ke(q),T[0].style.width=Ke(q),T[0].style[V]=W?m+"px":"0px"),D.children("colgroup").insertBefore(D.children("thead")),S.trigger("scroll"),!t.bSorted&&!t.bFiltered||t._drawHold||(k.scrollTop=0)}function Ue(e,t,n){for(var r,o,i=0,a=0,s=t.length;a<s;){for(r=t[a].firstChild,o=n?n[a].firstChild:null;r;)1===r.nodeType&&(n?e(r,o,i):e(r,i),i++),r=r.nextSibling,o=n?o.nextSibling:null;a++}}var qe=/<.*?>/g;function We(n){var r,o,i,a=n.nTable,s=n.aoColumns,l=n.oScroll,u=l.sY,c=l.sX,d=l.sXInner,f=s.length,h=H(n,"bVisible"),p=e("th",n.nTHead),g=a.getAttribute("width"),m=a.parentNode,v=!1,y=n.oBrowser,b=y.bScrollOversize,x=a.style.width;for(x&&-1!==x.indexOf("%")&&(g=x),r=0;r<h.length;r++)null!==(o=s[h[r]]).sWidth&&(o.sWidth=Ge(o.sWidthOrig,m),v=!0);if(b||!v&&!c&&!u&&f==j(n)&&f==p.length)for(r=0;r<f;r++){var w=M(n,r);null!==w&&(s[w].sWidth=Ke(p.eq(r).width()))}else{var C=e(a).clone().css("visibility","hidden").removeAttr("id");C.find("tbody tr").remove();var k=e("<tr/>").appendTo(C.find("tbody"));for(C.find("thead, tfoot").remove(),C.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),C.find("tfoot th, tfoot td").css("width",""),p=fe(n,C.find("thead")[0]),r=0;r<h.length;r++)p[r].style.width=null!==(o=s[h[r]]).sWidthOrig&&""!==o.sWidthOrig?Ke(o.sWidthOrig):"",o.sWidthOrig&&c&&e(p[r]).append(e("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(r=0;r<h.length;r++)o=s[i=h[r]],e(Xe(n,i)).clone(!1).append(o.sContentPadding).appendTo(k);e("[name]",C).removeAttr("name");var S=e("<div/>").css(c||u?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(C).appendTo(m);c&&d?C.width(d):c?(C.css("width","auto"),C.removeAttr("width"),C.width()<m.clientWidth&&g&&C.width(m.clientWidth)):u?C.width(m.clientWidth):g&&C.width(g);var _=0;for(r=0;r<h.length;r++){var T=e(p[r]),E=T.outerWidth()-T.width(),A=y.bBounding?Math.ceil(p[r].getBoundingClientRect().width):T.outerWidth();_+=A,s[h[r]].sWidth=Ke(A-E)}a.style.width=Ke(_),S.remove()}if(g&&(a.style.width=Ke(g)),(g||c)&&!n._reszEvt){var D=function(){e(t).on("resize.DT-"+n.sInstance,Ve(function(){F(n)}))};b?setTimeout(D,1e3):D(),n._reszEvt=!0}}var Ve=l.util.throttle;function Ge(t,r){if(!t)return 0;var o=e("<div/>").css("width",Ke(t)).appendTo(r||n.body),i=o[0].offsetWidth;return o.remove(),i}function Xe(t,n){var r=Ye(t,n);if(r<0)return null;var o=t.aoData[r];return o.nTr?o.anCells[n]:e("<td/>").html(V(t,r,n,"display"))[0]}function Ye(e,t){for(var n,r=-1,o=-1,i=0,a=e.aoData.length;i<a;i++)(n=(n=(n=V(e,i,t,"display")+"").replace(qe,"")).replace(/&nbsp;/g," ")).length>r&&(r=n.length,o=i);return o}function Ke(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Je(t){var n,o,i,a,s,u,c,d=[],f=t.aoColumns,h=t.aaSortingFixed,p=e.isPlainObject(h),g=[],m=function(t){t.length&&!Array.isArray(t[0])?g.push(t):e.merge(g,t)};for(Array.isArray(h)&&m(h),p&&h.pre&&m(h.pre),m(t.aaSorting),p&&h.post&&m(h.post),n=0;n<g.length;n++)for(o=0,i=(a=f[c=g[n][0]].aDataSort).length;o<i;o++)u=f[s=a[o]].sType||"string",g[n]._idx===r&&(g[n]._idx=e.inArray(g[n][1],f[s].asSorting)),d.push({src:c,col:s,dir:g[n][1],index:g[n]._idx,type:u,formatter:l.ext.type.order[u+"-pre"]});return d}function Ze(e){var t,n,r,o,i,a=[],s=l.ext.type.order,u=e.aoData,c=0,d=e.aiDisplayMaster;for(z(e),t=0,n=(i=Je(e)).length;t<n;t++)(o=i[t]).formatter&&c++,rt(e,o.col);if("ssp"!=gt(e)&&0!==i.length){for(t=0,r=d.length;t<r;t++)a[d[t]]=t;d.sort(c===i.length?function(e,t){var n,r,o,s,l,c=i.length,d=u[e]._aSortData,f=u[t]._aSortData;for(o=0;o<c;o++)if(0!=(s=(n=d[(l=i[o]).col])<(r=f[l.col])?-1:n>r?1:0))return"asc"===l.dir?s:-s;return(n=a[e])<(r=a[t])?-1:n>r?1:0}:function(e,t){var n,r,o,l,c,d=i.length,f=u[e]._aSortData,h=u[t]._aSortData;for(o=0;o<d;o++)if(0!==(l=(s[(c=i[o]).type+"-"+c.dir]||s["string-"+c.dir])(n=f[c.col],r=h[c.col])))return l;return(n=a[e])<(r=a[t])?-1:n>r?1:0})}e.bSorted=!0}function Qe(e){for(var t,n,r=e.aoColumns,o=Je(e),i=e.oLanguage.oAria,a=0,s=r.length;a<s;a++){var l=r[a],u=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(o.length>0&&o[0].col==a?(d.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),n=u[o[0].index+1]||u[0]):n=u[0],t=c+("asc"===n?i.sSortAscending:i.sSortDescending)):t=c,d.setAttribute("aria-label",t)}}function et(t,n,o,i){var a,s=t.aaSorting,l=t.aoColumns[n].asSorting,u=function(t,n){var o=t._idx;return o===r&&(o=e.inArray(t[1],l)),o+1<l.length?o+1:n?null:0};if("number"==typeof s[0]&&(s=t.aaSorting=[s]),o&&t.oFeatures.bSortMulti){var c=e.inArray(n,x(s,"0"));-1!==c?(null===(a=u(s[c],!0))&&1===s.length&&(a=0),null===a?s.splice(c,1):(s[c][1]=l[a],s[c]._idx=a)):(s.push([n,l[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==n?(a=u(s[0]),s.length=1,s[0][1]=l[a],s[0]._idx=a):(s.length=0,s.push([n,l[0]]),s[0]._idx=0);ue(t),"function"==typeof i&&i(t)}function tt(e,t,n,r){var o=e.aoColumns[n];ct(t,{},function(t){!1!==o.bSortable&&(e.oFeatures.bProcessing?(je(e,!0),setTimeout(function(){et(e,n,t.shiftKey,r),"ssp"!==gt(e)&&je(e,!1)},0)):et(e,n,t.shiftKey,r))})}function nt(t){var n,r,o=t.aLastSort,i=t.oClasses.sSortColumn,a=Je(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(n=0,r=o.length;n<r;n++)e(x(t.aoData,"anCells",o[n].src)).removeClass(i+(n<2?n+1:3));for(n=0,r=a.length;n<r;n++)e(x(t.aoData,"anCells",a[n].src)).addClass(i+(n<2?n+1:3))}t.aLastSort=a}function rt(e,t){var n,r,o,i=e.aoColumns[t],a=l.ext.order[i.sSortDataType];a&&(n=a.call(e.oInstance,e,t,$(e,t)));for(var s=l.ext.type.order[i.sType+"-pre"],u=0,c=e.aoData.length;u<c;u++)(r=e.aoData[u])._aSortData||(r._aSortData=[]),r._aSortData[t]&&!a||(o=a?n[u]:V(e,u,t,"sort"),r._aSortData[t]=s?s(o):o)}function ot(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Ae(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Ae(t.aoPreSearchCols[n])}})};ft(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function it(t,n,o){var i,a,s=t.aoColumns,l=function(n){if(n&&n.time){var l=ft(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,l)){var u=t.iStateDuration;if(u>0&&n.time<+new Date-1e3*u)o();else if(n.columns&&s.length!==n.columns.length)o();else{if(t.oLoadedState=e.extend(!0,{},n),n.start!==r&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==r&&(t._iDisplayLength=n.length),n.order!==r&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==r&&e.extend(t.oPreviousSearch,De(n.search)),n.columns)for(i=0,a=n.columns.length;i<a;i++){var c=n.columns[i];c.visible!==r&&(s[i].bVisible=c.visible),c.search!==r&&e.extend(t.aoPreSearchCols[i],De(c.search))}ft(t,"aoStateLoaded","stateLoaded",[t,n]),o()}}else o()}else o()};if(t.oFeatures.bStateSave){var u=t.fnStateLoadCallback.call(t.oInstance,t,l);u!==r&&l(u)}else o()}function at(t){var n=l.settings,r=e.inArray(t,x(n,"nTable"));return-1!==r?n[r]:null}function st(e,n,r,o){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,o&&(r+=". For more information about this error, please see http://datatables.net/tn/"+o),n)t.console&&console.log&&console.log(r);else{var i=l.ext,a=i.sErrMode||i.errMode;if(e&&ft(e,null,"error",[e,o,r]),"alert"==a)alert(r);else{if("throw"==a)throw new Error(r);"function"==typeof a&&a(e,o,r)}}}function lt(t,n,o,i){Array.isArray(o)?e.each(o,function(e,r){Array.isArray(r)?lt(t,n,r[0],r[1]):lt(t,n,r)}):(i===r&&(i=o),n[o]!==r&&(t[i]=n[o]))}function ut(t,n,r){var o;for(var i in n)n.hasOwnProperty(i)&&(e.isPlainObject(o=n[i])?(e.isPlainObject(t[i])||(t[i]={}),e.extend(!0,t[i],o)):t[i]=r&&"data"!==i&&"aaData"!==i&&Array.isArray(o)?o.slice():o);return t}function ct(t,n,r){e(t).on("click.DT",n,function(n){e(t).trigger("blur"),r(n)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),r(e))}).on("selectstart.DT",function(){return!1})}function dt(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function ft(t,n,r,o){var i=[];if(n&&(i=e.map(t[n].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,o)})),null!==r){var a=e.Event(r+".dt");e(t.nTable).trigger(a,o),i.push(a.result)}return i}function ht(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;t>=n&&(t=n-r),t-=t%r,(-1===r||t<0)&&(t=0),e._iDisplayStart=t}function pt(t,n){var r=t.renderer,o=l.ext.renderer[n];return e.isPlainObject(r)&&r[n]?o[r[n]]||o._:"string"==typeof r&&o[r]||o._}function gt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var mt=[],vt=Array.prototype;l.Api=i=function(t,n){if(!(this instanceof i))return new i(t,n);var r=[],o=function(t){var n=function(t){var n,r,o=l.settings,i=e.map(o,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,i))?[o[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?r=e(t):t instanceof e&&(r=t),r?r.map(function(t){return-1!==(n=e.inArray(this,i))?o[n]:null}).toArray():void 0):[]}(t);n&&r.push.apply(r,n)};if(Array.isArray(t))for(var a=0,s=t.length;a<s;a++)o(t[a]);else o(t);this.context=_(r),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},i.extend(this,this,mt)},e.extend(i.prototype,{any:function(){return 0!==this.count()},concat:vt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new i(t[e],this[e]):null},filter:function(e){var t=[];if(vt.filter)t=vt.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new i(this.context,t)},flatten:function(){var e=[];return new i(this.context,e.concat.apply(e,this.toArray()))},join:vt.join,indexOf:vt.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,o){var a,s,l,u,c,d,f,h,p=[],g=this.context,m=this.selector;for("string"==typeof e&&(o=n,n=t,t=e,e=!1),s=0,l=g.length;s<l;s++){var v=new i(g[s]);if("table"===t)(a=n.call(v,g[s],s))!==r&&p.push(a);else if("columns"===t||"rows"===t)(a=n.call(v,g[s],this[s],s))!==r&&p.push(a);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(f=this[s],"column-rows"===t&&(d=kt(g[s],m.opts)),u=0,c=f.length;u<c;u++)h=f[u],(a="cell"===t?n.call(v,g[s],h.row,h.column,s,u):n.call(v,g[s],h,s,u,d))!==r&&p.push(a)}if(p.length||o){var y=new i(g,e?p.concat.apply([],p):p),b=y.selector;return b.rows=m.rows,b.cols=m.cols,b.opts=m.opts,y}return this},lastIndexOf:vt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(vt.map)t=vt.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new i(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:vt.pop,push:vt.push,reduce:vt.reduce||function(e,t){return I(this,e,t,0,this.length,1)},reduceRight:vt.reduceRight||function(e,t){return I(this,e,t,this.length-1,-1,-1)},reverse:vt.reverse,selector:null,shift:vt.shift,slice:function(){return new i(this.context,this)},sort:vt.sort,splice:vt.splice,toArray:function(){return vt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new i(this.context,_(this))},unshift:vt.unshift}),i.extend=function(e,t,n){if(n.length&&t&&(t instanceof i||t.__dt_wrapper)){var r,o,a,s=function(e,t,n){return function(){var r=t.apply(e,arguments);return i.extend(r,r,n.methodExt),r}};for(r=0,o=n.length;r<o;r++)t[(a=n[r]).name]="function"===a.type?s(e,a.val,a):"object"===a.type?{}:a.val,t[a.name].__dt_wrapper=!0,i.extend(e,t[a.name],a.propExt)}},i.register=a=function(t,n){if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i.register(t[r],n);else{var a,s,l,u,c=t.split("."),d=mt,f=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].name===t)return e[n];return null};for(a=0,s=c.length;a<s;a++){var h=f(d,l=(u=-1!==c[a].indexOf("()"))?c[a].replace("()",""):c[a]);h||d.push(h={name:l,val:{},methodExt:[],propExt:[],type:"object"}),a===s-1?(h.val=n,h.type="function"==typeof n?"function":e.isPlainObject(n)?"object":"other"):d=u?h.methodExt:h.propExt}}},i.registerPlural=s=function(e,t,n){i.register(e,n),i.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof i?e.length?Array.isArray(e[0])?new i(e.context,e[0]):e[0]:r:e})};var yt=function(t,n){if(Array.isArray(t))return e.map(t,function(e){return yt(e,n)});if("number"==typeof t)return[n[t]];var r=e.map(n,function(e,t){return e.nTable});return e(r).filter(t).map(function(t){var o=e.inArray(this,r);return n[o]}).toArray()};a("tables()",function(e){return e!==r&&null!==e?new i(yt(e,this.context)):this}),a("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new i(n[0]):t}),s("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),s("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),s("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),s("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),s("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),a("draw()",function(e){return this.iterator("table",function(t){"page"===e?le(t):("string"==typeof e&&(e="full-hold"!==e),ue(t,!1===e))})}),a("page()",function(e){return e===r?this.page.info().page:this.iterator("table",function(t){Me(t,e)})}),a("page.info()",function(e){if(0===this.context.length)return r;var t=this.context[0],n=t._iDisplayStart,o=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),a=-1===o;return{page:a?0:Math.floor(n/o),pages:a?1:Math.ceil(i/o),start:n,end:t.fnDisplayEnd(),length:o,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===gt(t)}}),a("page.len()",function(e){return e===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){Oe(t,e)})});var bt=function(e,t,n){if(n){var r=new i(e);r.one("draw",function(){n(r.ajax.json())})}if("ssp"==gt(e))ue(e,t);else{je(e,!0);var o=e.jqXHR;o&&4!==o.readyState&&o.abort(),he(e,[],function(n){ee(e);for(var r=ve(e,n),o=0,i=r.length;o<i;o++)q(e,r[o]);ue(e,t),je(e,!1)})}};a("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),a("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),a("ajax.reload()",function(e,t){return this.iterator("table",function(n){bt(n,!1===t,e)})}),a("ajax.url()",function(t){var n=this.context;return t===r?0===n.length?r:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),a("ajax.url().load()",function(e,t){return this.iterator("table",function(n){bt(n,!1===t,e)})});var xt=function(e,t,n,i,a){var s,l,u,c,d,f,h=[],p=typeof t;for(t&&"string"!==p&&"function"!==p&&t.length!==r||(t=[t]),u=0,c=t.length;u<c;u++)for(d=0,f=(l=t[u]&&t[u].split&&!t[u].match(/[\[\(:]/)?t[u].split(","):[t[u]]).length;d<f;d++)(s=n("string"==typeof l[d]?l[d].trim():l[d]))&&s.length&&(h=h.concat(s));var g=o.selector[e];if(g.length)for(u=0,c=g.length;u<c;u++)h=g[u](i,a,h);return _(h)},wt=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},Ct=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},kt=function(t,n){var r,o=[],i=t.aiDisplay,a=t.aiDisplayMaster,s=n.search,l=n.order,u=n.page;if("ssp"==gt(t))return"removed"===s?[]:C(0,a.length);if("current"==u)for(d=t._iDisplayStart,f=t.fnDisplayEnd();d<f;d++)o.push(i[d]);else if("current"==l||"applied"==l){if("none"==s)o=a.slice();else if("applied"==s)o=i.slice();else if("removed"==s){for(var c={},d=0,f=i.length;d<f;d++)c[i[d]]=null;o=e.map(a,function(e){return c.hasOwnProperty(e)?null:e})}}else if("index"==l||"original"==l)for(d=0,f=t.aoData.length;d<f;d++)("none"==s||-1===(r=e.inArray(d,i))&&"removed"==s||r>=0&&"applied"==s)&&o.push(d);return o};a("rows()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=wt(n);var o=this.iterator("table",function(o){return function(t,n,o){var i;return xt("row",n,function(n){var a=m(n),s=t.aoData;if(null!==a&&!o)return[a];if(i||(i=kt(t,o)),null!==a&&-1!==e.inArray(a,i))return[a];if(null===n||n===r||""===n)return i;if("function"==typeof n)return e.map(i,function(e){var t=s[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var l=n._DT_RowIndex,u=n._DT_CellIndex;if(l!==r)return s[l]&&s[l].nTr===n?[l]:[];if(u)return s[u.row]&&s[u.row].nTr===n.parentNode?[u.row]:[];var c=e(n).closest("*[data-dt-row]");return c.length?[c.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var d=t.aIds[n.replace(/^#/,"")];if(d!==r)return[d.idx]}var f=k(w(t.aoData,i,"nTr"));return e(f).filter(n).map(function(){return this._DT_RowIndex}).toArray()},t,o)}(o,t,n)},1);return o.selector.rows=t,o.selector.opts=n,o}),a("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||r},1)}),a("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return w(e.aoData,t,"_aData")},1)}),s("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var r=t.aoData[n];return"search"===e?r._aFilterData:r._aSortData},1)}),s("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){ne(t,n,e)})}),s("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),s("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,r=0,o=n.length;r<o;r++)for(var a=0,s=this[r].length;a<s;a++){var l=n[r].rowIdFn(n[r].aoData[this[r][a]]._aData);t.push((!0===e?"#":"")+l)}return new i(n,t)}),s("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,o){var i,a,s,l,u,c,d=t.aoData,f=d[n];for(d.splice(n,1),i=0,a=d.length;i<a;i++)if(c=(u=d[i]).anCells,null!==u.nTr&&(u.nTr._DT_RowIndex=i),null!==c)for(s=0,l=c.length;s<l;s++)c[s]._DT_CellIndex.row=i;te(t.aiDisplayMaster,n),te(t.aiDisplay,n),te(e[o],n,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,ht(t);var h=t.rowIdFn(f._aData);h!==r&&delete t.aIds[h]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),a("rows.add()",function(t){var n=this.iterator("table",function(e){var n,r,o,i=[];for(r=0,o=t.length;r<o;r++)(n=t[r]).nodeName&&"TR"===n.nodeName.toUpperCase()?i.push(W(e,n)[0]):i.push(q(e,n));return i},1),r=this.rows(-1);return r.pop(),e.merge(r,n),r}),a("row()",function(e,t){return Ct(this.rows(e,t))}),a("row().data()",function(e){var t=this.context;if(e===r)return t.length&&this.length?t[0].aoData[this[0]]._aData:r;var n=t[0].aoData[this[0]];return n._aData=e,Array.isArray(e)&&n.nTr&&n.nTr.id&&Z(t[0].rowId)(e,n.nTr.id),ne(t[0],this[0],"data"),this}),a("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),a("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?W(e,t)[0]:q(e,t)});return this.row(n[0])});var St=function(e,t){var n=e.context;if(n.length){var o=n[0].aoData[t!==r?t:e[0]];o&&o._details&&(o._details.remove(),o._detailsShow=r,o._details=r)}},_t=function(e,t){var n=e.context;if(n.length&&e.length){var r=n[0].aoData[e[0]];r._details&&(r._detailsShow=t,t?r._details.insertAfter(r.nTr):r._details.detach(),Tt(n[0]))}},Tt=function(e){var t=new i(e),n=".dt.DT_details",r="draw"+n,o="column-visibility"+n,a="destroy"+n,s=e.aoData;t.off(r+" "+o+" "+a),x(s,"_details").length>0&&(t.on(r,function(n,r){e===r&&t.rows({page:"current"}).eq(0).each(function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(o,function(t,n,r,o){if(e===n)for(var i,a=j(n),l=0,u=s.length;l<u;l++)(i=s[l])._details&&i._details.children("td[colspan]").attr("colspan",a)}),t.on(a,function(n,r){if(e===r)for(var o=0,i=s.length;o<i;o++)s[o]._details&&St(t,o)}))},Et="row().child()";a(Et,function(t,n){var o=this.context;return t===r?o.length&&this.length?o[0].aoData[this[0]]._details:r:(!0===t?this.child.show():!1===t?St(this):o.length&&this.length&&function(t,n,r,o){var i=[],a=function(n,r){if(Array.isArray(n)||n instanceof e)for(var o=0,s=n.length;o<s;o++)a(n[o],r);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())i.push(n);else{var l=e("<tr><td></td></tr>").addClass(r);e("td",l).addClass(r).html(n)[0].colSpan=j(t),i.push(l[0])}};a(r,o),n._details&&n._details.detach(),n._details=e(i),n._detailsShow&&n._details.insertAfter(n.nTr)}(o[0],o[0].aoData[this[0]],t,n),this)}),a(["row().child.show()",Et+".show()"],function(e){return _t(this,!0),this}),a(["row().child.hide()",Et+".hide()"],function(){return _t(this,!1),this}),a(["row().child.remove()",Et+".remove()"],function(){return St(this),this}),a("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var At=/^([^:]+):(name|visIdx|visible)$/,Dt=function(e,t,n,r,o){for(var i=[],a=0,s=o.length;a<s;a++)i.push(V(e,o[a],t));return i};a("columns()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=wt(n);var o=this.iterator("table",function(r){return function(t,n,r){var o=t.aoColumns,i=x(o,"sName"),a=x(o,"nTh");return xt("column",n,function(n){var s=m(n);if(""===n)return C(o.length);if(null!==s)return[s>=0?s:o.length+s];if("function"==typeof n){var l=kt(t,r);return e.map(o,function(e,r){return n(r,Dt(t,r,0,0,l),a[r])?r:null})}var u="string"==typeof n?n.match(At):"";if(u)switch(u[2]){case"visIdx":case"visible":var c=parseInt(u[1],10);if(c<0){var d=e.map(o,function(e,t){return e.bVisible?t:null});return[d[d.length+c]]}return[M(t,c)];case"name":return e.map(i,function(e,t){return e===u[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var f=e(a).filter(n).map(function(){return e.inArray(this,a)}).toArray();if(f.length||!n.nodeName)return f;var h=e(n).closest("*[data-dt-column]");return h.length?[h.data("dt-column")]:[]},t,r)}(r,t,n)},1);return o.selector.cols=t,o.selector.opts=n,o}),s("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),s("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),s("columns().data()","column().data()",function(){return this.iterator("column-rows",Dt,1)}),s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),s("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,r,o,i){return w(t.aoData,i,"search"===e?"_aFilterData":"_aSortData",n)},1)}),s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,r,o){return w(e.aoData,o,"anCells",t)},1)}),s("columns().visible()","column().visible()",function(t,n){var o=this,i=this.iterator("column",function(n,o){if(t===r)return n.aoColumns[o].bVisible;!function(t,n,o){var i,a,s,l,u=t.aoColumns,c=u[n],d=t.aoData;if(o===r)return c.bVisible;if(c.bVisible!==o){if(o){var f=e.inArray(!0,x(u,"bVisible"),n+1);for(a=0,s=d.length;a<s;a++)i=d[a].anCells,(l=d[a].nTr)&&l.insertBefore(i[n],i[f]||null)}else e(x(t.aoData,"anCells",n)).detach();c.bVisible=o}}(n,o,t)});return t!==r&&this.iterator("table",function(i){se(i,i.aoHeader),se(i,i.aoFooter),i.aiDisplay.length||e(i.nTBody).find("td[colspan]").attr("colspan",j(i)),ot(i),o.iterator("column",function(e,r){ft(e,null,"column-visibility",[e,r,t,n])}),(n===r||n)&&o.columns.adjust()}),i}),s("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?$(t,n):n},1)}),a("columns.adjust()",function(){return this.iterator("table",function(e){F(e)},1)}),a("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return M(n,t);if("fromData"===e||"toVisible"===e)return $(n,t)}}),a("column()",function(e,t){return Ct(this.columns(e,t))}),a("cells()",function(t,n,o){if(e.isPlainObject(t)&&(t.row===r?(o=t,t=null):(o=n,n=null)),e.isPlainObject(n)&&(o=n,n=null),null===n||n===r)return this.iterator("table",function(n){return function(t,n,o){var i,a,s,l,u,c,d,f=t.aoData,h=kt(t,o),p=k(w(f,h,"anCells")),g=e(T([],p)),m=t.aoColumns.length;return xt("cell",n,function(n){var o="function"==typeof n;if(null===n||n===r||o){for(a=[],s=0,l=h.length;s<l;s++)for(i=h[s],u=0;u<m;u++)c={row:i,column:u},o?(d=f[i],n(c,V(t,i,u),d.anCells?d.anCells[u]:null)&&a.push(c)):a.push(c);return a}if(e.isPlainObject(n))return n.column!==r&&n.row!==r&&-1!==e.inArray(n.row,h)?[n]:[];var p=g.filter(n).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return p.length||!n.nodeName?p:(d=e(n).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]},t,o)}(n,t,wt(o))});var i,a,s,l,u=o?{page:o.page,order:o.order,search:o.search}:{},c=this.columns(n,u),d=this.rows(t,u),f=this.iterator("table",function(e,t){var n=[];for(i=0,a=d[t].length;i<a;i++)for(s=0,l=c[t].length;s<l;s++)n.push({row:d[t][i],column:c[t][s]});return n},1),h=o&&o.selected?this.cells(f,o):f;return e.extend(h.selector,{cols:n,rows:t,opts:o}),h}),s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var o=e.aoData[t];return o&&o.anCells?o.anCells[n]:r},1)}),a("cells().data()",function(){return this.iterator("cell",function(e,t,n){return V(e,t,n)},1)}),s("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,r){return t.aoData[n][e][r]},1)}),s("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,r){return V(t,n,r,e)},1)}),s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:$(e,n)}},1)}),s("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,r){ne(t,n,e,r)})}),a("cell()",function(e,t,n){return Ct(this.cells(e,t,n))}),a("cell().data()",function(e){var t=this.context,n=this[0];return e===r?t.length&&n.length?V(t[0],n[0].row,n[0].column):r:(G(t[0],n[0].row,n[0].column,e),ne(t[0],n[0].row,"data",n[0].column),this)}),a("order()",function(e,t){var n=this.context;return e===r?0!==n.length?n[0].aaSorting:r:("number"==typeof e?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),a("order.listener()",function(e,t,n){return this.iterator("table",function(r){tt(r,e,t,n)})}),a("order.fixed()",function(t){if(!t){var n=this.context,o=n.length?n[0].aaSortingFixed:r;return Array.isArray(o)?{pre:o}:o}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),a(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(r,o){var i=[];e.each(n[o],function(e,n){i.push([n,t])}),r.aaSorting=i})}),a("search()",function(t,n,o,i){var a=this.context;return t===r?0!==a.length?a[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&be(r,e.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===i||i}),1)})}),s("columns().search()","column().search()",function(t,n,o,i){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(t===r)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===i||i}),be(a,a.oPreviousSearch,1))})}),a("state()",function(){return this.context.length?this.context[0].oSavedState:null}),a("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),a("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),a("state.save()",function(){return this.iterator("table",function(e){ot(e)})}),l.versionCheck=l.fnVersionCheck=function(e){for(var t,n,r=l.version.split("."),o=e.split("."),i=0,a=o.length;i<a;i++)if((t=parseInt(r[i],10)||0)!==(n=parseInt(o[i],10)||0))return t>n;return!0},l.isDataTable=l.fnIsDataTable=function(t){var n=e(t).get(0),r=!1;return t instanceof l.Api||(e.each(l.settings,function(t,o){var i=o.nScrollHead?e("table",o.nScrollHead)[0]:null,a=o.nScrollFoot?e("table",o.nScrollFoot)[0]:null;o.nTable!==n&&i!==n&&a!==n||(r=!0)}),r)},l.tables=l.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var r=e.map(l.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new i(r):r},l.camelToHungarian=A,a("$()",function(t,n){var r=this.rows(n).nodes(),o=e(r);return e([].concat(o.filter(t).toArray(),o.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){a(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var r=e(this.tables().nodes());return r[n].apply(r,t),this})}),a("clear()",function(){return this.iterator("table",function(e){ee(e)})}),a("settings()",function(){return new i(this.context,this.context)}),a("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),a("data()",function(){return this.iterator("table",function(e){return x(e.aoData,"_aData")}).flatten()}),a("destroy()",function(n){return n=n||!1,this.iterator("table",function(r){var o,a=r.nTableWrapper.parentNode,s=r.oClasses,u=r.nTable,c=r.nTBody,d=r.nTHead,f=r.nTFoot,h=e(u),p=e(c),g=e(r.nTableWrapper),m=e.map(r.aoData,function(e){return e.nTr});r.bDestroying=!0,ft(r,"aoDestroyCallback","destroy",[r]),n||new i(r).columns().visible(!0),g.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+r.sInstance),u!=d.parentNode&&(h.children("thead").detach(),h.append(d)),f&&u!=f.parentNode&&(h.children("tfoot").detach(),h.append(f)),r.aaSorting=[],r.aaSortingFixed=[],nt(r),e(m).removeClass(r.asStripeClasses.join(" ")),e("th, td",d).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),p.children().detach(),p.append(m);var v=n?"remove":"detach";h[v](),g[v](),!n&&a&&(a.insertBefore(u,r.nTableReinsertBefore),h.css("width",r.sDestroyWidth).removeClass(s.sTable),(o=r.asDestroyStripes.length)&&p.children().each(function(t){e(this).addClass(r.asDestroyStripes[t%o])}));var y=e.inArray(r,l.settings);-1!==y&&l.settings.splice(y,1)})}),e.each(["column","row","cell"],function(e,t){a(t+"s().every()",function(e){var n=this.selector.opts,o=this;return this.iterator(t,function(i,a,s,l,u){e.call(o[t](a,"cell"===t?s:n,"cell"===t?n:r),a,s,l,u)})})}),a("i18n()",function(t,n,o){var i=this.context[0],a=J(t)(i.oLanguage);return a===r&&(a=n),o!==r&&e.isPlainObject(a)&&(a=a[o]!==r?a[o]:a._),a.replace("%d",o)}),l.version="1.10.23",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},E(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},E(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==gt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==gt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,o=this.oFeatures,i=o.bPaginate;return o.bServerSide?!1===i||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!i||n>r||-1===e?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=o={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},e.extend(o,{afnFiltering:o.search,aTypes:o.type.detect,ofnSearch:o.type.search,oSort:o.type.order,afnSortData:o.order,aoFeatures:o.feature,oApi:o.internal,oStdClasses:o.classes,oPagination:o.pager}),e.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Nt=l.ext.pager;function Rt(e,t){var n=[],r=Nt.numbers_length,o=Math.floor(r/2);return t<=r?n=C(0,t):e<=o?((n=C(0,r-2)).push("ellipsis"),n.push(t-1)):e>=t-1-o?((n=C(t-(r-2),t)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=C(e-o+2,e+o-1)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}e.extend(Nt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Rt(e,t)]},simple_numbers:function(e,t){return["previous",Rt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Rt(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Rt(e,t),"last"]},_numbers:Rt,numbers_length:7}),e.extend(!0,l.ext.renderer,{pageButton:{_:function(t,o,i,a,s,l){var u,c,d,f=t.oClasses,h=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},g=0,m=function(n,r){var o,a,d,v,y=f.sPageButtonDisabled,b=function(e){Me(t,e.data.action,!0)};for(o=0,a=r.length;o<a;o++)if(d=r[o],Array.isArray(d)){var x=e("<"+(d.DT_el||"div")+"/>").appendTo(n);m(x,d)}else{switch(u=null,c=d,v=t.iTabIndex,d){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=h.sFirst,0===s&&(v=-1,c+=" "+y);break;case"previous":u=h.sPrevious,0===s&&(v=-1,c+=" "+y);break;case"next":u=h.sNext,0!==l&&s!==l-1||(v=-1,c+=" "+y);break;case"last":u=h.sLast,0!==l&&s!==l-1||(v=-1,c+=" "+y);break;default:u=t.fnFormatNumber(d+1),c=s===d?f.sPageButtonActive:""}null!==u&&(ct(e("<a>",{class:f.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":p[d],"data-dt-idx":g,tabindex:v,id:0===i&&"string"==typeof d?t.sTableId+"_"+d:null}).html(u).appendTo(n),{action:d},b),g++)}};try{d=e(o).find(n.activeElement).data("dt-idx")}catch(v){}m(e(o).empty(),a),d!==r&&e(o).find("[data-dt-idx="+d+"]").trigger("focus")}}}),e.extend(l.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return y(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!f.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||g(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return b(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return b(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return g(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(l.ext.type.search,{html:function(e){return g(e)?e:"string"==typeof e?e.replace(c," ").replace(d,""):""},string:function(e){return g(e)?e:"string"==typeof e?e.replace(c," "):e}});var Lt=function(e,t,n,r){return 0===e||e&&"-"!==e?(t&&(e=v(e,t)),e.replace&&(n&&(e=e.replace(n,"")),r&&(e=e.replace(r,""))),1*e):-1/0};function Pt(t){e.each({num:function(e){return Lt(e,t)},"num-fmt":function(e){return Lt(e,t,p)},"html-num":function(e){return Lt(e,t,d)},"html-num-fmt":function(e){return Lt(e,t,d,p)}},function(e,n){o.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(o.type.search[e+t]=o.type.search.html)})}e.extend(o.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return g(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return g(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Pt(""),e.extend(!0,l.ext.renderer,{header:{_:function(t,n,r,o){e(t.nTable).on("order.dt.DT",function(e,i,a,s){if(t===i){var l=r.idx;n.removeClass(r.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[l]?o.sSortAsc:"desc"==s[l]?o.sSortDesc:r.sSortingClass)}})},jqueryui:function(t,n,r,o){e("<div/>").addClass(o.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(o.sSortIcon+" "+r.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,i,a,s){if(t===i){var l=r.idx;n.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[l]?o.sSortAsc:"desc"==s[l]?o.sSortDesc:r.sSortingClass),n.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==s[l]?o.sSortJUIAsc:"desc"==s[l]?o.sSortJUIDesc:r.sSortingClassJUI)}})}}});var It=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function Ot(e){return function(){var t=[at(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[e].apply(this,t)}}return l.render={number:function(e,t,n,r,o){return{display:function(i){if("number"!=typeof i&&"string"!=typeof i)return i;var a=i<0?"-":"",s=parseFloat(i);if(isNaN(s))return It(i);s=s.toFixed(n),i=Math.abs(s);var l=parseInt(i,10),u=n?t+(i-l).toFixed(n).substring(2):"";return a+(r||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+u+(o||"")}}},text:function(){return{display:It,filter:It}}},e.extend(l.ext.internal,{_fnExternApiFunc:Ot,_fnBuildAjax:he,_fnAjaxUpdate:pe,_fnAjaxParameters:ge,_fnAjaxUpdateDraw:me,_fnAjaxDataSrc:ve,_fnAddColumn:O,_fnColumnOptions:B,_fnAdjustColumnSizing:F,_fnVisibleToColumnIndex:M,_fnColumnIndexToVisible:$,_fnVisbleColumns:j,_fnGetColumns:H,_fnColumnTypes:z,_fnApplyColumnDefs:U,_fnHungarianMap:E,_fnCamelToHungarian:A,_fnLanguageCompat:D,_fnBrowserDetect:P,_fnAddData:q,_fnAddTr:W,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,r){return e.inArray(r,t.aoData[n].anCells)},_fnGetCellData:V,_fnSetCellData:G,_fnSplitObjNotation:K,_fnGetObjectDataFn:J,_fnSetObjectDataFn:Z,_fnGetDataMaster:Q,_fnClearTable:ee,_fnDeleteIndex:te,_fnInvalidate:ne,_fnGetRowElements:re,_fnCreateTr:oe,_fnBuildHead:ae,_fnDrawHead:se,_fnDraw:le,_fnReDraw:ue,_fnAddOptionsHtml:ce,_fnDetectHeader:de,_fnGetUniqueThs:fe,_fnFeatureHtmlFilter:ye,_fnFilterComplete:be,_fnFilterCustom:xe,_fnFilterColumn:we,_fnFilter:Ce,_fnFilterCreateSearch:ke,_fnEscapeRegex:Se,_fnFilterData:Ee,_fnFeatureHtmlInfo:Ne,_fnUpdateInfo:Re,_fnInfoMacros:Le,_fnInitialise:Pe,_fnInitComplete:Ie,_fnLengthChange:Oe,_fnFeatureHtmlLength:Be,_fnFeatureHtmlPaginate:Fe,_fnPageChange:Me,_fnFeatureHtmlProcessing:$e,_fnProcessingDisplay:je,_fnFeatureHtmlTable:He,_fnScrollDraw:ze,_fnApplyToChildren:Ue,_fnCalculateColumnWidths:We,_fnThrottle:Ve,_fnConvertToWidth:Ge,_fnGetWidestNode:Xe,_fnGetMaxLenString:Ye,_fnStringToCss:Ke,_fnSortFlatten:Je,_fnSort:Ze,_fnSortAria:Qe,_fnSortListener:et,_fnSortAttachListener:tt,_fnSortingClasses:nt,_fnSortData:rt,_fnSaveState:ot,_fnLoadState:it,_fnSettingsFromNode:at,_fnLog:st,_fnMap:lt,_fnBindAction:ct,_fnCallbackReg:dt,_fnCallbackFire:ft,_fnLengthOverflow:ht,_fnRenderer:pt,_fnDataSource:gt,_fnRowAttributes:ie,_fnExtend:ut,_fnCalculateEnd:function(){}}),e.fn.dataTable=l,l.$=e,e.fn.dataTableSettings=l.settings,e.fn.dataTableExt=l.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(l,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable});